{"abi":[{"type":"constructor","inputs":[{"name":"_weth","type":"address","internalType":"address"},{"name":"_insuranceFund","type":"address","internalType":"address"},{"name":"_positionManager","type":"address","internalType":"address"},{"name":"_positionMerger","type":"address","internalType":"address"},{"name":"_deleverager","type":"address","internalType":"address"},{"name":"_orderCreator","type":"address","internalType":"address"},{"name":"_whitelist","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"addLiquidity","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"data","type":"tuple[]","internalType":"struct LiquidityAddData[]","components":[{"name":"index","type":"uint256","internalType":"uint256"},{"name":"margin","type":"uint256","internalType":"uint256"},{"name":"leverage","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"returnData","type":"tuple[]","internalType":"struct LiquidityAddReturnData[]","components":[{"name":"pool","type":"address","internalType":"contract IPool"},{"name":"shares","type":"uint256","internalType":"uint256"},{"name":"quote","type":"uint256","internalType":"uint256"},{"name":"base","type":"uint256","internalType":"uint256"}]}],"stateMutability":"nonpayable"},{"type":"function","name":"addMargin","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"margin","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"cancelOwnershipHandover","inputs":[],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"closePosition","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"size","type":"uint256","internalType":"uint256"},{"name":"quoteLimit","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"quoteAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"closePositionKeeper","inputs":[{"name":"id","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"quoteAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"completeOwnershipHandover","inputs":[{"name":"pendingOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"createLimitOrder","inputs":[{"name":"order","type":"tuple","internalType":"struct LimitOrder","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"side","type":"uint8","internalType":"enum Side"},{"name":"trigger","type":"uint256","internalType":"uint256"},{"name":"quoteAmount","type":"uint256","internalType":"uint256"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"reduceOnly","type":"bool","internalType":"bool"}]}],"outputs":[{"name":"id","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"createLimitOrderBatch","inputs":[{"name":"_orders","type":"tuple[]","internalType":"struct LimitOrder[]","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"side","type":"uint8","internalType":"enum Side"},{"name":"trigger","type":"uint256","internalType":"uint256"},{"name":"quoteAmount","type":"uint256","internalType":"uint256"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"reduceOnly","type":"bool","internalType":"bool"}]}],"outputs":[{"name":"ids","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"nonpayable"},{"type":"function","name":"createTriggerOrder","inputs":[{"name":"order","type":"tuple","internalType":"struct TriggerOrder","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"trigger","type":"uint256","internalType":"uint256"},{"name":"size","type":"uint256","internalType":"uint256"},{"name":"quoteLimit","type":"uint256","internalType":"uint256"},{"name":"takeProfit","type":"bool","internalType":"bool"}]}],"outputs":[{"name":"id","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"deleteLimitOrder","inputs":[{"name":"id","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"deleteLimitOrderBatch","inputs":[{"name":"ids","type":"uint256[]","internalType":"uint256[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"deleteTriggerOrder","inputs":[{"name":"id","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"deleverage","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"taker","type":"address","internalType":"address"},{"name":"maker","type":"address","internalType":"address"},{"name":"size","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getCumulativePremiumFraction","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"}],"outputs":[{"name":"","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"getDivergenceCap","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getFreeCollateral","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"trader","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"int256","internalType":"int256"}],"stateMutability":"nonpayable"},{"type":"function","name":"getLimitOrder","inputs":[{"name":"id","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple","internalType":"struct LimitOrder","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"side","type":"uint8","internalType":"enum Side"},{"name":"trigger","type":"uint256","internalType":"uint256"},{"name":"quoteAmount","type":"uint256","internalType":"uint256"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"reduceOnly","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"getMinOrderbookMargin","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getOpenInterestNotional","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPosition","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"trader","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"tuple","internalType":"struct Position","components":[{"name":"size","type":"int256","internalType":"int256"},{"name":"margin","type":"uint256","internalType":"uint256"},{"name":"openNotional","type":"uint256","internalType":"uint256"},{"name":"lastPremiumFraction","type":"int256","internalType":"int256"},{"name":"blockNumber","type":"uint256","internalType":"uint256"}]}],"stateMutability":"view"},{"type":"function","name":"getPositionNotionalUpnl","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"trader","type":"address","internalType":"address"}],"outputs":[{"name":"positionNotional","type":"uint256","internalType":"uint256"},{"name":"upnl","type":"int256","internalType":"int256"}],"stateMutability":"nonpayable"},{"type":"function","name":"getReduceOnlyOrders","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"}],"outputs":[{"name":"","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"view"},{"type":"function","name":"getTotalPositionSize","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"}],"outputs":[{"name":"","type":"tuple","internalType":"struct TotalPositionSize","components":[{"name":"netPositionSize","type":"int256","internalType":"int256"},{"name":"positionSizeLong","type":"uint256","internalType":"uint256"},{"name":"positionSizeShort","type":"uint256","internalType":"uint256"}]}],"stateMutability":"view"},{"type":"function","name":"getTriggerOrder","inputs":[{"name":"id","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple","internalType":"struct TriggerOrder","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"trigger","type":"uint256","internalType":"uint256"},{"name":"size","type":"uint256","internalType":"uint256"},{"name":"quoteLimit","type":"uint256","internalType":"uint256"},{"name":"takeProfit","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"getTriggerOrders","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"}],"outputs":[{"name":"","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"view"},{"type":"function","name":"getValidAMM","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"initialize","inputs":[{"name":"_owner","type":"address","internalType":"address"},{"name":"_divergenceCap","type":"uint256","internalType":"uint256"},{"name":"_minOrderbookMargin","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"isActive","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isLiquidatable","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"trader","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isTriggerOrderValid","inputs":[{"name":"id","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"liquidate","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"size","type":"uint256","internalType":"uint256"},{"name":"liquidatee","type":"address","internalType":"address"},{"name":"margin","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"liquidateMaker","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"liquidatee","type":"address","internalType":"address"},{"name":"margin","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"openPosition","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"side","type":"uint8","internalType":"enum Side"},{"name":"quote","type":"uint256","internalType":"uint256"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"baseLimit","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"baseAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"result","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"ownershipHandoverExpiresAt","inputs":[{"name":"pendingOwner","type":"address","internalType":"address"}],"outputs":[{"name":"result","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"removeLiquidity","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"data","type":"tuple[]","internalType":"struct LiquidityRemoveData[]","components":[{"name":"index","type":"uint256","internalType":"uint256"},{"name":"shares","type":"uint256","internalType":"uint256"}]},{"name":"addedMargin","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"removeMargin","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"margin","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"requestOwnershipHandover","inputs":[],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"setActive","inputs":[{"name":"_active","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setDivergenceCap","inputs":[{"name":"_divergenceCap","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setMinOrderbookMargin","inputs":[{"name":"minMargin","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setValidAMM","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"valid","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"settleFunding","inputs":[{"name":"amm","type":"address","internalType":"contract IRouter"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"updateLimitOrder","inputs":[{"name":"id","type":"uint256","internalType":"uint256"},{"name":"order","type":"tuple","internalType":"struct LimitOrder","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"side","type":"uint8","internalType":"enum Side"},{"name":"trigger","type":"uint256","internalType":"uint256"},{"name":"quoteAmount","type":"uint256","internalType":"uint256"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"reduceOnly","type":"bool","internalType":"bool"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateLimitOrderBatch","inputs":[{"name":"ids","type":"uint256[]","internalType":"uint256[]"},{"name":"_orders","type":"tuple[]","internalType":"struct LimitOrder[]","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"side","type":"uint8","internalType":"enum Side"},{"name":"trigger","type":"uint256","internalType":"uint256"},{"name":"quoteAmount","type":"uint256","internalType":"uint256"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"reduceOnly","type":"bool","internalType":"bool"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateTriggerOrder","inputs":[{"name":"id","type":"uint256","internalType":"uint256"},{"name":"order","type":"tuple","internalType":"struct TriggerOrder","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"trigger","type":"uint256","internalType":"uint256"},{"name":"size","type":"uint256","internalType":"uint256"},{"name":"quoteLimit","type":"uint256","internalType":"uint256"},{"name":"takeProfit","type":"bool","internalType":"bool"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"AMMInvalidated","inputs":[{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"}],"anonymous":false},{"type":"event","name":"AMMValidated","inputs":[{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"}],"anonymous":false},{"type":"event","name":"Activated","inputs":[],"anonymous":false},{"type":"event","name":"Deactivated","inputs":[],"anonymous":false},{"type":"event","name":"DivergenceCapChanged","inputs":[{"name":"divergenceCap","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"FeeDistributed","inputs":[{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"payer","type":"address","indexed":true,"internalType":"address"},{"name":"receiver","type":"address","indexed":true,"internalType":"address"},{"name":"id","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"feeType","type":"uint8","indexed":false,"internalType":"enum FeeType"}],"anonymous":false},{"type":"event","name":"FundingSettled","inputs":[{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"markPrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"indexPrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"premiumFraction","type":"int256","indexed":false,"internalType":"int256"}],"anonymous":false},{"type":"event","name":"Initialized","inputs":[{"name":"version","type":"uint8","indexed":false,"internalType":"uint8"}],"anonymous":false},{"type":"event","name":"LimitOrderRemoved","inputs":[{"name":"id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"result","type":"uint8","indexed":false,"internalType":"enum LimitOrderResult"}],"anonymous":false},{"type":"event","name":"LimitOrderUpdated","inputs":[{"name":"id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"order","type":"tuple","indexed":false,"internalType":"struct LimitOrder","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"side","type":"uint8","internalType":"enum Side"},{"name":"trigger","type":"uint256","internalType":"uint256"},{"name":"quoteAmount","type":"uint256","internalType":"uint256"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"reduceOnly","type":"bool","internalType":"bool"}]}],"anonymous":false},{"type":"event","name":"LiquidityAdded","inputs":[{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"maker","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"LiquidityRemoved","inputs":[{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"trader","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"MarginAdded","inputs":[{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"MarginRemoved","inputs":[{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"MinOrderbookMarginChanged","inputs":[{"name":"minOrderbookMargin","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OpenInterestChanged","inputs":[{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"newOpenInterest","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OwnershipHandoverCanceled","inputs":[{"name":"pendingOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"OwnershipHandoverRequested","inputs":[{"name":"pendingOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"oldOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"PositionChanged","inputs":[{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"margin","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"size","type":"int256","indexed":false,"internalType":"int256"},{"name":"openNotional","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"exchangedQuote","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"exchangedBase","type":"int256","indexed":false,"internalType":"int256"},{"name":"realizedPnL","type":"int256","indexed":false,"internalType":"int256"},{"name":"fundingPayment","type":"int256","indexed":false,"internalType":"int256"},{"name":"markPrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"tradeType","type":"uint8","indexed":false,"internalType":"enum TradeType"}],"anonymous":false},{"type":"event","name":"TriggerOrderRemoved","inputs":[{"name":"id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"keeper","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"TriggerOrderUpdated","inputs":[{"name":"id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"amm","type":"address","indexed":true,"internalType":"contract IRouter"},{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"order","type":"tuple","indexed":false,"internalType":"struct TriggerOrder","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"amm","type":"address","internalType":"contract IRouter"},{"name":"trigger","type":"uint256","internalType":"uint256"},{"name":"size","type":"uint256","internalType":"uint256"},{"name":"quoteLimit","type":"uint256","internalType":"uint256"},{"name":"takeProfit","type":"bool","internalType":"bool"}]}],"anonymous":false},{"type":"error","name":"AMM_IS_ACTIVE","inputs":[]},{"type":"error","name":"AlreadyInitialized","inputs":[]},{"type":"error","name":"BAD_DEBT","inputs":[]},{"type":"error","name":"INACTIVE","inputs":[]},{"type":"error","name":"INSUFFICIENT_LIQUIDITY","inputs":[]},{"type":"error","name":"INSUFFICIENT_MARGIN","inputs":[]},{"type":"error","name":"INSUFFICIENT_OPEN_NOTIONAL","inputs":[]},{"type":"error","name":"INSUFFICIENT_SIZE","inputs":[]},{"type":"error","name":"INVALID_AMM","inputs":[]},{"type":"error","name":"INVALID_SIDE","inputs":[]},{"type":"error","name":"INVALID_TRIGGER_AMOUNT","inputs":[]},{"type":"error","name":"LIQUIDATABLE","inputs":[]},{"type":"error","name":"NOT_LIMIT_CLOSE","inputs":[]},{"type":"error","name":"NOT_LIQUIDATABLE","inputs":[]},{"type":"error","name":"NOT_REDUCE_ONLY","inputs":[]},{"type":"error","name":"NOT_TRADER","inputs":[]},{"type":"error","name":"NO_POOL_IN_RANGE","inputs":[]},{"type":"error","name":"NO_POSITION","inputs":[]},{"type":"error","name":"NewOwnerIsZeroAddress","inputs":[]},{"type":"error","name":"NoHandoverRequest","inputs":[]},{"type":"error","name":"OPEN_INTEREST_CAP_EXCEEDED","inputs":[]},{"type":"error","name":"OVER_DIVERGENCE_CAP","inputs":[]},{"type":"error","name":"OVER_MAX_LEVERAGE","inputs":[]},{"type":"error","name":"OVER_MAX_SIZE","inputs":[]},{"type":"error","name":"POSITION_ON_WRONG_SIDE","inputs":[]},{"type":"error","name":"SANDWICH","inputs":[]},{"type":"error","name":"TRIGGER_INVALID","inputs":[]},{"type":"error","name":"TRIGGER_ON_MARK","inputs":[]},{"type":"error","name":"Unauthorized","inputs":[]}],"bytecode":{"object":"0x6101606040523480156200001257600080fd5b5060405162004b0538038062004b0583398101604081905262000035916200015e565b6001600160a01b038088166080528681166101205285811660a05284811660c05283811660e052828116610100528116610140526200007362000080565b50505050505050620001f3565b604154610100900460ff1615620000ed5760405162461bcd60e51b815260206004820152602760248201527f496e697469616c697a61626c653a20636f6e747261637420697320696e697469604482015266616c697a696e6760c81b606482015260840160405180910390fd5b60415460ff908116146200013f576041805460ff191660ff9081179091556040519081527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b565b80516001600160a01b03811681146200015957600080fd5b919050565b600080600080600080600060e0888a0312156200017a57600080fd5b620001858862000141565b9650620001956020890162000141565b9550620001a56040890162000141565b9450620001b56060890162000141565b9350620001c56080890162000141565b9250620001d560a0890162000141565b9150620001e560c0890162000141565b905092959891949750929550565b60805160a05160c05160e0516101005161012051610140516148016200030460003960008181610f8601528181610fca0152818161171b0152818161175f015281816119380152818161197c01528181611aae01528181611af201528181611eab01528181611eef015281816125f7015261263b0152600061168b015260008181610a7a0152818161107e015281816111e8015281816113bc015261215b01526000610e6b0152600081816109da015281816118fd01528181611c34015261238f015260008181610d500152611fd00152600081816116690152818161185d01528181611ba301528181611e320152818161206a015281816122f2015281816123c8015261273601526148016000f3fe6080604052600436106102235760003560e01c80630e86a08d1461022857806313dee2d114610262578063207b5b6f1461028457806322f3e2d4146102a457806323c16e22146102ce57806325692962146102fc57806325a208a2146103045780632a120de41461032457806333d3bd301461034457806336cef3d9146103645780633966a28b14610472578063429e9237146104925780634a6ebce7146104c85780634fa9c4db146104f5578063517237a914610515578063530610261461053557806354b85a3e1461056257806354d1f13d146105825780635ac3b62d1461058a57806368d852971461059f5780636b17ad03146105bf5780636ea41e40146105df578063715018a61461061557806373af02051461061d5780637a1ac61e1461063d5780637aefce971461065d5780637eb024061461067d5780638da5cb5b1461069d5780639457be23146106bf578063987362da146106df5780639dda4e4f146106f4578063acec338a1461072d578063b33dc1901461074d578063b959d6951461077a578063cbb50e611461079a578063cf70cb69146107ba578063d2435052146107da578063da8c7e40146107fa578063db1b5c971461081a578063dd2a65ed1461083a578063e30467701461085a578063e859f3721461087a578063e980e16e1461089a578063efdb9423146108dc578063f04e283e14610909578063f2fde38b1461091c578063f8b6e4491461092f578063fee81cf41461094f575b600080fd5b34801561023457600080fd5b50610248610243366004613770565b610982565b604080519283526020830191909152015b60405180910390f35b34801561026e57600080fd5b5061028261027d3660046137f4565b610a22565b005b34801561029057600080fd5b5061028261029f36600461389b565b610aa7565b3480156102b057600080fd5b5060415462010000900460ff165b6040519015158152602001610259565b3480156102da57600080fd5b506102ee6102e93660046138c9565b610bd6565b604051908152602001610259565b610282610da7565b34801561031057600080fd5b5061028261031f3660046138e2565b610df6565b34801561033057600080fd5b5061028261033f366004613a54565b610e91565b34801561035057600080fd5b506102ee61035f366004613770565b610f47565b34801561037057600080fd5b5061041b61037f3660046138c9565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a0810191909152506000908152600b6020908152604091829020825160c08101845281546001600160a01b03908116825260018301541692810192909252600281015492820192909252600382015460608201526004820154608082015260059091015460ff16151560a082015290565b604051610259919081516001600160a01b0390811682526020808401519091169082015260408083015190820152606080830151908201526080808301519082015260a09182015115159181019190915260c00190565b34801561047e57600080fd5b506102be61048d366004613770565b610f65565b34801561049e57600080fd5b506102ee6104ad366004613a82565b6001600160a01b031660009081526006602052604090205490565b3480156104d457600080fd5b506104e86104e3366004613a9f565b610f7a565b6040516102599190613b0f565b34801561050157600080fd5b506102ee610510366004613b22565b6110c2565b34801561052157600080fd5b50610282610530366004613b7a565b611196565b34801561054157600080fd5b506105556105503660046138c9565b61120e565b6040516102599190613c97565b34801561056e57600080fd5b506104e861057d366004613770565b6112ba565b610282611333565b34801561059657600080fd5b50600d546102ee565b3480156105ab57600080fd5b506102ee6105ba366004613cbd565b61136f565b3480156105cb57600080fd5b506102826105da366004613a82565b6113f8565b3480156105eb57600080fd5b506102ee6105fa366004613a82565b6001600160a01b031660009081526004602052604090205490565b610282611505565b34801561062957600080fd5b506104e8610638366004613770565b611519565b34801561064957600080fd5b50610282610658366004613b22565b611590565b34801561066957600080fd5b50610282610678366004613cd9565b611711565b34801561068957600080fd5b506102ee610698366004613d1a565b61192c565b3480156106a957600080fd5b506106b2611a9a565b6040516102599190613d2c565b3480156106cb57600080fd5b506102826106da366004613d40565b611aa4565b3480156106eb57600080fd5b50600e546102ee565b34801561070057600080fd5b506102be61070f366004613a82565b6001600160a01b031660009081526003602052604090205460ff1690565b34801561073957600080fd5b50610282610748366004613d78565b611c62565b34801561075957600080fd5b5061076d610768366004613770565b611ce3565b6040516102599190613dc5565b34801561078657600080fd5b50610282610795366004613dd3565b611cf5565b3480156107a657600080fd5b506102ee6107b5366004613dff565b611e9f565b3480156107c657600080fd5b506102826107d5366004613dd3565b612021565b3480156107e657600080fd5b506102826107f5366004613e4e565b61210f565b34801561080657600080fd5b506102826108153660046138c9565b612186565b34801561082657600080fd5b50610282610835366004613e72565b612248565b34801561084657600080fd5b506102be6108553660046138c9565b61242e565b34801561086657600080fd5b506102826108753660046138c9565b6124e1565b34801561088657600080fd5b506102826108953660046138c9565b612525565b3480156108a657600080fd5b506108ba6108b5366004613a82565b612585565b6040805182518152602080840151908201529181015190820152606001610259565b3480156108e857600080fd5b506108fc6108f7366004613eff565b6125eb565b6040516102599190613f86565b610282610917366004613a82565b61279c565b61028261092a366004613a82565b6127d9565b34801561093b57600080fd5b5061028261094a3660046138c9565b612800565b34801561095b57600080fd5b506102ee61096a366004613a82565b63389a75e1600c908152600091909152602090205490565b6000806000610a0085610995878761283d565b6040516024016109a6929190613ff3565b60408051601f198184030181529190526020810180516001600160e01b03166334fccb6d60e21b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b905080806020019051810190610a169190614010565b90969095509350505050565b610a2a6128cd565b610aa03385858585604051602401610a469594939291906140d8565b60408051601f198184030181529190526020810180516001600160e01b031663e98143ad60e01b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b5050505050565b610aaf6128f6565b80158015610b1a5750816001600160a01b03166322f3e2d46040518163ffffffff1660e01b8152600401602060405180830381865afa158015610af6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b1a919061413b565b15610b385760405163cdd8a30360e01b815260040160405180910390fd5b6001600160a01b0382166000908152600360205260409020805460ff19168215801591909117909155610b9d576040516001600160a01b038316907fe541249509232f3b648c653a6759a750d245da1a7b3e0b3878d4b5d3f4fcec1190600090a25050565b6040516001600160a01b038316907f0cf3718d7b5134fb0be63caea34ab4b8e6f19d5b5c3c4f7b4cfb00db821204ae90600090a25b5050565b6000610be06128cd565b6000828152600b6020908152604091829020825160c08101845281546001600160a01b03908116825260018301541692810183905260028201549381019390935260038101546060840152600481015460808401526005015460ff16151560a0830152610c4c90612911565b610c5e8160200151826000015161294a565b6000610c7282602001518360000151612977565b90506000610c7f826129be565b9050610caa836020015160008413610c98576001610c9b565b60005b85604001518660a001516129cd565b8083606001511115610cbe57606083018190525b6000808313610cce576000610cd1565b60015b9050610ce78460200151878660000151336129f6565b8351602085015160608601516080870151604051600094610d7694610d1c94919390928892919033908b841490602401614158565b60408051601f198184030181529190526020810180516001600160e01b0316637b9db48760e11b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b9050610d86856020015183612c32565b80806020019051810190610d9a91906141a8565b955050505050505b919050565b60006202a3006001600160401b03164201905063389a75e1600c5233600052806020600c2055337fdbf36a107da19e49527a7176a1babf963b4b0ff8cde35ee35d6cd8f1f9ac7e1d600080a250565b610dfe6128f6565b610e0784612911565b6040516001600160a01b03808616602483015280851660448301528316606482015260848101829052610aa09060a40160408051601f198184030181529190526020810180516001600160e01b03166312d1045160e11b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b610e996128cd565b604080516001808252818301909252600091816020015b610eb86136bf565b815260200190600190039081610eb057505060408051600180825281830190925291925060009190602080830190803683370190505090508282600081518110610f0457610f046141c1565b60200260200101819052508381600081518110610f2357610f236141c1565b602002602001018181525050610aa0338284604051602401610a4693929190614211565b6000610f5c83610f57858561283d565b612d88565b90505b92915050565b6000610f5c83610f75858561283d565b612ea2565b6060610f846128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03161561103057604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc690610fff903390600401613d2c565b60006040518083038186803b15801561101757600080fd5b505afa15801561102b573d6000803e3d6000fd5b505050505b60006110a433858560405160240161104a93929190614247565b60408051601f198184030181529190526020810180516001600160e01b0316638b69f89760e01b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b9050808060200190518101906110ba9190614275565b949350505050565b60006110cc6128cd565b6110d584612911565b6110df843361294a565b60006110eb8533612977565b905060006110f8826129be565b90508085111561111b57604051631eab837160e11b815260040160405180910390fd5b8460000361112e5760009250505061118f565b600080831361113e576000611141565b60015b905060006111683389848a8a6000898e14604051602401610d1c9796959493929190614158565b90506111748883612c32565b8080602001905181019061118891906141a8565b9450505050505b9392505050565b61119e6128cd565b610bd233826040516024016111b49291906142fa565b60408051601f198184030181529190526020810180516001600160e01b0316637d5eb41f60e01b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b6112166136bf565b6000828152600a6020908152604091829020825160e08101845281546001600160a01b039081168252600180840154918216948301949094529093919291840191600160a01b90910460ff169081111561127257611272613c04565b600181111561128357611283613c04565b815260028201546020820152600382015460408201526004820154606082015260059091015460ff16151560809091015292915050565b6001600160a01b03808316600090815260096020908152604080832093851683529281529082902080548351818402810184019094528084526060939283018282801561132657602002820191906000526020600020905b815481526020019060010190808311611312575b5050505050905092915050565b63389a75e1600c523360005260006020600c2055337ffa7b8eab7da67f412cc9575ed43464468f9bfbae89d1675917346ca6d8fe3c92600080a2565b6000806113e28333604051602401611388929190614384565b60408051601f198184030181529190526020810180516001600160e01b0316631da5734360e21b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b90508080602001905181019061118f91906141a8565b6114006128cd565b61140981612911565b6000806000836001600160a01b031663ed83d79c6040518163ffffffff1660e01b81526004016060604051808303816000875af115801561144e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061147291906143aa565b6001600160a01b038716600090815260046020526040902054929550909350915061149d84826143ee565b6001600160a01b0386166000818152600460209081526040918290208490558151878152908101869052908101839052919250907fbfed1e6debfebfaef8f787a2e2c506676d0e9e9f06d217ef82d090151af844e89060600160405180910390a25050505050565b61150d6128f6565b6115176000612fdf565b565b6001600160a01b0380831660009081526008602090815260408083209385168352928152908290208054835181840281018401909452808452606093928301828280156113265760200282019190600052602060002090815481526020019060010190808311611312575050505050905092915050565b604154610100900460ff16158080156115b05750604154600160ff909116105b806115d157506115bf3061300b565b1580156115d1575060415460ff166001145b6116395760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201526d191e481a5b9a5d1a585b1a5e995960921b60648201526084015b60405180910390fd5b6041805460ff19166001179055801561165c576041805461ff0019166101001790555b6116b26001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000167f000000000000000000000000000000000000000000000000000000000000000060001961301a565b600d839055600e8290556116c584613060565b801561170b576041805461ff0019169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b50505050565b6117196128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316156117c557604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc690611794903390600401613d2c565b60006040518083038186803b1580156117ac57600080fd5b505afa1580156117c0573d6000803e3d6000fd5b505050505b6117ce83612911565b6000806000856001600160a01b0316631bde66e7866040518263ffffffff1660e01b81526004016117ff9190613d2c565b6060604051808303816000875af115801561181e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061184291906143aa565b92509250925083600014611885576118856001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633308761308a565b6040516001600160a01b038088166024830152336044830152861660648201526084810184905260a4810183905260c4810182905260e48101859052611923906101040160408051601f198184030181529190526020810180516001600160e01b0316631fe05b1760e11b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b50505050505050565b60006119366128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316156119e257604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc6906119b1903390600401613d2c565b60006040518083038186803b1580156119c957600080fd5b505afa1580156119dd573d6000803e3d6000fd5b505050505b604080516001808252818301909252600091816020015b611a016136bf565b8152602001906001900390816119f9579050509050611a2536849003840184614416565b81600081518110611a3857611a386141c1565b60200260200101819052506000611a5b338360405160240161104a929190614432565b9050600081806020019051810190611a739190614275565b905080600081518110611a8857611a886141c1565b60200260200101519350505050919050565b638b78c6d8195490565b611aac6128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031615611b5857604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc690611b27903390600401613d2c565b60006040518083038186803b158015611b3f57600080fd5b505afa158015611b53573d6000803e3d6000fd5b505050505b611b6184612911565b6000611b6d858461283d565b9050611b798582612ea2565b611b9657604051633da1f7d160e11b815260040160405180910390fd5b611bcb6001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633308561308a565b6040516001600160a01b038087166024830152841660448201523360648201526084810185905260a48101839052611c5a9060c40160408051601f198184030181529190526020810180516001600160e01b0316636f70e66f60e01b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b505050505050565b611c6a6128f6565b6041805482158015620100000262ff00001990921691909117909155611cb6576040517fed1cd0670ee0c0017f550451a038818c696d0b6a9d6ce5b369e44275573cf9b090600090a150565b6040517f1142a68cc39970640eb3524e77b91f78be21abc64f20f5919387eb46699bb77290600090a15b50565b611ceb6136fe565b610f5c838361283d565b611cfd6128cd565b611d0682612911565b6001600160a01b0382166000908152602081815260408083203384528252808320815160a081018352815481526001820154938101849052600282015492810192909252600381015460608301526004015460808201529103611d7c57604051631d5fdf4760e11b815260040160405180910390fd5b6000611d9b8483611d9686670de0b6b3a763ffff196130de565b61312b565b90508060400151600014611dc257604051632c7c1d6360e11b815260040160405180910390fd5b6060808201516020840152815190830152611ddd8483613220565b6001600160a01b038085166000908152602081815260408083203380855290835292819020865181559186015160018301558501516002820155606085015160038201556080850151600490910155611e59917f000000000000000000000000000000000000000000000000000000000000000016908561324b565b60405183815233906001600160a01b038616907fb0fa03f93c852a6feaaeb34ccf4cf865cc223c4cc9d25dce28a9131fde2710719060200160405180910390a350505050565b6000611ea96128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031615611f5557604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc690611f24903390600401613d2c565b60006040518083038186803b158015611f3c57600080fd5b505afa158015611f50573d6000803e3d6000fd5b505050505b611f5e86612911565b611f68863361294a565b611f7c8685611f778187613287565b61329c565b6000611ff6338888888888604051602401611f9c96959493929190614456565b60408051601f198184030181529190526020810180516001600160e01b03166310faff9560e31b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b90506120028787612c32565b8080602001905181019061201691906141a8565b979650505050505050565b6120296128cd565b61203282612911565b61203c823361283d565b5160000361205d57604051631d5fdf4760e11b815260040160405180910390fd5b6120926001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633308461308a565b6001600160a01b038216600090815260208181526040808320338452909152812060010180548392906120c6908490614498565b909155505060405181815233906001600160a01b038416907f05c2d01f05f37971d15b22586be2f1933a1ae8c0079a056a430b4391550ffb2d9060200160405180910390a35050565b612181828233604051602401612127939291906144ab565b60408051601f198184030181529190526020810180516001600160e01b03166312fd759760e11b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b505050565b6000818152600b6020908152604091829020825160c08101845281546001600160a01b0390811680835260018401549091169382019390935260028201549381019390935260038101546060840152600481015460808401526005015460ff16151560a0830152331480159061221557506121ff611a9a565b6001600160a01b0316336001600160a01b031614155b15612233576040516342f062b760e01b815260040160405180910390fd5b610bd2816020015183836000015160006129f6565b6122506128cd565b61225984612911565b6000806000866001600160a01b031663f39508f83388886040518463ffffffff1660e01b815260040161228e939291906144d9565b6060604051808303816000875af11580156122ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122d191906143aa565b925092509250826000146123bb57831561231a5761231a6001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633308761308a565b6123b587336123298785614498565b6040516001600160a01b03938416602482015292909116604483015260648201526084810185905260a4810184905260c40160408051601f198184030181529190526020810180516001600160e01b0316636e6f167560e01b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b506123ef565b6123ef6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016338361324b565b60405133906001600160a01b038916907fd04e6350fe09fd82d32a2e9549de19274bab2fafa4013189498798d981a763e790600090a350505050505050565b6000818152600b60209081526040808320815160c08101835281546001600160a01b039081168083526001840154909116948201859052600283015493820193909352600382015460608201526004820154608082015260059091015460ff16151560a08201529183916124a2919061283d565b51905060008190036124b8575060009392505050565b6110ba8260200151600083136124cf5760016124d2565b60005b84604001518560a00151613331565b6124e96128f6565b600e8190556040518181527f577724f96ac2a3cf85a2f91a90bfb1e890d4604525edcfeaaad826163fe9a1a9906020015b60405180910390a150565b61252d6128cd565b604080516001808252818301909252600091602080830190803683370190505090508181600081518110612563576125636141c1565b60200260200101818152505061218133826040516024016111b49291906142fa565b6125a960405180606001604052806000815260200160008152602001600081525090565b506001600160a01b0316600090815260056020908152604091829020825160608101845281548152600182015492810192909252600201549181019190915290565b60606125f56128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316156126a157604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc690612670903390600401613d2c565b60006040518083038186803b15801561268857600080fd5b505afa15801561269c573d6000803e3d6000fd5b505050505b6126aa84612911565b60405163efdb942360e01b81526000906001600160a01b0386169063efdb9423906126dd90339088908890600401614532565b6000604051808303816000875af11580156126fc573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526127249190810190614596565b909250905061275e6001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633308461308a565b60405133906001600160a01b038716907f99e877011be95eb42bf6be0d3db080f9a2f0256536d7713ce401a3c971e0527e90600090a3509392505050565b6127a46128f6565b63389a75e1600c52806000526020600c2080544211156127cc57636f5e88186000526004601cfd5b60009055611ce081612fdf565b6127e16128f6565b8060601b6127f757637448fbae6000526004601cfd5b611ce081612fdf565b6128086128f6565b600d8190556040518181527fc207d9444020fb76b81600635e7137d0a86fc95b69e50b1c84197ea18127d6069060200161251a565b6128456136fe565b506001600160a01b03918216600090815260208181526040808320939094168252918252829020825160a0810184528154815260018201549281019290925260028101549282019290925260038201546060820152600490910154608082015290565b6060610f5c83836040518060600160405280602781526020016147a5602791396133e9565b60415462010000900460ff1661151757604051637dc579d960e11b815260040160405180910390fd5b638b78c6d819543314611517576382b429006000526004601cfd5b6001600160a01b03811660009081526003602052604090205460ff16611ce0576040516304c1bb0360e11b815260040160405180910390fd5b612954828261283d565b608001514303610bd25760405163fd4b12b160e01b815260040160405180910390fd5b6001600160a01b0380831660009081526020818152604080832093851683529290529081205490819003610f5f57604051631d5fdf4760e11b815260040160405180910390fd5b60ff81901c6000039081011890565b6129d984848484613331565b61170b576040516315f3d48360e01b815260040160405180910390fd5b6000838152600b6020908152604080832080546001600160a01b031990811682556001820180549091169055600281018490556003810184905560048101849055600501805460ff191690556001600160a01b038581168452600983528184209088168452825280832080548251818502810185019093528083529192909190830182828015612aa557602002820191906000526020600020905b815481526020019060010190808311612a91575b5050505050905060008151905080600103612aef576001600160a01b038085166000908152600960209081526040808320938a168352929052908120612aea9161372d565b612bde565b60005b81811015612b925785838281518110612b0d57612b0d6141c1565b602002602001015103612b8a5782612b26600184614670565b81518110612b3657612b366141c1565b6020908102919091018101516001600160a01b038088166000908152600984526040808220928c16825291909352909120805483908110612b7957612b796141c1565b600091825260209091200155612b92565b600101612af2565b506001600160a01b038085166000908152600960209081526040808320938a16835292905220805480612bc757612bc7614683565b600190038181906000526020600020016000905590555b836001600160a01b0316866001600160a01b0316867f241cba1e62c0c28760eb65132303f670a906fac442064deb7a20da98ce538ed286604051612c229190613d2c565b60405180910390a4505050505050565b600d546000819003612c4357505050565b6000836001600160a01b031663604096326040518163ffffffff1660e01b8152600401602060405180830381865afa158015612c83573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612ca791906141a8565b90506000846001600160a01b03166358c0994a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612ce9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612d0d91906141a8565b9050836001811115612d2157612d21613c04565b818311612d2f576000612d32565b60015b6001811115612d4357612d43613c04565b03612d4f575050505050565b6000612d6583612d5f8185613461565b90613489565b905083811115611c5a5760405163a6dea22360e01b815260040160405180910390fd5b600080612da184846040516024016109a6929190613ff3565b905060008082806020019051810190612dba9190614010565b915091506000612dcd866020015161349e565b90506000808313612de757612de283836143ee565b612de9565b815b90506000612e57896001600160a01b031663bce2020d6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612e2e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612e5291906141a8565b61349e565b905060008089600001511315612e7d576040890151612e7690836130de565b9050612e8a565b612e8786836130de565b90505b612e948184614699565b9a9950505050505050505050565b80516000908103612eb557506000610f5f565b6000612f2c612f27856001600160a01b03166346558d1b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612efb573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612f1f91906141a8565b8551906134b7565b6129be565b90506000612f53612f3c8361349e565b612f49866040015161349e565b86516000126134e3565b90506000612f6286868461312b565b606001519050856001600160a01b0316634f3c15426040518163ffffffff1660e01b8152600401602060405180830381865afa158015612fa6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612fca91906141a8565b612fd48285613489565b109695505050505050565b638b78c6d81980546001600160a01b03909216918290600080516020614785833981519152600080a355565b6001600160a01b03163b151590565b816014528060345263095ea7b360601b60005260206000604460106000875af13d15600160005114171661305657633e3f8f736000526004601cfd5b6000603452505050565b6001600160a01b0316638b78c6d8198190558060006000805160206147858339815191528180a350565b60405181606052826040528360601b602c526323b872dd60601b600c52602060006064601c6000895af13d1560016000511417166130d057637939f4246000526004601cfd5b600060605260405250505050565b600080821280156130f5576130f2836146b9565b92505b61310b612e528585670de0b6b3a7640000613506565b915080156131245761311c826146b9565b915050610f5f565b5092915050565b6131566040518060800160405280600081526020016000815260200160008152602001600081525090565b6001600160a01b03841660009081526004602052604090205481528251156131cb57825160608401518251613195929161318f91614699565b906135a6565b60208201819052600013156131cb576103e881602001516131b691906146d5565b816020018181516131c79190614699565b9052505b60006131da846020015161349e565b60208301516131e99085614699565b6131f391906143ee565b9050600081126132095760608201819052613218565b613212816129be565b60408301525b509392505050565b600061322c8383612d88565b1215610bd25760405163845dfc3960e01b815260040160405180910390fd5b816014528060345263a9059cbb60601b60005260206000604460106000875af13d156001600051141716613056576390b8ec186000526004601cfd5b6000610f5c8383670de0b6b3a7640000613506565b6000836001600160a01b031663bce2020d6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156132dc573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061330091906141a8565b9050600061330e8484613489565b905081811015610aa0576040516333c44bc760e21b815260040160405180910390fd5b600080856001600160a01b031663604096326040518163ffffffff1660e01b8152600401602060405180830381865afa158015613372573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061339691906141a8565b90506000808660018111156133ad576133ad613c04565b036133ca57836133bf578482116133c3565b8482105b90506133de565b836133d7578482106133db565b8482115b90505b159695505050505050565b6060600080856001600160a01b0316856040516134069190614735565b600060405180830381855af49150503d8060008114613441576040519150601f19603f3d011682016040523d82523d6000602084013e613446565b606091505b509150915061345786838387613610565b9695505050505050565b6000610f5c61346f8361349e565b6134788561349e565b818113818303929091038218021890565b6000610f5c83670de0b6b3a764000084613506565b6000600160ff1b82106134b3576134b3613687565b5090565b600080831280156130f5576134cb846146b9565b935061310b612e528585670de0b6b3a7640000613506565b600081156134fc576134f58385614699565b905061118f565b6110ba8484614699565b8282026000198385098181108201900380613537578261352e5763ae47f7026000526004601cfd5b5081900461118f565b80831161354c5763ae47f7026000526004601cfd5b82848609600084810385169485900494848311909303908390038390046001010292030417600260038302811880840282030280840282030280840282030280840282030280840282030280840290910302029392505050565b60008083128183128082141582156135c4576135c1866146b9565b95505b81156135d6576135d3856146b9565b94505b6135ec612e528787670de0b6b3a7640000613506565b93508015613607576135fd846146b9565b9350505050610f5f565b50505092915050565b6060831561367d5782516000036136765761362a8561300b565b6136765760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401611630565b50816110ba565b6110ba8383613695565b6335278d126000526004601cfd5b8151156136a55781518083602001fd5b8060405162461bcd60e51b81526004016116309190614751565b6040805160e081018252600080825260208201819052909182019081526020016000815260200160008152602001600081526020016000151581525090565b6040518060a0016040528060008152602001600081526020016000815260200160008152602001600081525090565b5080546000825590600052602060002090810190611ce091905b808211156134b35760008155600101613747565b6001600160a01b0381168114611ce057600080fd5b6000806040838503121561378357600080fd5b823561378e8161375b565b9150602083013561379e8161375b565b809150509250929050565b60008083601f8401126137bb57600080fd5b5081356001600160401b038111156137d257600080fd5b60208301915083602060e0830285010111156137ed57600080fd5b9250929050565b6000806000806040858703121561380a57600080fd5b84356001600160401b038082111561382157600080fd5b818701915087601f83011261383557600080fd5b81358181111561384457600080fd5b8860208260051b850101111561385957600080fd5b60209283019650945090860135908082111561387457600080fd5b50613881878288016137a9565b95989497509550505050565b8015158114611ce057600080fd5b600080604083850312156138ae57600080fd5b82356138b98161375b565b9150602083013561379e8161388d565b6000602082840312156138db57600080fd5b5035919050565b600080600080608085870312156138f857600080fd5b84356139038161375b565b935060208501356139138161375b565b925060408501356139238161375b565b9396929550929360600135925050565b634e487b7160e01b600052604160045260246000fd5b604051608081016001600160401b038111828210171561396b5761396b613933565b60405290565b604051601f8201601f191681016001600160401b038111828210171561399957613999613933565b604052919050565b803560028110610da257600080fd5b600060e082840312156139c257600080fd5b60405160e081016001600160401b03811182821017156139e4576139e4613933565b60405290508082356139f58161375b565b81526020830135613a058161375b565b6020820152613a16604084016139a1565b6040820152606083013560608201526080830135608082015260a083013560a082015260c0830135613a478161388d565b60c0919091015292915050565b6000806101008385031215613a6857600080fd5b82359150613a7984602085016139b0565b90509250929050565b600060208284031215613a9457600080fd5b813561118f8161375b565b60008060208385031215613ab257600080fd5b82356001600160401b03811115613ac857600080fd5b610a16858286016137a9565b600081518084526020808501945080840160005b83811015613b0457815187529582019590820190600101613ae8565b509495945050505050565b602081526000610f5c6020830184613ad4565b600080600060608486031215613b3757600080fd5b8335613b428161375b565b95602085013595506040909401359392505050565b60006001600160401b03821115613b7057613b70613933565b5060051b60200190565b60006020808385031215613b8d57600080fd5b82356001600160401b03811115613ba357600080fd5b8301601f81018513613bb457600080fd5b8035613bc7613bc282613b57565b613971565b81815260059190911b82018301908381019087831115613be657600080fd5b928401925b8284101561201657833582529284019290840190613beb565b634e487b7160e01b600052602160045260246000fd5b60028110613c3857634e487b7160e01b600052602160045260246000fd5b9052565b60018060a01b03808251168352806020830151166020840152506040810151613c686040840182613c1a565b50606081015160608301526080810151608083015260a081015160a083015260c0810151151560c08301525050565b60e08101610f5f8284613c3c565b600060c08284031215613cb757600080fd5b50919050565b600060c08284031215613ccf57600080fd5b610f5c8383613ca5565b600080600060608486031215613cee57600080fd5b8335613cf98161375b565b92506020840135613d098161375b565b929592945050506040919091013590565b600060e08284031215613cb757600080fd5b6001600160a01b0391909116815260200190565b60008060008060808587031215613d5657600080fd5b8435613d618161375b565b93506020850135925060408501356139238161375b565b600060208284031215613d8a57600080fd5b813561118f8161388d565b80518252602081015160208301526040810151604083015260608101516060830152608081015160808301525050565b60a08101610f5f8284613d95565b60008060408385031215613de657600080fd5b8235613df18161375b565b946020939093013593505050565b600080600080600060a08688031215613e1757600080fd5b8535613e228161375b565b9450613e30602087016139a1565b94979496505050506040830135926060810135926080909101359150565b60008060e08385031215613e6157600080fd5b82359150613a798460208501613ca5565b60008060008060608587031215613e8857600080fd5b8435613e938161375b565b935060208501356001600160401b0380821115613eaf57600080fd5b818701915087601f830112613ec357600080fd5b813581811115613ed257600080fd5b8860208260061b8501011115613ee757600080fd5b95986020929092019750949560400135945092505050565b600080600060408486031215613f1457600080fd5b8335613f1f8161375b565b925060208401356001600160401b0380821115613f3b57600080fd5b818601915086601f830112613f4f57600080fd5b813581811115613f5e57600080fd5b876020606083028501011115613f7357600080fd5b6020830194508093505050509250925092565b602080825282518282018190526000919060409081850190868401855b82811015613fe657815180516001600160a01b03168552868101518786015285810151868601526060908101519085015260809093019290850190600101613fa3565b5091979650505050505050565b6001600160a01b038316815260c0810161118f6020830184613d95565b6000806040838503121561402357600080fd5b505080516020909101519092909150565b8183526000602080850194508260005b85811015613b045781356140578161375b565b6001600160a01b03908116885282840135906140728261375b565b168784015260406140848382016139a1565b614090828a0182613c1a565b5050606082810135908801526080808301359088015260a0808301359088015260c0808301356140bf8161388d565b15159088015260e0968701969190910190600101614044565b6001600160a01b0386168152606060208201819052810184905260006001600160fb1b0385111561410857600080fd5b8460051b8087608085013782018281036080908101604085015261412f9082018587614034565b98975050505050505050565b60006020828403121561414d57600080fd5b815161118f8161388d565b6001600160a01b038881168252878116602083015260e082019061417f6040840189613c1a565b86606084015285608084015280851660a08401525082151560c083015298975050505050505050565b6000602082840312156141ba57600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b600081518084526020808501945080840160005b83811015613b04576141fe878351613c3c565b60e09690960195908201906001016141eb565b6001600160a01b038416815260606020820181905260009061423590830185613ad4565b828103604084015261345781856141d7565b6001600160a01b038416815260406020820181905260009061426c9083018486614034565b95945050505050565b6000602080838503121561428857600080fd5b82516001600160401b0381111561429e57600080fd5b8301601f810185136142af57600080fd5b80516142bd613bc282613b57565b81815260059190911b820183019083810190878311156142dc57600080fd5b928401925b82841015612016578351825292840192908401906142e1565b6001600160a01b03831681526040602082018190526000906110ba90830184613ad4565b80356143298161375b565b6001600160a01b0390811683526020820135906143458261375b565b16602083015260408181013590830152606080820135908301526080808201359083015260a08101356143778161388d565b80151560a0840152505050565b60e08101614392828561431e565b6001600160a01b039290921660c09190910152919050565b6000806000606084860312156143bf57600080fd5b8351925060208401519150604084015190509250925092565b634e487b7160e01b600052601160045260246000fd5b808201828112600083128015821682158216171561440e5761440e6143d8565b505092915050565b600060e0828403121561442857600080fd5b610f5c83836139b0565b6001600160a01b03831681526040602082018190526000906110ba908301846141d7565b6001600160a01b0387811682528616602082015260c0810161447b6040830187613c1a565b8460608301528360808301528260a0830152979650505050505050565b80820180821115610f5f57610f5f6143d8565b83815261010081016144c0602083018561431e565b6001600160a01b039290921660e0919091015292915050565b6001600160a01b03841681526040602080830182905282820184905260009190859060608501845b87811015614525578335825282840135838301529284019290840190600101614501565b5098975050505050505050565b6001600160a01b0384168152604060208083018290528282018490526000919060609081850187855b88811015614587578135835283820135848401528582013586840152918401919084019060010161455b565b50909998505050505050505050565b60008060408084860312156145aa57600080fd5b83516001600160401b038111156145c057600080fd5b8401601f810186136145d157600080fd5b805160206145e1613bc283613b57565b82815260079290921b8301810191818101908984111561460057600080fd5b938201935b8385101561465e576080858b03121561461e5760008081fd5b614626613949565b85516146318161375b565b81528584015184820152868601518782015260608087015190820152825260809094019390820190614605565b97909101519698969750505050505050565b81810381811115610f5f57610f5f6143d8565b634e487b7160e01b600052603160045260246000fd5b8181036000831280158383131683831282161715613124576131246143d8565b6000600160ff1b82016146ce576146ce6143d8565b5060000390565b6000826146f257634e487b7160e01b600052601260045260246000fd5b600160ff1b82146000198414161561470c5761470c6143d8565b500590565b60005b8381101561472c578181015183820152602001614714565b50506000910152565b60008251614747818460208701614711565b9190910192915050565b6020815260008251806020840152614770816040850160208701614711565b601f01601f1916919091016040019291505056fe8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220c7542ed5896337f8fef94ab4f090d6a2bf13072a512af22f415180a8d1c00dbe64736f6c63430008130033","sourceMap":"1836:27347:46:-:0;;;4434:551;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;4673:12:46;;;;;4695:46;;;;;4751:34;;;;;4795:32;;;;;4837:26;;;;;4873:28;;;;;4911:34;;;;4956:22;:20;:22::i;:::-;4434:551;;;;;;;1836:27347;;5917:280:24;5985:13;;;;;;;5984:14;5976:66;;;;-1:-1:-1;;;5976:66:24;;1125:2:109;5976:66:24;;;1107:21:109;1164:2;1144:18;;;1137:30;1203:34;1183:18;;;1176:62;-1:-1:-1;;;1254:18:109;;;1247:37;1301:19;;5976:66:24;;;;;;;;6056:12;;6072:15;6056:12;;;:31;6052:139;;6103:12;:30;;-1:-1:-1;;6103:30:24;6118:15;6103:30;;;;;;6152:28;;1473:36:109;;;6152:28:24;;1461:2:109;1446:18;6152:28:24;;;;;;;6052:139;5917:280::o;14:177:109:-;93:13;;-1:-1:-1;;;;;135:31:109;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:722::-;320:6;328;336;344;352;360;368;421:3;409:9;400:7;396:23;392:33;389:53;;;438:1;435;428:12;389:53;461:40;491:9;461:40;:::i;:::-;451:50;;520:49;565:2;554:9;550:18;520:49;:::i;:::-;510:59;;588:49;633:2;622:9;618:18;588:49;:::i;:::-;578:59;;656:49;701:2;690:9;686:18;656:49;:::i;:::-;646:59;;724:50;769:3;758:9;754:19;724:50;:::i;:::-;714:60;;793:50;838:3;827:9;823:19;793:50;:::i;:::-;783:60;;862:50;907:3;896:9;892:19;862:50;:::i;:::-;852:60;;196:722;;;;;;;;;;:::o;1331:184::-;1836:27347:46;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x6080604052600436106102235760003560e01c80630e86a08d1461022857806313dee2d114610262578063207b5b6f1461028457806322f3e2d4146102a457806323c16e22146102ce57806325692962146102fc57806325a208a2146103045780632a120de41461032457806333d3bd301461034457806336cef3d9146103645780633966a28b14610472578063429e9237146104925780634a6ebce7146104c85780634fa9c4db146104f5578063517237a914610515578063530610261461053557806354b85a3e1461056257806354d1f13d146105825780635ac3b62d1461058a57806368d852971461059f5780636b17ad03146105bf5780636ea41e40146105df578063715018a61461061557806373af02051461061d5780637a1ac61e1461063d5780637aefce971461065d5780637eb024061461067d5780638da5cb5b1461069d5780639457be23146106bf578063987362da146106df5780639dda4e4f146106f4578063acec338a1461072d578063b33dc1901461074d578063b959d6951461077a578063cbb50e611461079a578063cf70cb69146107ba578063d2435052146107da578063da8c7e40146107fa578063db1b5c971461081a578063dd2a65ed1461083a578063e30467701461085a578063e859f3721461087a578063e980e16e1461089a578063efdb9423146108dc578063f04e283e14610909578063f2fde38b1461091c578063f8b6e4491461092f578063fee81cf41461094f575b600080fd5b34801561023457600080fd5b50610248610243366004613770565b610982565b604080519283526020830191909152015b60405180910390f35b34801561026e57600080fd5b5061028261027d3660046137f4565b610a22565b005b34801561029057600080fd5b5061028261029f36600461389b565b610aa7565b3480156102b057600080fd5b5060415462010000900460ff165b6040519015158152602001610259565b3480156102da57600080fd5b506102ee6102e93660046138c9565b610bd6565b604051908152602001610259565b610282610da7565b34801561031057600080fd5b5061028261031f3660046138e2565b610df6565b34801561033057600080fd5b5061028261033f366004613a54565b610e91565b34801561035057600080fd5b506102ee61035f366004613770565b610f47565b34801561037057600080fd5b5061041b61037f3660046138c9565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a0810191909152506000908152600b6020908152604091829020825160c08101845281546001600160a01b03908116825260018301541692810192909252600281015492820192909252600382015460608201526004820154608082015260059091015460ff16151560a082015290565b604051610259919081516001600160a01b0390811682526020808401519091169082015260408083015190820152606080830151908201526080808301519082015260a09182015115159181019190915260c00190565b34801561047e57600080fd5b506102be61048d366004613770565b610f65565b34801561049e57600080fd5b506102ee6104ad366004613a82565b6001600160a01b031660009081526006602052604090205490565b3480156104d457600080fd5b506104e86104e3366004613a9f565b610f7a565b6040516102599190613b0f565b34801561050157600080fd5b506102ee610510366004613b22565b6110c2565b34801561052157600080fd5b50610282610530366004613b7a565b611196565b34801561054157600080fd5b506105556105503660046138c9565b61120e565b6040516102599190613c97565b34801561056e57600080fd5b506104e861057d366004613770565b6112ba565b610282611333565b34801561059657600080fd5b50600d546102ee565b3480156105ab57600080fd5b506102ee6105ba366004613cbd565b61136f565b3480156105cb57600080fd5b506102826105da366004613a82565b6113f8565b3480156105eb57600080fd5b506102ee6105fa366004613a82565b6001600160a01b031660009081526004602052604090205490565b610282611505565b34801561062957600080fd5b506104e8610638366004613770565b611519565b34801561064957600080fd5b50610282610658366004613b22565b611590565b34801561066957600080fd5b50610282610678366004613cd9565b611711565b34801561068957600080fd5b506102ee610698366004613d1a565b61192c565b3480156106a957600080fd5b506106b2611a9a565b6040516102599190613d2c565b3480156106cb57600080fd5b506102826106da366004613d40565b611aa4565b3480156106eb57600080fd5b50600e546102ee565b34801561070057600080fd5b506102be61070f366004613a82565b6001600160a01b031660009081526003602052604090205460ff1690565b34801561073957600080fd5b50610282610748366004613d78565b611c62565b34801561075957600080fd5b5061076d610768366004613770565b611ce3565b6040516102599190613dc5565b34801561078657600080fd5b50610282610795366004613dd3565b611cf5565b3480156107a657600080fd5b506102ee6107b5366004613dff565b611e9f565b3480156107c657600080fd5b506102826107d5366004613dd3565b612021565b3480156107e657600080fd5b506102826107f5366004613e4e565b61210f565b34801561080657600080fd5b506102826108153660046138c9565b612186565b34801561082657600080fd5b50610282610835366004613e72565b612248565b34801561084657600080fd5b506102be6108553660046138c9565b61242e565b34801561086657600080fd5b506102826108753660046138c9565b6124e1565b34801561088657600080fd5b506102826108953660046138c9565b612525565b3480156108a657600080fd5b506108ba6108b5366004613a82565b612585565b6040805182518152602080840151908201529181015190820152606001610259565b3480156108e857600080fd5b506108fc6108f7366004613eff565b6125eb565b6040516102599190613f86565b610282610917366004613a82565b61279c565b61028261092a366004613a82565b6127d9565b34801561093b57600080fd5b5061028261094a3660046138c9565b612800565b34801561095b57600080fd5b506102ee61096a366004613a82565b63389a75e1600c908152600091909152602090205490565b6000806000610a0085610995878761283d565b6040516024016109a6929190613ff3565b60408051601f198184030181529190526020810180516001600160e01b03166334fccb6d60e21b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b905080806020019051810190610a169190614010565b90969095509350505050565b610a2a6128cd565b610aa03385858585604051602401610a469594939291906140d8565b60408051601f198184030181529190526020810180516001600160e01b031663e98143ad60e01b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b5050505050565b610aaf6128f6565b80158015610b1a5750816001600160a01b03166322f3e2d46040518163ffffffff1660e01b8152600401602060405180830381865afa158015610af6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b1a919061413b565b15610b385760405163cdd8a30360e01b815260040160405180910390fd5b6001600160a01b0382166000908152600360205260409020805460ff19168215801591909117909155610b9d576040516001600160a01b038316907fe541249509232f3b648c653a6759a750d245da1a7b3e0b3878d4b5d3f4fcec1190600090a25050565b6040516001600160a01b038316907f0cf3718d7b5134fb0be63caea34ab4b8e6f19d5b5c3c4f7b4cfb00db821204ae90600090a25b5050565b6000610be06128cd565b6000828152600b6020908152604091829020825160c08101845281546001600160a01b03908116825260018301541692810183905260028201549381019390935260038101546060840152600481015460808401526005015460ff16151560a0830152610c4c90612911565b610c5e8160200151826000015161294a565b6000610c7282602001518360000151612977565b90506000610c7f826129be565b9050610caa836020015160008413610c98576001610c9b565b60005b85604001518660a001516129cd565b8083606001511115610cbe57606083018190525b6000808313610cce576000610cd1565b60015b9050610ce78460200151878660000151336129f6565b8351602085015160608601516080870151604051600094610d7694610d1c94919390928892919033908b841490602401614158565b60408051601f198184030181529190526020810180516001600160e01b0316637b9db48760e11b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b9050610d86856020015183612c32565b80806020019051810190610d9a91906141a8565b955050505050505b919050565b60006202a3006001600160401b03164201905063389a75e1600c5233600052806020600c2055337fdbf36a107da19e49527a7176a1babf963b4b0ff8cde35ee35d6cd8f1f9ac7e1d600080a250565b610dfe6128f6565b610e0784612911565b6040516001600160a01b03808616602483015280851660448301528316606482015260848101829052610aa09060a40160408051601f198184030181529190526020810180516001600160e01b03166312d1045160e11b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b610e996128cd565b604080516001808252818301909252600091816020015b610eb86136bf565b815260200190600190039081610eb057505060408051600180825281830190925291925060009190602080830190803683370190505090508282600081518110610f0457610f046141c1565b60200260200101819052508381600081518110610f2357610f236141c1565b602002602001018181525050610aa0338284604051602401610a4693929190614211565b6000610f5c83610f57858561283d565b612d88565b90505b92915050565b6000610f5c83610f75858561283d565b612ea2565b6060610f846128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03161561103057604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc690610fff903390600401613d2c565b60006040518083038186803b15801561101757600080fd5b505afa15801561102b573d6000803e3d6000fd5b505050505b60006110a433858560405160240161104a93929190614247565b60408051601f198184030181529190526020810180516001600160e01b0316638b69f89760e01b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b9050808060200190518101906110ba9190614275565b949350505050565b60006110cc6128cd565b6110d584612911565b6110df843361294a565b60006110eb8533612977565b905060006110f8826129be565b90508085111561111b57604051631eab837160e11b815260040160405180910390fd5b8460000361112e5760009250505061118f565b600080831361113e576000611141565b60015b905060006111683389848a8a6000898e14604051602401610d1c9796959493929190614158565b90506111748883612c32565b8080602001905181019061118891906141a8565b9450505050505b9392505050565b61119e6128cd565b610bd233826040516024016111b49291906142fa565b60408051601f198184030181529190526020810180516001600160e01b0316637d5eb41f60e01b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b6112166136bf565b6000828152600a6020908152604091829020825160e08101845281546001600160a01b039081168252600180840154918216948301949094529093919291840191600160a01b90910460ff169081111561127257611272613c04565b600181111561128357611283613c04565b815260028201546020820152600382015460408201526004820154606082015260059091015460ff16151560809091015292915050565b6001600160a01b03808316600090815260096020908152604080832093851683529281529082902080548351818402810184019094528084526060939283018282801561132657602002820191906000526020600020905b815481526020019060010190808311611312575b5050505050905092915050565b63389a75e1600c523360005260006020600c2055337ffa7b8eab7da67f412cc9575ed43464468f9bfbae89d1675917346ca6d8fe3c92600080a2565b6000806113e28333604051602401611388929190614384565b60408051601f198184030181529190526020810180516001600160e01b0316631da5734360e21b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b90508080602001905181019061118f91906141a8565b6114006128cd565b61140981612911565b6000806000836001600160a01b031663ed83d79c6040518163ffffffff1660e01b81526004016060604051808303816000875af115801561144e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061147291906143aa565b6001600160a01b038716600090815260046020526040902054929550909350915061149d84826143ee565b6001600160a01b0386166000818152600460209081526040918290208490558151878152908101869052908101839052919250907fbfed1e6debfebfaef8f787a2e2c506676d0e9e9f06d217ef82d090151af844e89060600160405180910390a25050505050565b61150d6128f6565b6115176000612fdf565b565b6001600160a01b0380831660009081526008602090815260408083209385168352928152908290208054835181840281018401909452808452606093928301828280156113265760200282019190600052602060002090815481526020019060010190808311611312575050505050905092915050565b604154610100900460ff16158080156115b05750604154600160ff909116105b806115d157506115bf3061300b565b1580156115d1575060415460ff166001145b6116395760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201526d191e481a5b9a5d1a585b1a5e995960921b60648201526084015b60405180910390fd5b6041805460ff19166001179055801561165c576041805461ff0019166101001790555b6116b26001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000167f000000000000000000000000000000000000000000000000000000000000000060001961301a565b600d839055600e8290556116c584613060565b801561170b576041805461ff0019169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b50505050565b6117196128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316156117c557604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc690611794903390600401613d2c565b60006040518083038186803b1580156117ac57600080fd5b505afa1580156117c0573d6000803e3d6000fd5b505050505b6117ce83612911565b6000806000856001600160a01b0316631bde66e7866040518263ffffffff1660e01b81526004016117ff9190613d2c565b6060604051808303816000875af115801561181e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061184291906143aa565b92509250925083600014611885576118856001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633308761308a565b6040516001600160a01b038088166024830152336044830152861660648201526084810184905260a4810183905260c4810182905260e48101859052611923906101040160408051601f198184030181529190526020810180516001600160e01b0316631fe05b1760e11b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b50505050505050565b60006119366128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316156119e257604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc6906119b1903390600401613d2c565b60006040518083038186803b1580156119c957600080fd5b505afa1580156119dd573d6000803e3d6000fd5b505050505b604080516001808252818301909252600091816020015b611a016136bf565b8152602001906001900390816119f9579050509050611a2536849003840184614416565b81600081518110611a3857611a386141c1565b60200260200101819052506000611a5b338360405160240161104a929190614432565b9050600081806020019051810190611a739190614275565b905080600081518110611a8857611a886141c1565b60200260200101519350505050919050565b638b78c6d8195490565b611aac6128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031615611b5857604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc690611b27903390600401613d2c565b60006040518083038186803b158015611b3f57600080fd5b505afa158015611b53573d6000803e3d6000fd5b505050505b611b6184612911565b6000611b6d858461283d565b9050611b798582612ea2565b611b9657604051633da1f7d160e11b815260040160405180910390fd5b611bcb6001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633308561308a565b6040516001600160a01b038087166024830152841660448201523360648201526084810185905260a48101839052611c5a9060c40160408051601f198184030181529190526020810180516001600160e01b0316636f70e66f60e01b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b505050505050565b611c6a6128f6565b6041805482158015620100000262ff00001990921691909117909155611cb6576040517fed1cd0670ee0c0017f550451a038818c696d0b6a9d6ce5b369e44275573cf9b090600090a150565b6040517f1142a68cc39970640eb3524e77b91f78be21abc64f20f5919387eb46699bb77290600090a15b50565b611ceb6136fe565b610f5c838361283d565b611cfd6128cd565b611d0682612911565b6001600160a01b0382166000908152602081815260408083203384528252808320815160a081018352815481526001820154938101849052600282015492810192909252600381015460608301526004015460808201529103611d7c57604051631d5fdf4760e11b815260040160405180910390fd5b6000611d9b8483611d9686670de0b6b3a763ffff196130de565b61312b565b90508060400151600014611dc257604051632c7c1d6360e11b815260040160405180910390fd5b6060808201516020840152815190830152611ddd8483613220565b6001600160a01b038085166000908152602081815260408083203380855290835292819020865181559186015160018301558501516002820155606085015160038201556080850151600490910155611e59917f000000000000000000000000000000000000000000000000000000000000000016908561324b565b60405183815233906001600160a01b038616907fb0fa03f93c852a6feaaeb34ccf4cf865cc223c4cc9d25dce28a9131fde2710719060200160405180910390a350505050565b6000611ea96128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031615611f5557604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc690611f24903390600401613d2c565b60006040518083038186803b158015611f3c57600080fd5b505afa158015611f50573d6000803e3d6000fd5b505050505b611f5e86612911565b611f68863361294a565b611f7c8685611f778187613287565b61329c565b6000611ff6338888888888604051602401611f9c96959493929190614456565b60408051601f198184030181529190526020810180516001600160e01b03166310faff9560e31b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b90506120028787612c32565b8080602001905181019061201691906141a8565b979650505050505050565b6120296128cd565b61203282612911565b61203c823361283d565b5160000361205d57604051631d5fdf4760e11b815260040160405180910390fd5b6120926001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633308461308a565b6001600160a01b038216600090815260208181526040808320338452909152812060010180548392906120c6908490614498565b909155505060405181815233906001600160a01b038416907f05c2d01f05f37971d15b22586be2f1933a1ae8c0079a056a430b4391550ffb2d9060200160405180910390a35050565b612181828233604051602401612127939291906144ab565b60408051601f198184030181529190526020810180516001600160e01b03166312fd759760e11b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b505050565b6000818152600b6020908152604091829020825160c08101845281546001600160a01b0390811680835260018401549091169382019390935260028201549381019390935260038101546060840152600481015460808401526005015460ff16151560a0830152331480159061221557506121ff611a9a565b6001600160a01b0316336001600160a01b031614155b15612233576040516342f062b760e01b815260040160405180910390fd5b610bd2816020015183836000015160006129f6565b6122506128cd565b61225984612911565b6000806000866001600160a01b031663f39508f83388886040518463ffffffff1660e01b815260040161228e939291906144d9565b6060604051808303816000875af11580156122ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122d191906143aa565b925092509250826000146123bb57831561231a5761231a6001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633308761308a565b6123b587336123298785614498565b6040516001600160a01b03938416602482015292909116604483015260648201526084810185905260a4810184905260c40160408051601f198184030181529190526020810180516001600160e01b0316636e6f167560e01b1790526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906128a8565b506123ef565b6123ef6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016338361324b565b60405133906001600160a01b038916907fd04e6350fe09fd82d32a2e9549de19274bab2fafa4013189498798d981a763e790600090a350505050505050565b6000818152600b60209081526040808320815160c08101835281546001600160a01b039081168083526001840154909116948201859052600283015493820193909352600382015460608201526004820154608082015260059091015460ff16151560a08201529183916124a2919061283d565b51905060008190036124b8575060009392505050565b6110ba8260200151600083136124cf5760016124d2565b60005b84604001518560a00151613331565b6124e96128f6565b600e8190556040518181527f577724f96ac2a3cf85a2f91a90bfb1e890d4604525edcfeaaad826163fe9a1a9906020015b60405180910390a150565b61252d6128cd565b604080516001808252818301909252600091602080830190803683370190505090508181600081518110612563576125636141c1565b60200260200101818152505061218133826040516024016111b49291906142fa565b6125a960405180606001604052806000815260200160008152602001600081525090565b506001600160a01b0316600090815260056020908152604091829020825160608101845281548152600182015492810192909252600201549181019190915290565b60606125f56128cd565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316156126a157604051633026f7e360e11b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063604defc690612670903390600401613d2c565b60006040518083038186803b15801561268857600080fd5b505afa15801561269c573d6000803e3d6000fd5b505050505b6126aa84612911565b60405163efdb942360e01b81526000906001600160a01b0386169063efdb9423906126dd90339088908890600401614532565b6000604051808303816000875af11580156126fc573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526127249190810190614596565b909250905061275e6001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633308461308a565b60405133906001600160a01b038716907f99e877011be95eb42bf6be0d3db080f9a2f0256536d7713ce401a3c971e0527e90600090a3509392505050565b6127a46128f6565b63389a75e1600c52806000526020600c2080544211156127cc57636f5e88186000526004601cfd5b60009055611ce081612fdf565b6127e16128f6565b8060601b6127f757637448fbae6000526004601cfd5b611ce081612fdf565b6128086128f6565b600d8190556040518181527fc207d9444020fb76b81600635e7137d0a86fc95b69e50b1c84197ea18127d6069060200161251a565b6128456136fe565b506001600160a01b03918216600090815260208181526040808320939094168252918252829020825160a0810184528154815260018201549281019290925260028101549282019290925260038201546060820152600490910154608082015290565b6060610f5c83836040518060600160405280602781526020016147a5602791396133e9565b60415462010000900460ff1661151757604051637dc579d960e11b815260040160405180910390fd5b638b78c6d819543314611517576382b429006000526004601cfd5b6001600160a01b03811660009081526003602052604090205460ff16611ce0576040516304c1bb0360e11b815260040160405180910390fd5b612954828261283d565b608001514303610bd25760405163fd4b12b160e01b815260040160405180910390fd5b6001600160a01b0380831660009081526020818152604080832093851683529290529081205490819003610f5f57604051631d5fdf4760e11b815260040160405180910390fd5b60ff81901c6000039081011890565b6129d984848484613331565b61170b576040516315f3d48360e01b815260040160405180910390fd5b6000838152600b6020908152604080832080546001600160a01b031990811682556001820180549091169055600281018490556003810184905560048101849055600501805460ff191690556001600160a01b038581168452600983528184209088168452825280832080548251818502810185019093528083529192909190830182828015612aa557602002820191906000526020600020905b815481526020019060010190808311612a91575b5050505050905060008151905080600103612aef576001600160a01b038085166000908152600960209081526040808320938a168352929052908120612aea9161372d565b612bde565b60005b81811015612b925785838281518110612b0d57612b0d6141c1565b602002602001015103612b8a5782612b26600184614670565b81518110612b3657612b366141c1565b6020908102919091018101516001600160a01b038088166000908152600984526040808220928c16825291909352909120805483908110612b7957612b796141c1565b600091825260209091200155612b92565b600101612af2565b506001600160a01b038085166000908152600960209081526040808320938a16835292905220805480612bc757612bc7614683565b600190038181906000526020600020016000905590555b836001600160a01b0316866001600160a01b0316867f241cba1e62c0c28760eb65132303f670a906fac442064deb7a20da98ce538ed286604051612c229190613d2c565b60405180910390a4505050505050565b600d546000819003612c4357505050565b6000836001600160a01b031663604096326040518163ffffffff1660e01b8152600401602060405180830381865afa158015612c83573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612ca791906141a8565b90506000846001600160a01b03166358c0994a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612ce9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612d0d91906141a8565b9050836001811115612d2157612d21613c04565b818311612d2f576000612d32565b60015b6001811115612d4357612d43613c04565b03612d4f575050505050565b6000612d6583612d5f8185613461565b90613489565b905083811115611c5a5760405163a6dea22360e01b815260040160405180910390fd5b600080612da184846040516024016109a6929190613ff3565b905060008082806020019051810190612dba9190614010565b915091506000612dcd866020015161349e565b90506000808313612de757612de283836143ee565b612de9565b815b90506000612e57896001600160a01b031663bce2020d6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612e2e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612e5291906141a8565b61349e565b905060008089600001511315612e7d576040890151612e7690836130de565b9050612e8a565b612e8786836130de565b90505b612e948184614699565b9a9950505050505050505050565b80516000908103612eb557506000610f5f565b6000612f2c612f27856001600160a01b03166346558d1b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612efb573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612f1f91906141a8565b8551906134b7565b6129be565b90506000612f53612f3c8361349e565b612f49866040015161349e565b86516000126134e3565b90506000612f6286868461312b565b606001519050856001600160a01b0316634f3c15426040518163ffffffff1660e01b8152600401602060405180830381865afa158015612fa6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612fca91906141a8565b612fd48285613489565b109695505050505050565b638b78c6d81980546001600160a01b03909216918290600080516020614785833981519152600080a355565b6001600160a01b03163b151590565b816014528060345263095ea7b360601b60005260206000604460106000875af13d15600160005114171661305657633e3f8f736000526004601cfd5b6000603452505050565b6001600160a01b0316638b78c6d8198190558060006000805160206147858339815191528180a350565b60405181606052826040528360601b602c526323b872dd60601b600c52602060006064601c6000895af13d1560016000511417166130d057637939f4246000526004601cfd5b600060605260405250505050565b600080821280156130f5576130f2836146b9565b92505b61310b612e528585670de0b6b3a7640000613506565b915080156131245761311c826146b9565b915050610f5f565b5092915050565b6131566040518060800160405280600081526020016000815260200160008152602001600081525090565b6001600160a01b03841660009081526004602052604090205481528251156131cb57825160608401518251613195929161318f91614699565b906135a6565b60208201819052600013156131cb576103e881602001516131b691906146d5565b816020018181516131c79190614699565b9052505b60006131da846020015161349e565b60208301516131e99085614699565b6131f391906143ee565b9050600081126132095760608201819052613218565b613212816129be565b60408301525b509392505050565b600061322c8383612d88565b1215610bd25760405163845dfc3960e01b815260040160405180910390fd5b816014528060345263a9059cbb60601b60005260206000604460106000875af13d156001600051141716613056576390b8ec186000526004601cfd5b6000610f5c8383670de0b6b3a7640000613506565b6000836001600160a01b031663bce2020d6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156132dc573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061330091906141a8565b9050600061330e8484613489565b905081811015610aa0576040516333c44bc760e21b815260040160405180910390fd5b600080856001600160a01b031663604096326040518163ffffffff1660e01b8152600401602060405180830381865afa158015613372573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061339691906141a8565b90506000808660018111156133ad576133ad613c04565b036133ca57836133bf578482116133c3565b8482105b90506133de565b836133d7578482106133db565b8482115b90505b159695505050505050565b6060600080856001600160a01b0316856040516134069190614735565b600060405180830381855af49150503d8060008114613441576040519150601f19603f3d011682016040523d82523d6000602084013e613446565b606091505b509150915061345786838387613610565b9695505050505050565b6000610f5c61346f8361349e565b6134788561349e565b818113818303929091038218021890565b6000610f5c83670de0b6b3a764000084613506565b6000600160ff1b82106134b3576134b3613687565b5090565b600080831280156130f5576134cb846146b9565b935061310b612e528585670de0b6b3a7640000613506565b600081156134fc576134f58385614699565b905061118f565b6110ba8484614699565b8282026000198385098181108201900380613537578261352e5763ae47f7026000526004601cfd5b5081900461118f565b80831161354c5763ae47f7026000526004601cfd5b82848609600084810385169485900494848311909303908390038390046001010292030417600260038302811880840282030280840282030280840282030280840282030280840282030280840290910302029392505050565b60008083128183128082141582156135c4576135c1866146b9565b95505b81156135d6576135d3856146b9565b94505b6135ec612e528787670de0b6b3a7640000613506565b93508015613607576135fd846146b9565b9350505050610f5f565b50505092915050565b6060831561367d5782516000036136765761362a8561300b565b6136765760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401611630565b50816110ba565b6110ba8383613695565b6335278d126000526004601cfd5b8151156136a55781518083602001fd5b8060405162461bcd60e51b81526004016116309190614751565b6040805160e081018252600080825260208201819052909182019081526020016000815260200160008152602001600081526020016000151581525090565b6040518060a0016040528060008152602001600081526020016000815260200160008152602001600081525090565b5080546000825590600052602060002090810190611ce091905b808211156134b35760008155600101613747565b6001600160a01b0381168114611ce057600080fd5b6000806040838503121561378357600080fd5b823561378e8161375b565b9150602083013561379e8161375b565b809150509250929050565b60008083601f8401126137bb57600080fd5b5081356001600160401b038111156137d257600080fd5b60208301915083602060e0830285010111156137ed57600080fd5b9250929050565b6000806000806040858703121561380a57600080fd5b84356001600160401b038082111561382157600080fd5b818701915087601f83011261383557600080fd5b81358181111561384457600080fd5b8860208260051b850101111561385957600080fd5b60209283019650945090860135908082111561387457600080fd5b50613881878288016137a9565b95989497509550505050565b8015158114611ce057600080fd5b600080604083850312156138ae57600080fd5b82356138b98161375b565b9150602083013561379e8161388d565b6000602082840312156138db57600080fd5b5035919050565b600080600080608085870312156138f857600080fd5b84356139038161375b565b935060208501356139138161375b565b925060408501356139238161375b565b9396929550929360600135925050565b634e487b7160e01b600052604160045260246000fd5b604051608081016001600160401b038111828210171561396b5761396b613933565b60405290565b604051601f8201601f191681016001600160401b038111828210171561399957613999613933565b604052919050565b803560028110610da257600080fd5b600060e082840312156139c257600080fd5b60405160e081016001600160401b03811182821017156139e4576139e4613933565b60405290508082356139f58161375b565b81526020830135613a058161375b565b6020820152613a16604084016139a1565b6040820152606083013560608201526080830135608082015260a083013560a082015260c0830135613a478161388d565b60c0919091015292915050565b6000806101008385031215613a6857600080fd5b82359150613a7984602085016139b0565b90509250929050565b600060208284031215613a9457600080fd5b813561118f8161375b565b60008060208385031215613ab257600080fd5b82356001600160401b03811115613ac857600080fd5b610a16858286016137a9565b600081518084526020808501945080840160005b83811015613b0457815187529582019590820190600101613ae8565b509495945050505050565b602081526000610f5c6020830184613ad4565b600080600060608486031215613b3757600080fd5b8335613b428161375b565b95602085013595506040909401359392505050565b60006001600160401b03821115613b7057613b70613933565b5060051b60200190565b60006020808385031215613b8d57600080fd5b82356001600160401b03811115613ba357600080fd5b8301601f81018513613bb457600080fd5b8035613bc7613bc282613b57565b613971565b81815260059190911b82018301908381019087831115613be657600080fd5b928401925b8284101561201657833582529284019290840190613beb565b634e487b7160e01b600052602160045260246000fd5b60028110613c3857634e487b7160e01b600052602160045260246000fd5b9052565b60018060a01b03808251168352806020830151166020840152506040810151613c686040840182613c1a565b50606081015160608301526080810151608083015260a081015160a083015260c0810151151560c08301525050565b60e08101610f5f8284613c3c565b600060c08284031215613cb757600080fd5b50919050565b600060c08284031215613ccf57600080fd5b610f5c8383613ca5565b600080600060608486031215613cee57600080fd5b8335613cf98161375b565b92506020840135613d098161375b565b929592945050506040919091013590565b600060e08284031215613cb757600080fd5b6001600160a01b0391909116815260200190565b60008060008060808587031215613d5657600080fd5b8435613d618161375b565b93506020850135925060408501356139238161375b565b600060208284031215613d8a57600080fd5b813561118f8161388d565b80518252602081015160208301526040810151604083015260608101516060830152608081015160808301525050565b60a08101610f5f8284613d95565b60008060408385031215613de657600080fd5b8235613df18161375b565b946020939093013593505050565b600080600080600060a08688031215613e1757600080fd5b8535613e228161375b565b9450613e30602087016139a1565b94979496505050506040830135926060810135926080909101359150565b60008060e08385031215613e6157600080fd5b82359150613a798460208501613ca5565b60008060008060608587031215613e8857600080fd5b8435613e938161375b565b935060208501356001600160401b0380821115613eaf57600080fd5b818701915087601f830112613ec357600080fd5b813581811115613ed257600080fd5b8860208260061b8501011115613ee757600080fd5b95986020929092019750949560400135945092505050565b600080600060408486031215613f1457600080fd5b8335613f1f8161375b565b925060208401356001600160401b0380821115613f3b57600080fd5b818601915086601f830112613f4f57600080fd5b813581811115613f5e57600080fd5b876020606083028501011115613f7357600080fd5b6020830194508093505050509250925092565b602080825282518282018190526000919060409081850190868401855b82811015613fe657815180516001600160a01b03168552868101518786015285810151868601526060908101519085015260809093019290850190600101613fa3565b5091979650505050505050565b6001600160a01b038316815260c0810161118f6020830184613d95565b6000806040838503121561402357600080fd5b505080516020909101519092909150565b8183526000602080850194508260005b85811015613b045781356140578161375b565b6001600160a01b03908116885282840135906140728261375b565b168784015260406140848382016139a1565b614090828a0182613c1a565b5050606082810135908801526080808301359088015260a0808301359088015260c0808301356140bf8161388d565b15159088015260e0968701969190910190600101614044565b6001600160a01b0386168152606060208201819052810184905260006001600160fb1b0385111561410857600080fd5b8460051b8087608085013782018281036080908101604085015261412f9082018587614034565b98975050505050505050565b60006020828403121561414d57600080fd5b815161118f8161388d565b6001600160a01b038881168252878116602083015260e082019061417f6040840189613c1a565b86606084015285608084015280851660a08401525082151560c083015298975050505050505050565b6000602082840312156141ba57600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b600081518084526020808501945080840160005b83811015613b04576141fe878351613c3c565b60e09690960195908201906001016141eb565b6001600160a01b038416815260606020820181905260009061423590830185613ad4565b828103604084015261345781856141d7565b6001600160a01b038416815260406020820181905260009061426c9083018486614034565b95945050505050565b6000602080838503121561428857600080fd5b82516001600160401b0381111561429e57600080fd5b8301601f810185136142af57600080fd5b80516142bd613bc282613b57565b81815260059190911b820183019083810190878311156142dc57600080fd5b928401925b82841015612016578351825292840192908401906142e1565b6001600160a01b03831681526040602082018190526000906110ba90830184613ad4565b80356143298161375b565b6001600160a01b0390811683526020820135906143458261375b565b16602083015260408181013590830152606080820135908301526080808201359083015260a08101356143778161388d565b80151560a0840152505050565b60e08101614392828561431e565b6001600160a01b039290921660c09190910152919050565b6000806000606084860312156143bf57600080fd5b8351925060208401519150604084015190509250925092565b634e487b7160e01b600052601160045260246000fd5b808201828112600083128015821682158216171561440e5761440e6143d8565b505092915050565b600060e0828403121561442857600080fd5b610f5c83836139b0565b6001600160a01b03831681526040602082018190526000906110ba908301846141d7565b6001600160a01b0387811682528616602082015260c0810161447b6040830187613c1a565b8460608301528360808301528260a0830152979650505050505050565b80820180821115610f5f57610f5f6143d8565b83815261010081016144c0602083018561431e565b6001600160a01b039290921660e0919091015292915050565b6001600160a01b03841681526040602080830182905282820184905260009190859060608501845b87811015614525578335825282840135838301529284019290840190600101614501565b5098975050505050505050565b6001600160a01b0384168152604060208083018290528282018490526000919060609081850187855b88811015614587578135835283820135848401528582013586840152918401919084019060010161455b565b50909998505050505050505050565b60008060408084860312156145aa57600080fd5b83516001600160401b038111156145c057600080fd5b8401601f810186136145d157600080fd5b805160206145e1613bc283613b57565b82815260079290921b8301810191818101908984111561460057600080fd5b938201935b8385101561465e576080858b03121561461e5760008081fd5b614626613949565b85516146318161375b565b81528584015184820152868601518782015260608087015190820152825260809094019390820190614605565b97909101519698969750505050505050565b81810381811115610f5f57610f5f6143d8565b634e487b7160e01b600052603160045260246000fd5b8181036000831280158383131683831282161715613124576131246143d8565b6000600160ff1b82016146ce576146ce6143d8565b5060000390565b6000826146f257634e487b7160e01b600052601260045260246000fd5b600160ff1b82146000198414161561470c5761470c6143d8565b500590565b60005b8381101561472c578181015183820152602001614714565b50506000910152565b60008251614747818460208701614711565b9190910192915050565b6020815260008251806020840152614770816040850160208701614711565b601f01601f1916919091016040019291505056fe8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220c7542ed5896337f8fef94ab4f090d6a2bf13072a512af22f415180a8d1c00dbe64736f6c63430008130033","sourceMap":"1836:27347:46:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;24034:414;;;;;;;;;;-1:-1:-1;24034:414:46;;;;;:::i;:::-;;:::i;:::-;;;;759:25:109;;;815:2;800:18;;793:34;;;;732:18;24034:414:46;;;;;;;;13529:301;;;;;;;;;;-1:-1:-1;13529:301:46;;;;;:::i;:::-;;:::i;:::-;;22002:288;;;;;;;;;;-1:-1:-1;22002:288:46;;;;;:::i;:::-;;:::i;1942:79:74:-;;;;;;;;;;-1:-1:-1;2008:6:74;;;;;;;1942:79;;;2924:14:109;;2917:22;2899:41;;2887:2;2872:18;1942:79:74;2759:187:109;8210:1042:46;;;;;;;;;;-1:-1:-1;8210:1042:46;;;;;:::i;:::-;;:::i;:::-;;;3282:25:109;;;3270:2;3255:18;8210:1042:46;3136:177:109;9021:617:28;;;:::i;23152:349:46:-;;;;;;;;;;-1:-1:-1;23152:349:46;;;;;:::i;:::-;;:::i;12940:437::-;;;;;;;;;;-1:-1:-1;12940:437:46;;;;;:::i;:::-;;:::i;24454:156::-;;;;;;;;;;-1:-1:-1;24454:156:46;;;;;:::i;:::-;;:::i;23793:122::-;;;;;;;;;;-1:-1:-1;23793:122:46;;;;;:::i;:::-;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23891:17:46;;;;:13;:17;;;;;;;;;23884:24;;;;;;;;;-1:-1:-1;;;;;23884:24:46;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23793:122;;;;;;;6600:13:109;;-1:-1:-1;;;;;6596:22:109;;;6578:41;;6679:4;6667:17;;;6661:24;6657:33;;;6635:20;;;6628:63;6747:4;6735:17;;;6729:24;6707:20;;;6700:54;6810:4;6798:17;;;6792:24;6770:20;;;6763:54;6873:4;6861:17;;;6855:24;6833:20;;;6826:54;6558:3;6938:17;;;6932:24;6925:32;6918:40;6896:20;;;6889:70;;;;6527:3;6512:19;;6331:634;25406:151:46;;;;;;;;;;-1:-1:-1;25406:151:46;;;;;:::i;:::-;;:::i;24761:127::-;;;;;;;;;;-1:-1:-1;24761:127:46;;;;;:::i;:::-;-1:-1:-1;;;;;24856:25:46;24830:7;24856:25;;;:20;:25;;;;;;;24761:127;12388:409;;;;;;;;;;-1:-1:-1;12388:409:46;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;7052:834::-;;;;;;;;;;-1:-1:-1;7052:834:46;;;;;:::i;:::-;;:::i;14407:260::-;;;;;;;;;;-1:-1:-1;14407:260:46;;;;;:::i;:::-;;:::i;25284:116::-;;;;;;;;;;-1:-1:-1;25284:116:46;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;26142:152::-;;;;;;;;;;-1:-1:-1;26142:152:46;;;;;:::i;:::-;;:::i;9720:456:28:-;;;:::i;25181:97:46:-;;;;;;;;;;-1:-1:-1;25258:13:46;;25181:97;;15041:340;;;;;;;;;;-1:-1:-1;15041:340:46;;;;;:::i;:::-;;:::i;18050:620::-;;;;;;;;;;-1:-1:-1;18050:620:46;;;;;:::i;:::-;;:::i;25038:137::-;;;;;;;;;;-1:-1:-1;25038:137:46;;;;;:::i;:::-;-1:-1:-1;;;;;25137:31:46;25112:6;25137:31;;;:26;:31;;;;;;;25038:137;8762:100:28;;;:::i;25984:152:46:-;;;;;;;;;;-1:-1:-1;25984:152:46;;;;;:::i;:::-;;:::i;4991:342::-;;;;;;;;;;-1:-1:-1;4991:342:46;;;;;:::i;:::-;;:::i;20706:916::-;;;;;;;;;;-1:-1:-1;20706:916:46;;;;;:::i;:::-;;:::i;11671:519::-;;;;;;;;;;-1:-1:-1;11671:519:46;;;;;:::i;:::-;;:::i;11408:182:28:-;;;;;;;;;;;;;:::i;:::-;;;;;;;:::i;19491:671:46:-;;;;;;;;;;-1:-1:-1;19491:671:46;;;;;:::i;:::-;;:::i;23921:107::-;;;;;;;;;;-1:-1:-1;24003:18:46;;23921:107;;23687:100;;;;;;;;;;-1:-1:-1;23687:100:46;;;;;:::i;:::-;-1:-1:-1;;;;;23767:13:46;23744:4;23767:13;;;:8;:13;;;;;;;;;23687:100;1286:198:74;;;;;;;;;;-1:-1:-1;1286:198:74;;;;;:::i;:::-;;:::i;24616:139:46:-;;;;;;;;;;-1:-1:-1;24616:139:46;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;16991:745::-;;;;;;;;;;-1:-1:-1;16991:745:46;;;;;:::i;:::-;;:::i;6000:697::-;;;;;;;;;;-1:-1:-1;6000:697:46;;;;;:::i;:::-;;:::i;16471:348::-;;;;;;;;;;-1:-1:-1;16471:348:46;;;;;:::i;:::-;;:::i;15526:272::-;;;;;;;;;;-1:-1:-1;15526:272:46;;;;;:::i;:::-;;:::i;15926:269::-;;;;;;;;;;-1:-1:-1;15926:269:46;;;;;:::i;:::-;;:::i;10531:771::-;;;;;;;;;;-1:-1:-1;10531:771:46;;;;;:::i;:::-;;:::i;25563:415::-;;;;;;;;;;-1:-1:-1;25563:415:46;;;;;:::i;:::-;;:::i;22709:168::-;;;;;;;;;;-1:-1:-1;22709:168:46;;;;;:::i;:::-;;:::i;13956:316::-;;;;;;;;;;-1:-1:-1;13956:316:46;;;;;:::i;:::-;;:::i;24894:138::-;;;;;;;;;;-1:-1:-1;24894:138:46;;;;;:::i;:::-;;:::i;:::-;;;;17046:13:109;;17028:32;;17116:4;17104:17;;;17098:24;17076:20;;;17069:54;17167:17;;;17161:24;17139:20;;;17132:54;17016:2;17001:18;24894:138:46;16810:382:109;9590:525:46;;;;;;;;;;-1:-1:-1;9590:525:46;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;10363:708:28:-;;;;;;:::i;:::-;;:::i;8348:349::-;;;;;;:::i;:::-;;:::i;22402:168:46:-;;;;;;;;;;-1:-1:-1;22402:168:46;;;;;:::i;:::-;;:::i;11693:435:28:-;;;;;;;;;;-1:-1:-1;11693:435:28;;;;;:::i;:::-;11963:19;11957:4;11950:33;;;11812:14;11996:26;;;;12106:4;12090:21;;12084:28;;11693:435;24034:414:46;24114:24;24140:11;24163:17;24183:178;24306:3;24311:25;24324:3;24329:6;24311:12;:25::i;:::-;24232:119;;;;;;;;;:::i;:::-;;;;-1:-1:-1;;24232:119:46;;;;;;;;;;;;;;-1:-1:-1;;;;;24232:119:46;-1:-1:-1;;;24232:119:46;;;-1:-1:-1;;;;;24183:14:46;:35;;;:178::i;:::-;24163:198;;24418:4;24407:34;;;;;;;;;;;;:::i;:::-;24380:61;;;;-1:-1:-1;24034:414:46;-1:-1:-1;;;;24034:414:46:o;13529:301::-;1067:15:74;:13;:15::i;:::-;13645:178:46::1;13774:10;13786:3;;13791:7;;13692:121;;;;;;;;;;;;:::i;:::-;;::::0;;-1:-1:-1;;13692:121:46;;::::1;::::0;;;;;;::::1;::::0;::::1;::::0;;-1:-1:-1;;;;;13692:121:46::1;-1:-1:-1::0;;;13692:121:46::1;::::0;;-1:-1:-1;;;;;13645:12:46::1;:33;::::0;::::1;:178::i;:::-;;13529:301:::0;;;;:::o;22002:288::-;12517:13:28;:11;:13::i;:::-;22082:5:46::1;22081:6;:24;;;;;22091:3;-1:-1:-1::0;;;;;22091:12:46::1;;:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;22077:52;;;22114:15;;-1:-1:-1::0;;;22114:15:46::1;;;;;;;;;;;22077:52;-1:-1:-1::0;;;;;22139:13:46;::::1;;::::0;;;:8:::1;:13;::::0;;;;:21;;-1:-1:-1;;22139:21:46::1;::::0;::::1;::::0;::::1;::::0;;;::::1;::::0;;;22171:113:::1;;22201:17;::::0;-1:-1:-1;;;;;22201:17:46;::::1;::::0;::::1;::::0;;;::::1;22002:288:::0;;:::o;22171:113::-:1;22254:19;::::0;-1:-1:-1;;;;;22254:19:46;::::1;::::0;::::1;::::0;;;::::1;22171:113;22002:288:::0;;:::o;8210:1042::-;8280:19;1067:15:74;:13;:15::i;:::-;8311:25:46::1;8339:17:::0;;;:13:::1;:17;::::0;;;;;;;;8311:45;;::::1;::::0;::::1;::::0;;;;-1:-1:-1;;;;;8311:45:46;;::::1;::::0;;;;::::1;::::0;::::1;::::0;;::::1;::::0;;;::::1;::::0;::::1;::::0;;;;;;;;::::1;::::0;::::1;::::0;;;;;::::1;::::0;::::1;::::0;;;;;::::1;;::::0;::::1;;;;::::0;;;;8367:21:::1;::::0;:10:::1;:21::i;:::-;8398:43;8417:5;:9;;;8428:5;:12;;;8398:18;:43::i;:::-;8452:14;8469:44;8489:5;:9;;;8500:5;:12;;;8469:19;:44::i;:::-;8452:61;;8523:18;8544:13;:7;:11;:13::i;:::-;8523:34;;8568:107;8594:5;:9;;;8615:1;8605:7;:11;:36;;8631:10;8605:36;;;8619:9;8605:36;8643:5;:13;;;8658:5;:16;;;8568:25;:107::i;:::-;8703:10;8690:5;:10;;;:23;8686:52;;;8715:10;::::0;::::1;:23:::0;;;8686:52:::1;8749:9;8771:1:::0;8761:7:::1;:11;:36;;8788:9;8761:36;;;8775:10;8761:36;8749:48;;8808:60;8828:5;:9;;;8839:2;8843:5;:12;;;8857:10;8808:19;:60::i;:::-;9030:12:::0;;9044:9:::1;::::0;::::1;::::0;9061:10:::1;::::0;::::1;::::0;9073:16:::1;::::0;::::1;::::0;8949:193:::1;::::0;8879:17:::1;::::0;8899:253:::1;::::0;8949:193:::1;::::0;9030:12;;9044:9;;9055:4;;9061:10;9073:16;9091:10:::1;::::0;9103:24;;::::1;::::0;8949:193:::1;;;:::i;:::-;;::::0;;-1:-1:-1;;8949:193:46;;::::1;::::0;;;;;;::::1;::::0;::::1;::::0;;-1:-1:-1;;;;;8949:193:46::1;-1:-1:-1::0;;;8949:193:46::1;::::0;;-1:-1:-1;;;;;8899:15:46::1;:36;::::0;::::1;:253::i;:::-;8879:273;;9163:37;9184:5;:9;;;9195:4;9163:20;:37::i;:::-;9229:4;9218:27;;;;;;;;;;;;:::i;:::-;9211:34;;;;;;;1092:1:74;8210:1042:46::0;;;:::o;9021:617:28:-;9114:15;7972:9;-1:-1:-1;;;;;9132:46:28;:15;:46;9114:64;;9346:19;9340:4;9333:33;9396:8;9390:4;9383:22;9452:7;9445:4;9439;9429:21;9422:38;9599:8;9552:45;9549:1;9546;9541:67;9248:374;9021:617::o;23152:349:46:-;12517:13:28;:11;:13::i;:::-;23299:15:46::1;23310:3;23299:10;:15::i;:::-;23371:113;::::0;-1:-1:-1;;;;;23595:15:109;;;23371:113:46::1;::::0;::::1;23577:34:109::0;23647:15;;;23627:18;;;23620:43;23699:15;;23679:18;;;23672:43;23731:18;;;23724:34;;;23325:169:46::1;::::0;23511:19:109;;23371:113:46::1;::::0;;-1:-1:-1;;23371:113:46;;::::1;::::0;;;;;;::::1;::::0;::::1;::::0;;-1:-1:-1;;;;;23371:113:46::1;-1:-1:-1::0;;;23371:113:46::1;::::0;;-1:-1:-1;;;;;23325:11:46::1;:32;::::0;::::1;:169::i;12940:437::-:0;1067:15:74;:13;:15::i;:::-;13063:19:46::1;::::0;;13080:1:::1;13063:19:::0;;;;;::::1;::::0;;;13033:27:::1;::::0;13063:19:::1;;;;;;:::i;:::-;;;;;;;;;;;;;-1:-1:-1::0;;13115:16:46::1;::::0;;13129:1:::1;13115:16:::0;;;;;::::1;::::0;;;13033:49;;-1:-1:-1;13092:20:46::1;::::0;13115:16;::::1;::::0;;::::1;::::0;;::::1;::::0;::::1;;::::0;-1:-1:-1;13115:16:46::1;13092:39;;13154:5;13141:7;13149:1;13141:10;;;;;;;;:::i;:::-;;;;;;:18;;;;13178:2;13169:3;13173:1;13169:6;;;;;;;;:::i;:::-;;;;;;:11;;;::::0;::::1;13191:179;13321:10;13333:3;13338:7;13238:122;;;;;;;;;;:::i;24454:156::-:0;24528:6;24553:50;24572:3;24577:25;24590:3;24595:6;24577:12;:25::i;:::-;24553:18;:50::i;:::-;24546:57;;24454:156;;;;;:::o;25406:151::-;25480:4;25503:47;25519:3;25524:25;25537:3;25542:6;25524:12;:25::i;:::-;25503:15;:47::i;12388:409::-;12479:20;1067:15:74;:13;:15::i;:::-;12523:9:46::1;-1:-1:-1::0;;;;;12515:32:46::1;::::0;12511:75:::1;;12549:37;::::0;-1:-1:-1;;;12549:37:46;;-1:-1:-1;;;;;12549:9:46::1;:25;::::0;::::1;::::0;:37:::1;::::0;12575:10:::1;::::0;12549:37:::1;;;:::i;:::-;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;::::0;::::1;;;;;;;;;12511:75;12597:17;12617:127;12713:10;12725:7;;12664:70;;;;;;;;;;:::i;:::-;;::::0;;-1:-1:-1;;12664:70:46;;::::1;::::0;;;;;;::::1;::::0;::::1;::::0;;-1:-1:-1;;;;;12664:70:46::1;-1:-1:-1::0;;;12664:70:46::1;::::0;;-1:-1:-1;;;;;12617:12:46::1;:33;::::0;::::1;:127::i;:::-;12597:147;;12772:4;12761:29;;;;;;;;;;;;:::i;:::-;12755:35:::0;12388:409;-1:-1:-1;;;;12388:409:46:o;7052:834::-;7183:19;1067:15:74;:13;:15::i;:::-;7214::46::1;7225:3;7214:10;:15::i;:::-;7239:35;7258:3;7263:10;7239:18;:35::i;:::-;7285:14;7302:36;7322:3;7327:10;7302:19;:36::i;:::-;7285:53;;7348:18;7369:13;:7;:11;:13::i;:::-;7348:34;;7404:10;7397:4;:17;7393:49;;;7423:19;;-1:-1:-1::0;;;7423:19:46::1;;;;;;;;;;;7393:49;7456:4;7464:1;7456:9:::0;7452:23:::1;;7474:1;7467:8;;;;;;7452:23;7486:9;7508:1:::0;7498:7:::1;:11;:36;;7525:9;7498:36;;;7512:10;7498:36;7486:48;;7545:17;7565:227;7696:10;7708:3;7713:4;7719;7725:10;7745:1;7757:10;7749:4;:18;7615:167;;;;;;;;;;;;;;:::i;7565:227::-;7545:247;;7803:31;7824:3;7829:4;7803:20;:31::i;:::-;7863:4;7852:27;;;;;;;;;;;;:::i;:::-;7845:34;;;;;;1092:1:74;7052:834:46::0;;;;;:::o;14407:260::-;1067:15:74;:13;:15::i;:::-;14490:170:46::1;14620:10;14632:3;14537:113;;;;;;;;;:::i;:::-;;::::0;;-1:-1:-1;;14537:113:46;;::::1;::::0;;;;;;::::1;::::0;::::1;::::0;;-1:-1:-1;;;;;14537:113:46::1;-1:-1:-1::0;;;14537:113:46::1;::::0;;-1:-1:-1;;;;;14490:12:46::1;:33;::::0;::::1;:170::i;25284:116::-:0;25342:17;;:::i;:::-;25378:15;;;;:11;:15;;;;;;;;;25371:22;;;;;;;;;-1:-1:-1;;;;;25371:22:46;;;;;;;;;;;;;;;;;;;;;;25378:15;;25371:22;;;;-1:-1:-1;;;25371:22:46;;;;;;;;;;;;;:::i;:::-;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;25284:116;-1:-1:-1;;25284:116:46:o;26142:152::-;-1:-1:-1;;;;;26255:27:46;;;;;;;:19;:27;;;;;;;;:32;;;;;;;;;;;;26248:39;;;;;;;;;;;;;;;;;26220:16;;26248:39;;;26255:32;26248:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;26142:152;;;;:::o;9720:456:28:-;9922:19;9916:4;9909:33;9968:8;9962:4;9955:22;10020:1;10013:4;10007;9997:21;9990:32;10151:8;10105:44;10102:1;10099;10094:66;9720:456::o;15041:340:46:-;15116:10;15138:17;15158:173;15289:5;15296:10;15205:116;;;;;;;;;:::i;:::-;;;;-1:-1:-1;;15205:116:46;;;;;;;;;;;;;;-1:-1:-1;;;;;15205:116:46;-1:-1:-1;;;15205:116:46;;;-1:-1:-1;;;;;15158:12:46;:33;;;:173::i;:::-;15138:193;;15358:4;15347:27;;;;;;;;;;;;:::i;18050:620::-;1067:15:74;:13;:15::i;:::-;18116::46::1;18127:3;18116:10;:15::i;:::-;18156:22;18193:17:::0;18225:18:::1;18256:3;-1:-1:-1::0;;;;;18256:17:46::1;;:19;;;;;;;;;;;;;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1::0;;;;;18347:31:46;::::1;18311:33;18347:31:::0;;;:26:::1;:31;::::0;;;;;18142:133;;-1:-1:-1;18142:133:46;;-1:-1:-1;18142:133:46;-1:-1:-1;18435:45:46::1;18142:133:::0;18347:31;18435:45:::1;:::i;:::-;-1:-1:-1::0;;;;;18517:31:46;::::1;;::::0;;;:26:::1;:31;::::0;;;;;;;;:60;;;18593:70;;28708:25:109;;;28749:18;;;28742:34;;;28792:18;;;28785:34;;;18517:60:46;;-1:-1:-1;18517:31:46;18593:70:::1;::::0;28696:2:109;28681:18;18593:70:46::1;;;;;;;18106:564;;;;18050:620:::0;:::o;8762:100:28:-;12517:13;:11;:13::i;:::-;8834:21:::1;8852:1;8834:9;:21::i;:::-;8762:100::o:0;25984:152:46:-;-1:-1:-1;;;;;26100:24:46;;;;;;;:16;:24;;;;;;;;:29;;;;;;;;;;;;26093:36;;;;;;;;;;;;;;;;;26065:16;;26093:36;;;26100:29;26093:36;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;25984:152;;;;:::o;4991:342::-;3291:13:24;;;;;;;3290:14;;3336:34;;;;-1:-1:-1;3354:12:24;;3369:1;3354:12;;;;:16;3336:34;3335:97;;;;3377:33;3404:4;3377:18;:33::i;:::-;3376:34;:55;;;;-1:-1:-1;3414:12:24;;;;;:17;3376:55;3314:190;;;;-1:-1:-1;;;3314:190:24;;29032:2:109;3314:190:24;;;29014:21:109;29071:2;29051:18;;;29044:30;29110:34;29090:18;;;29083:62;-1:-1:-1;;;29161:18:109;;;29154:44;29215:19;;3314:190:24;;;;;;;;;3514:12;:16;;-1:-1:-1;;3514:16:24;3529:1;3514:16;;;3540:65;;;;3574:13;:20;;-1:-1:-1;;3574:20:24;;;;;3540:65;5142:59:46::1;-1:-1:-1::0;;;;;5142:4:46::1;:16;5167:13;-1:-1:-1::0;;5142:16:46::1;:59::i;:::-;5211:13;:30:::0;;;5251:18:::1;:40:::0;;;5302:24:::1;5319:6:::0;5302:16:::1;:24::i;:::-;3629:14:24::0;3625:99;;;3659:13;:21;;-1:-1:-1;;3659:21:24;;;3699:14;;-1:-1:-1;29397:36:109;;3699:14:24;;29385:2:109;29370:18;3699:14:24;;;;;;;3625:99;3258:472;4991:342:46;;;:::o;20706:916::-;1067:15:74;:13;:15::i;:::-;20853:9:46::1;-1:-1:-1::0;;;;;20845:32:46::1;::::0;20841:75:::1;;20879:37;::::0;-1:-1:-1;;;20879:37:46;;-1:-1:-1;;;;;20879:9:46::1;:25;::::0;::::1;::::0;:37:::1;::::0;20905:10:::1;::::0;20879:37:::1;;;:::i;:::-;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;::::0;::::1;;;;;;;;;20841:75;20927:15;20938:3;20927:10;:15::i;:::-;20967:11;20993:20:::0;21027:23:::1;21063:3;-1:-1:-1::0;;;;;21063:18:46::1;;21082:10;21063:30;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;20953:140;;;;;;21108:6;21118:1;21108:11;21104:73;;21121:56;-1:-1:-1::0;;;;;21121:4:46::1;:21;21143:10;21163:4;21170:6:::0;21121:21:::1;:56::i;:::-;21237:368;::::0;-1:-1:-1;;;;;30137:15:109;;;21237:368:46::1;::::0;::::1;30119:34:109::0;21380:10:46::1;30169:18:109::0;;;30162:43;30241:15;;30221:18;;;30214:43;30273:18;;;30266:34;;;30316:19;;;30309:35;;;30360:19;;;30353:35;;;30404:19;;;30397:35;;;21188:427:46::1;::::0;30053:19:109;;21237:368:46::1;::::0;;-1:-1:-1;;21237:368:46;;::::1;::::0;;;;;;::::1;::::0;::::1;::::0;;-1:-1:-1;;;;;21237:368:46::1;-1:-1:-1::0;;;21237:368:46::1;::::0;;-1:-1:-1;;;;;21188:14:46::1;:35;::::0;::::1;:427::i;:::-;;20831:791;;;20706:916:::0;;;:::o;11671:519::-;11753:10;1067:15:74;:13;:15::i;:::-;11787:9:46::1;-1:-1:-1::0;;;;;11779:32:46::1;::::0;11775:75:::1;;11813:37;::::0;-1:-1:-1;;;11813:37:46;;-1:-1:-1;;;;;11813:9:46::1;:25;::::0;::::1;::::0;:37:::1;::::0;11839:10:::1;::::0;11813:37:::1;;;:::i;:::-;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;::::0;::::1;;;;;;;;;11775:75;11891:19;::::0;;11908:1:::1;11891:19:::0;;;;;::::1;::::0;;;11861:27:::1;::::0;11891:19:::1;;;;;;:::i;:::-;;;;;;;;;;;;;;;-1:-1:-1::0;11861:49:46;-1:-1:-1;11920:18:46::1;;::::0;;::::1;::::0;::::1;11933:5:::0;11920:18:::1;:::i;:::-;:7;11928:1;11920:10;;;;;;;;:::i;:::-;;;;;;:18;;;;11949:17;11969:127;12065:10;12077:7;12016:70;;;;;;;;;:::i;11969:127::-;11949:147;;12107:20;12141:4;12130:29;;;;;;;;;;;;:::i;:::-;12107:52;;12177:3;12181:1;12177:6;;;;;;;;:::i;:::-;;;;;;;12170:13;;;;;11671:519:::0;;;:::o;11408:182:28:-;-1:-1:-1;;11556:18:28;;11408:182::o;19491:671:46:-;1067:15:74;:13;:15::i;:::-;19656:9:46::1;-1:-1:-1::0;;;;;19648:32:46::1;::::0;19644:75:::1;;19682:37;::::0;-1:-1:-1;;;19682:37:46;;-1:-1:-1;;;;;19682:9:46::1;:25;::::0;::::1;::::0;:37:::1;::::0;19708:10:::1;::::0;19682:37:::1;;;:::i;:::-;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;::::0;::::1;;;;;;;;;19644:75;19730:15;19741:3;19730:10;:15::i;:::-;19756:24;19783:29;19796:3;19801:10;19783:12;:29::i;:::-;19756:56;;19828:30;19844:3;19849:8;19828:15;:30::i;:::-;19823:62;;19867:18;;-1:-1:-1::0;;;19867:18:46::1;;;;;;;;;;;19823:62;19896:56;-1:-1:-1::0;;;;;19896:4:46::1;:21;19918:10;19938:4;19945:6:::0;19896:21:::1;:56::i;:::-;20012:133;::::0;-1:-1:-1;;;;;31446:15:109;;;20012:133:46::1;::::0;::::1;31428:34:109::0;31498:15;;31478:18;;;31471:43;20106:10:46::1;31530:18:109::0;;;31523:43;31582:18;;;31575:34;;;31625:19;;;31618:35;;;19963:192:46::1;::::0;31362:19:109;;20012:133:46::1;::::0;;-1:-1:-1;;20012:133:46;;::::1;::::0;;;;;;::::1;::::0;::::1;::::0;;-1:-1:-1;;;;;20012:133:46::1;-1:-1:-1::0;;;20012:133:46::1;::::0;;-1:-1:-1;;;;;19963:14:46::1;:35;::::0;::::1;:192::i;:::-;;19634:528;19491:671:::0;;;;:::o;1286:198:74:-;12517:13:28;:11;:13::i;:::-;1348:6:74::1;:16:::0;;;::::1;::::0;::::1;::::0;::::1;-1:-1:-1::0;;1348:16:74;;::::1;::::0;;;::::1;::::0;;;1375:103:::1;;1407:11;::::0;::::1;::::0;;;::::1;1286:198:::0;:::o;1375:103::-:1;1454:13;::::0;::::1;::::0;;;::::1;1375:103;1286:198:::0;:::o;24616:139:46:-;24689:15;;:::i;:::-;24723:25;24736:3;24741:6;24723:12;:25::i;16991:745::-;1067:15:74;:13;:15::i;:::-;17072::46::1;17083:3;17072:10;:15::i;:::-;-1:-1:-1::0;;;;;17125:14:46;::::1;17098:24;17125:14:::0;;;::::1;::::0;;;;;;;17140:10:::1;17125:26:::0;;;;;;;17098:53;;::::1;::::0;::::1;::::0;;;;;;::::1;::::0;::::1;::::0;;;::::1;::::0;;;::::1;::::0;::::1;::::0;;;;;;;;::::1;::::0;::::1;::::0;;;;;::::1;;::::0;;;;;;17166:20;17162:46:::1;;17195:13;;-1:-1:-1::0;;;17195:13:46::1;;;;;;;;;;;17162:46;17219:44;17266:60;17290:3:::0;17295:8;17305:20:::1;:6:::0;-1:-1:-1;;17305:10:46::1;:20::i;:::-;17266:23;:60::i;:::-;17219:107;;17341:18;:26;;;17371:1;17341:31;17337:54;;17381:10;;-1:-1:-1::0;;;17381:10:46::1;;;;;;;;;;;17337:54;17420:34;::::0;;::::1;::::0;17402:15:::1;::::0;::::1;:52:::0;17495:34;;17464:28;;::::1;:65:::0;17540:39:::1;17565:3:::0;17402:8;17540:24:::1;:39::i;:::-;-1:-1:-1::0;;;;;17590:14:46;;::::1;:9;:14:::0;;;::::1;::::0;;;;;;;17605:10:::1;17590:26:::0;;;;;;;;;;:37;;;;;;::::1;::::0;::::1;::::0;::::1;::::0;;::::1;::::0;::::1;::::0;::::1;::::0;::::1;::::0;::::1;::::0;::::1;::::0;::::1;::::0;::::1;::::0;::::1;::::0;::::1;::::0;;::::1;::::0;17638::::1;::::0;:4:::1;:17;::::0;17668:6;17638:17:::1;:37::i;:::-;17691:38;::::0;3282:25:109;;;17710:10:46::1;::::0;-1:-1:-1;;;;;17691:38:46;::::1;::::0;::::1;::::0;3270:2:109;3255:18;17691:38:46::1;;;;;;;17062:674;;16991:745:::0;;:::o;6000:697::-;6177:18;1067:15:74;:13;:15::i;:::-;6219:9:46::1;-1:-1:-1::0;;;;;6211:32:46::1;::::0;6207:75:::1;;6245:37;::::0;-1:-1:-1;;;6245:37:46;;-1:-1:-1;;;;;6245:9:46::1;:25;::::0;::::1;::::0;:37:::1;::::0;6271:10:::1;::::0;6245:37:::1;;;:::i;:::-;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;::::0;::::1;;;;;;;;;6207:75;6293:15;6304:3;6293:10;:15::i;:::-;6318:35;6337:3;6342:10;6318:18;:35::i;:::-;6363:51;6382:3:::0;6387:5;6394:19:::1;6387:5:::0;6404:8;6394:9:::1;:19::i;:::-;6363:18;:51::i;:::-;6425:17;6445:158;6542:10;6554:3;6559:4;6565:5;6572:8;6582:9;6495:98;;;;;;;;;;;;;:::i;:::-;;::::0;;-1:-1:-1;;6495:98:46;;::::1;::::0;;;;;;::::1;::::0;::::1;::::0;;-1:-1:-1;;;;;6495:98:46::1;-1:-1:-1::0;;;6495:98:46::1;::::0;;-1:-1:-1;;;;;6445:15:46::1;:36;::::0;::::1;:158::i;:::-;6425:178;;6614:31;6635:3;6640:4;6614:20;:31::i;:::-;6674:4;6663:27;;;;;;;;;;;;:::i;:::-;6656:34:::0;6000:697;-1:-1:-1;;;;;;;6000:697:46:o;16471:348::-;1067:15:74;:13;:15::i;:::-;16549::46::1;16560:3;16549:10;:15::i;:::-;16579:29;16592:3;16597:10;16579:12;:29::i;:::-;:34:::0;::::1;:39:::0;16575:65:::1;;16627:13;;-1:-1:-1::0;;;16627:13:46::1;;;;;;;;;;;16575:65;16651:56;-1:-1:-1::0;;;;;16651:4:46::1;:21;16673:10;16693:4;16700:6:::0;16651:21:::1;:56::i;:::-;-1:-1:-1::0;;;;;16717:14:46;::::1;:9;:14:::0;;;::::1;::::0;;;;;;;16732:10:::1;16717:26:::0;;;;;;;:33:::1;;:43:::0;;16754:6;;16717:9;:43:::1;::::0;16754:6;;16717:43:::1;:::i;:::-;::::0;;;-1:-1:-1;;16776:36:46::1;::::0;3282:25:109;;;16793:10:46::1;::::0;-1:-1:-1;;;;;16776:36:46;::::1;::::0;::::1;::::0;3270:2:109;3255:18;16776:36:46::1;;;;;;;16471:348:::0;;:::o;15526:272::-;15614:177;15745:2;15749:5;15756:10;15661:120;;;;;;;;;;:::i;:::-;;;;-1:-1:-1;;15661:120:46;;;;;;;;;;;;;;-1:-1:-1;;;;;15661:120:46;-1:-1:-1;;;15661:120:46;;;-1:-1:-1;;;;;15614:12:46;:33;;;:177::i;:::-;;15526:272;;:::o;15926:269::-;15985:25;16013:17;;;:13;:17;;;;;;;;;15985:45;;;;;;;;;-1:-1:-1;;;;;15985:45:46;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;16061:10;16045:26;;;;:51;;;16089:7;:5;:7::i;:::-;-1:-1:-1;;;;;16075:21:46;:10;-1:-1:-1;;;;;16075:21:46;;;16045:51;16041:76;;;16105:12;;-1:-1:-1;;;16105:12:46;;;;;;;;;;;16041:76;16128:60;16148:5;:9;;;16159:2;16163:5;:12;;;16185:1;16128:19;:60::i;10531:771::-;1067:15:74;:13;:15::i;:::-;10657::46::1;10668:3;10657:10;:15::i;:::-;10684:11;10697:20:::0;10719:21:::1;10744:3;-1:-1:-1::0;;;;;10744:19:46::1;;10764:10;10776:4;;10744:37;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;10683:98;;;;;;10796:4;10804:1;10796:9;10792:455;;10879:16:::0;;10875:83:::1;;10897:61;-1:-1:-1::0;;;;;10897:4:46::1;:21;10919:10;10939:4;10946:11:::0;10897:21:::1;:61::i;:::-;10973:180;11073:3:::0;11078:10:::1;11090:27;11106:11:::0;11090:13;:27:::1;:::i;:::-;11026:113;::::0;-1:-1:-1;;;;;34077:15:109;;;11026:113:46::1;::::0;::::1;34059:34:109::0;34129:15;;;;34109:18;;;34102:43;34161:18;;;34154:34;34204:18;;;34197:34;;;34247:19;;;34240:35;;;33993:19;;11026:113:46::1;::::0;;-1:-1:-1;;11026:113:46;;::::1;::::0;;;;;;::::1;::::0;::::1;::::0;;-1:-1:-1;;;;;11026:113:46::1;-1:-1:-1::0;;;11026:113:46::1;::::0;;-1:-1:-1;;;;;10973:14:46::1;:35;::::0;::::1;:180::i;:::-;;10792:455;;;11192:44;-1:-1:-1::0;;;;;11192:4:46::1;:17;11210:10;11222:13:::0;11192:17:::1;:44::i;:::-;11262:33;::::0;11284:10:::1;::::0;-1:-1:-1;;;;;11262:33:46;::::1;::::0;::::1;::::0;;;::::1;10647:655;;;10531:771:::0;;;;:::o;25563:415::-;25627:4;25671:17;;;:13;:17;;;;;;;;25643:45;;;;;;;;;-1:-1:-1;;;;;25643:45:46;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;25627:4;;25713:37;;25643:45;25713:12;:37::i;:::-;:42;;-1:-1:-1;25713:42:46;25770:9;;;25766:27;;-1:-1:-1;25788:5:46;;25563:415;-1:-1:-1;;;25563:415:46:o;25766:27::-;25811:160;25845:5;:9;;;25876:1;25869:4;:8;:33;;25892:10;25869:33;;;25880:9;25869:33;25917:5;:13;;;25945:5;:16;;;25811:20;:160::i;22709:168::-;12517:13:28;:11;:13::i;:::-;22788:18:46::1;:30:::0;;;22834:36:::1;::::0;3282:25:109;;;22834:36:46::1;::::0;3270:2:109;3255:18;22834:36:46::1;;;;;;;;22709:168:::0;:::o;13956:316::-;1067:15:74;:13;:15::i;:::-;14047:16:46::1;::::0;;14061:1:::1;14047:16:::0;;;;;::::1;::::0;;;14024:20:::1;::::0;14047:16:::1;::::0;;::::1;::::0;;::::1;::::0;::::1;;::::0;-1:-1:-1;14047:16:46::1;14024:39;;14082:2;14073:3;14077:1;14073:6;;;;;;;;:::i;:::-;;;;;;:11;;;::::0;::::1;14095:170;14225:10;14237:3;14142:113;;;;;;;;;:::i;24894:138::-:0;24960:24;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;24960:24:46;-1:-1:-1;;;;;;25003:22:46;;;;;:17;:22;;;;;;;;;24996:29;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;24894:138::o;9590:525::-;9710:42;1067:15:74;:13;:15::i;:::-;9776:9:46::1;-1:-1:-1::0;;;;;9768:32:46::1;::::0;9764:75:::1;;9802:37;::::0;-1:-1:-1;;;9802:37:46;;-1:-1:-1;;;;;9802:9:46::1;:25;::::0;::::1;::::0;:37:::1;::::0;9828:10:::1;::::0;9802:37:::1;;;:::i;:::-;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;::::0;::::1;;;;;;;;;9764:75;9850:15;9861:3;9850:10;:15::i;:::-;9924:68;::::0;-1:-1:-1;;;9924:68:46;;9876:14:::1;::::0;-1:-1:-1;;;;;9924:16:46;::::1;::::0;::::1;::::0;:68:::1;::::0;9954:10:::1;::::0;9978:4;;;;9924:68:::1;;;:::i;:::-;;;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;::::0;;::::1;-1:-1:-1::0;;9924:68:46::1;::::0;::::1;;::::0;::::1;::::0;;;::::1;::::0;::::1;:::i;:::-;9901:91:::0;;-1:-1:-1;9901:91:46;-1:-1:-1;10005:56:46::1;-1:-1:-1::0;;;;;10005:4:46::1;:21;10027:10;10047:4;9901:91:::0;10005:21:::1;:56::i;:::-;10077:31;::::0;10097:10:::1;::::0;-1:-1:-1;;;;;10077:31:46;::::1;::::0;::::1;::::0;;;::::1;9754:361;9590:525:::0;;;;;:::o;10363:708:28:-;12517:13;:11;:13::i;:::-;10597:19:::1;10591:4;10584:33;10643:12;10637:4;10630:26;10705:4;10699;10689:21;10811:12;10805:19;10792:11;10789:36;10786:157;;;10857:10;10851:4;10844:24;10924:4;10918;10911:18;10786:157;11020:1;10999:23:::0;;11041::::1;11051:12:::0;11041:9:::1;:23::i;8348:349::-:0;12517:13;:11;:13::i;:::-;8520:8:::1;8516:2;8512:17;8502:150;;8562:10;8556:4;8549:24;8633:4;8627;8620:18;8502:150;8671:19;8681:8;8671:9;:19::i;22402:168:46:-:0;12517:13:28;:11;:13::i;:::-;22481::46::1;:30:::0;;;22527:36:::1;::::0;3282:25:109;;;22527:36:46::1;::::0;3270:2:109;3255:18;22527:36:46::1;3136:177:109::0;12939:146:47;13013:24;;:::i;:::-;-1:-1:-1;;;;;;13056:14:47;;;:9;:14;;;;;;;;;;;:22;;;;;;;;;;;;13049:29;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;12939:146::o;6674:198:26:-;6757:12;6788:77;6809:6;6817:4;6788:77;;;;;;;;;;;;;;;;;:20;:77::i;1671:86:74:-;1725:6;;;;;;;1720:30;;1740:10;;-1:-1:-1;;;1740:10:74;;;;;;;;;;;7292:355:28;-1:-1:-1;;7498:18:28;7488:8;7485:32;7475:156;;7550:10;7544:4;7537:24;7612:4;7606;7599:18;21062:104:47;-1:-1:-1;;;;;21124:13:47;;;;;;:8;:13;;;;;;;;21119:40;;21146:13;;-1:-1:-1;;;21146:13:47;;;;;;;;;;;21478:164;21579:25;21592:3;21597:6;21579:12;:25::i;:::-;:37;;;21563:12;:53;21559:76;;21625:10;;-1:-1:-1;;;21625:10:47;;;;;;;;;;;27792:199:46;-1:-1:-1;;;;;27909:14:46;;;27873;27909;;;;;;;;;;;:22;;;;;;;;;;;:27;;27950:12;;;27946:38;;27971:13;;-1:-1:-1;;;27971:13:46;;;;;;;;;;;40398:207:33;40576:3;40572:11;;;40444:9;40565:19;40561:27;;;40536:53;;40398:207::o;28257::46:-;28379:52;28400:3;28405:4;28411:7;28420:10;28379:20;:52::i;:::-;28374:83;;28440:17;;-1:-1:-1;;;28440:17:46;;;;;;;;;;;9631:760:47;9784:17;;;;:13;:17;;;;;;;;9777:24;;-1:-1:-1;;;;;;9777:24:47;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;9777:24:47;;;-1:-1:-1;;;;;9835:27:47;;;;;:19;:27;;;;;:32;;;;;;;;;;9812:55;;;;;;;;;;;;;;;;;;;9835:32;;9812:55;;;9835:32;9812:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;9877:14;9894:3;:10;9877:27;;9919:6;9929:1;9919:11;9915:401;;-1:-1:-1;;;;;9953:27:47;;;;;;;:19;:27;;;;;;;;:32;;;;;;;;;;;9946:39;;;:::i;:::-;9915:401;;;10021:9;10016:237;10036:6;10032:1;:10;10016:237;;;10078:2;10068:3;10072:1;10068:6;;;;;;;;:::i;:::-;;;;;;;:12;10064:139;;10142:3;10146:10;10155:1;10146:6;:10;:::i;:::-;10142:15;;;;;;;;:::i;:::-;;;;;;;;;;;;-1:-1:-1;;;;;10104:27:47;;;;;;;:19;:27;;;;;;:32;;;;;;;;;;;;:35;;10137:1;;10104:35;;;;;;:::i;:::-;;;;;;;;;;:53;10179:5;;10064:139;10233:3;;10016:237;;;-1:-1:-1;;;;;;10267:27:47;;;;;;;:19;:27;;;;;;;;:32;;;;;;;;;:38;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;9915:401;10369:6;-1:-1:-1;;;;;10340:44:47;10364:3;-1:-1:-1;;;;;10340:44:47;10360:2;10340:44;10377:6;10340:44;;;;;;:::i;:::-;;;;;;;;9767:624;;9631:760;;;;:::o;28646:535:46:-;28738:13;;28724:11;28809:8;;;28805:21;;28819:7;28646:535;;:::o;28805:21::-;28836:12;28851:3;-1:-1:-1;;;;;28851:16:46;;:18;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;28836:33;;28879:13;28895:3;-1:-1:-1;;;;;28895:17:46;;:19;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;28879:35;;29003:4;28960:47;;;;;;;;:::i;:::-;28968:5;28961:4;:12;:37;;28989:9;28961:37;;;28976:10;28961:37;28960:47;;;;;;;;:::i;:::-;;28956:60;;29009:7;;;28646:535;;:::o;28956:60::-;29074:14;29091:26;29112:4;29091:16;29112:4;29101:5;29091:9;:16::i;:::-;:20;;:26::i;:::-;29074:43;;29141:3;29132:6;:12;29128:46;;;29153:21;;-1:-1:-1;;;29153:21:46;;;;;;;;;;;26300:859;26385:21;26418:17;26438:161;26561:3;26566:8;26487:102;;;;;;;;;:::i;26438:161::-;26418:181;;26611:24;26637:11;26663:4;26652:34;;;;;;;;;;;;:::i;:::-;26610:76;;;;26697:13;26713:26;:8;:15;;;:24;:26::i;:::-;26697:42;;26750:20;26780:1;26773:4;:8;:33;;26793:13;26802:4;26793:6;:13;:::i;:::-;26773:33;;;26784:6;26773:33;26750:56;;26817:16;26836:35;:3;-1:-1:-1;;;;;26836:22:46;;:24;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:33;:35::i;:::-;26817:54;;26882:24;26936:1;26920:8;:13;;;:17;26916:186;;;26973:21;;;;:36;;26999:9;26973:25;:36::i;:::-;26953:56;;26916:186;;;27060:31;:16;27081:9;27060:20;:31::i;:::-;27040:51;;26916:186;27119:33;27135:17;27119:13;:33;:::i;:::-;27112:40;26300:859;-1:-1:-1;;;;;;;;;;26300:859:46:o;12414:519:47:-;12534:13;;12501:17;;12534:18;;12530:36;;-1:-1:-1;12561:5:47;12554:12;;12530:36;12577:24;12604:50;:44;12622:3;-1:-1:-1;;;;;12622:23:47;;:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;12604:13;;;:17;:44::i;:::-;:48;:50::i;:::-;12577:77;;12665:11;12679:90;12688:27;:16;:25;:27::i;:::-;12717:32;:8;:21;;;:30;:32::i;:::-;12751:13;;12767:1;-1:-1:-1;12679:8:47;:90::i;:::-;12665:104;;12780:14;12797:44;12821:3;12826:8;12836:4;12797:23;:44::i;:::-;:60;;;12780:77;;12906:3;-1:-1:-1;;;;;12906:18:47;;:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;12875:28;:6;12886:16;12875:10;:28::i;:::-;:51;;12414:519;-1:-1:-1;;;;;;12414:519:47:o;6145:1089:28:-;-1:-1:-1;;7093:16:28;;-1:-1:-1;;;;;6941:26:28;;;;;;-1:-1:-1;;;;;;;;;;;7050:1:28;;7042:78;7177:27;6145:1089::o;1412:320:26:-;-1:-1:-1;;;;;1702:19:26;;:23;;;1412:320::o;14171:936:38:-;14333:2;14327:4;14320:16;14390:6;14384:4;14377:20;-1:-1:-1;;;14449:4:38;14442:48;14843:4;14837;14831;14825;14822:1;14815:5;14808;14803:45;14737:16;14730:24;14726:1;14719:4;14713:11;14710:18;14707:48;14622:244;14595:399;;14912:10;14906:4;14899:24;14975:4;14969;14962:18;14595:399;15020:1;15014:4;15007:15;14171:936;;;:::o;4883:1190:28:-;-1:-1:-1;;;;;5793:26:28;-1:-1:-1;;5876:29:28;;;5793:26;6031:1;-1:-1:-1;;;;;;;;;;;6031:1:28;;5980:63;4883:1190;:::o;8181:1139:38:-;8364:4;8358:11;8429:6;8423:4;8416:20;8494:2;8488:4;8481:16;8559:4;8555:2;8551:13;8545:4;8538:27;-1:-1:-1;;;8615:4:38;8608:48;9022:4;9016;9010;9004;9001:1;8994:5;8987;8982:45;8916:16;8909:24;8905:1;8898:4;8892:11;8889:18;8886:48;8801:244;8774:404;;9091:10;9085:4;9078:24;9159:4;9153;9146:18;8774:404;9204:1;9198:4;9191:15;9260:4;9253:15;-1:-1:-1;;;;8181:1139:38:o;3093:250:69:-;3150:13;3191:5;;;3207:20;;;;3225:2;3226:1;3225:2;:::i;:::-;3221:6;;3207:20;3247:50;:39;3255:1;3277;3281:4;3247:21;:39::i;:50::-;3238:59;;3312:8;3308:28;;;3329:7;3330:6;3329:7;:::i;:::-;3322:14;;;;;3308:28;3165:178;3093:250;;;;:::o;11163:1245:47:-;11308:44;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;11308:44:47;-1:-1:-1;;;;;11401:31:47;;;;;;:26;:31;;;;;;11364:68;;11447:13;;:18;11443:536;;11706:13;;11655:28;;;;11618:34;;11617:116;;11706:13;11618:65;;;:::i;:::-;11617:71;;:116::i;:::-;11581:33;;;:152;;;11788:1;-1:-1:-1;11748:221:47;;;11951:3;11915:18;:33;;;:39;;;;:::i;:::-;11878:18;:33;;:76;;;;;;;:::i;:::-;;;-1:-1:-1;11748:221:47;12059:22;12134:26;:8;:15;;;:24;:26::i;:::-;12098:33;;;;12084:47;;:11;:47;:::i;:::-;:76;;;;:::i;:::-;12059:101;;12232:1;12213:15;:20;12209:193;;12249:34;;;:61;;;12209:193;;;12370:21;:15;:19;:21::i;:::-;12341:26;;;:50;12209:193;11354:1054;11163:1245;;;;;:::o;28470:170:46:-;28602:1;28566:33;28585:3;28590:8;28566:18;:33::i;:::-;:37;28562:71;;;28612:21;;-1:-1:-1;;;28612:21:46;;;;;;;;;;;11375:939:38;11538:2;11532:4;11525:16;11595:6;11589:4;11582:20;-1:-1:-1;;;11654:4:38;11647:48;12049:4;12043;12037;12031;12028:1;12021:5;12014;12009:45;11943:16;11936:24;11932:1;11925:4;11919:11;11916:18;11913:48;11828:244;11801:400;;12118:10;12112:4;12105:24;12182:4;12176;12169:18;789:112:69;847:7;873:21;:1;886;889:4;873:12;:21::i;27997:254:46:-;28096:16;28115:3;-1:-1:-1;;;;;28115:22:46;;:24;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;28096:43;-1:-1:-1;28149:13:46;28165:20;:6;28176:8;28165:10;:20::i;:::-;28149:36;;28208:8;28200:5;:16;28196:48;;;28225:19;;-1:-1:-1;;;28225:19:46;;;;;;;;;;;27165:438;27276:4;27292:17;27312:3;-1:-1:-1;;;;;27312:16:46;;:18;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;27292:38;-1:-1:-1;27341:12:46;;27368:4;:17;;;;;;;;:::i;:::-;;27364:207;;27411:10;:54;;27458:7;27446:9;:19;27411:54;;;27436:7;27424:9;:19;27411:54;27401:64;;27364:207;;;27506:10;:54;;27553:7;27541:9;:19;27506:54;;;27531:7;27519:9;:19;27506:54;27496:64;;27364:207;27588:8;;27165:438;-1:-1:-1;;;;;;27165:438:46:o;7058:325:26:-;7199:12;7224;7238:23;7265:6;-1:-1:-1;;;;;7265:19:26;7285:4;7265:25;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7223:67;;;;7307:69;7334:6;7342:7;7351:10;7363:12;7307:26;:69::i;:::-;7300:76;7058:325;-1:-1:-1;;;;;;7058:325:26:o;1130:123:69:-;1189:7;1215:31;1233:12;:1;:10;:12::i;:::-;1215;:1;:10;:12::i;:::-;40859:9:33;;;40871;;;40847;;;;40832:25;;40828:41;40824:57;;40675:222;907:112:69;965:7;991:21;:1;1004:4;1010:1;991:12;:21::i;10954:139:37:-;11006:6;-1:-1:-1;;;11028:1:37;:13;11024:36;;11043:17;:15;:17::i;:::-;-1:-1:-1;11084:1:37;10954:139::o;2846:241:69:-;2903:13;2944:5;;;2960:20;;;;2978:2;2979:1;2978:2;:::i;:::-;2974:6;;3000:41;:30;3008:1;3022;3025:4;3000:21;:30::i;18002:364:47:-;18099:11;18126:4;18122:229;;;18197:30;18215:12;18197:15;:30;:::i;:::-;18190:37;;18122:229;;;18310:30;18325:15;18310:12;:30;:::i;20291:3569:33:-;20903:9;;;-1:-1:-1;;20910:1:33;20907;20988:20;21116:14;;;21104:27;;21096:36;;;21217:278;;21263:1;21253:153;;21305:10;21299:4;21292:24;21379:4;21373;21366:18;21253:153;-1:-1:-1;21437:14:33;;;21472:5;;21217:278;21616:2;21613:1;21610:9;21600:149;;21656:10;21650:4;21643:24;21726:4;21720;21713:18;21600:149;22006:1;22003;22000;21993:15;22154:1;22150:9;;;22143:17;;22245:9;;;;;23565:13;;;23557:22;;;23589:9;;;;23585:17;;;23604:1;23581:25;23553:54;23641:14;;23637:22;23521:164;22620:1;22627;22623:9;;22616:17;;22902:11;;;22895:19;;22886:29;22975:11;;;22968:19;;22959:29;23049:11;;;23042:19;;23033:29;23123:11;;;23116:19;;23107:29;23197:11;;;23190:19;;23181:29;23773:11;;;23766:19;;;23757:29;23279:529;20291:3569;;;;;:::o;1830:338:69:-;1886:13;1924:5;;;1952;;;1983:14;;;;;;2008:17;;2023:2;2024:1;2023:2;:::i;:::-;2019:6;;2008:17;2039:5;2035:17;;;2050:2;2051:1;2050:2;:::i;:::-;2046:6;;2035:17;2072:50;:39;2080:1;2102;2106:4;2072:21;:39::i;:50::-;2063:59;;2137:8;2133:28;;;2154:7;2155:6;2154:7;:::i;:::-;2147:14;;;;;;;2133:28;1901:267;;;1830:338;;;;:::o;7671:628:26:-;7851:12;7879:7;7875:418;;;7906:10;:17;7927:1;7906:22;7902:286;;8121:18;8132:6;8121:10;:18::i;:::-;8113:60;;;;-1:-1:-1;;;8113:60:26;;38397:2:109;8113:60:26;;;38379:21:109;38436:2;38416:18;;;38409:30;38475:31;38455:18;;;38448:59;38524:18;;8113:60:26;38195:353:109;8113:60:26;-1:-1:-1;8208:10:26;8201:17;;7875:418;8249:33;8257:10;8269:12;8249:7;:33::i;11521:290:37:-;11710:10;11704:4;11697:24;11790:4;11784;11777:18;8821:540:26;8980:17;;:21;8976:379;;9208:10;9202:17;9264:15;9251:10;9247:2;9243:19;9236:44;8976:379;9331:12;9324:20;;-1:-1:-1;;;9324:20:26;;;;;;;;:::i;-1:-1:-1:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;14:140:109;-1:-1:-1;;;;;98:31:109;;88:42;;78:70;;144:1;141;134:12;159:423;244:6;252;305:2;293:9;284:7;280:23;276:32;273:52;;;321:1;318;311:12;273:52;360:9;347:23;379:40;413:5;379:40;:::i;:::-;438:5;-1:-1:-1;495:2:109;480:18;;467:32;508:42;467:32;508:42;:::i;:::-;569:7;559:17;;;159:423;;;;;:::o;838:389::-;920:8;930:6;984:3;977:4;969:6;965:17;961:27;951:55;;1002:1;999;992:12;951:55;-1:-1:-1;1025:20:109;;-1:-1:-1;;;;;1057:30:109;;1054:50;;;1100:1;1097;1090:12;1054:50;1137:4;1129:6;1125:17;1113:29;;1200:3;1193:4;1185;1177:6;1173:17;1165:6;1161:30;1157:41;1154:50;1151:70;;;1217:1;1214;1207:12;1151:70;838:389;;;;;:::o;1232:986::-;1385:6;1393;1401;1409;1462:2;1450:9;1441:7;1437:23;1433:32;1430:52;;;1478:1;1475;1468:12;1430:52;1505:23;;-1:-1:-1;;;;;1577:14:109;;;1574:34;;;1604:1;1601;1594:12;1574:34;1642:6;1631:9;1627:22;1617:32;;1687:7;1680:4;1676:2;1672:13;1668:27;1658:55;;1709:1;1706;1699:12;1658:55;1749:2;1736:16;1775:2;1767:6;1764:14;1761:34;;;1791:1;1788;1781:12;1761:34;1846:7;1839:4;1829:6;1826:1;1822:14;1818:2;1814:23;1810:34;1807:47;1804:67;;;1867:1;1864;1857:12;1804:67;1898:4;1890:13;;;;-1:-1:-1;1922:6:109;-1:-1:-1;1966:20:109;;;1953:34;;1999:16;;;1996:36;;;2028:1;2025;2018:12;1996:36;;2067:91;2150:7;2139:8;2128:9;2124:24;2067:91;:::i;:::-;1232:986;;;;-1:-1:-1;2177:8:109;-1:-1:-1;;;;1232:986:109:o;2223:118::-;2309:5;2302:13;2295:21;2288:5;2285:32;2275:60;;2331:1;2328;2321:12;2346:408;2428:6;2436;2489:2;2477:9;2468:7;2464:23;2460:32;2457:52;;;2505:1;2502;2495:12;2457:52;2544:9;2531:23;2563:40;2597:5;2563:40;:::i;:::-;2622:5;-1:-1:-1;2679:2:109;2664:18;;2651:32;2692:30;2651:32;2692:30;:::i;2951:180::-;3010:6;3063:2;3051:9;3042:7;3038:23;3034:32;3031:52;;;3079:1;3076;3069:12;3031:52;-1:-1:-1;3102:23:109;;2951:180;-1:-1:-1;2951:180:109:o;3318:642::-;3421:6;3429;3437;3445;3498:3;3486:9;3477:7;3473:23;3469:33;3466:53;;;3515:1;3512;3505:12;3466:53;3554:9;3541:23;3573:40;3607:5;3573:40;:::i;:::-;3632:5;-1:-1:-1;3689:2:109;3674:18;;3661:32;3702:42;3661:32;3702:42;:::i;:::-;3763:7;-1:-1:-1;3822:2:109;3807:18;;3794:32;3835:42;3794:32;3835:42;:::i;:::-;3318:642;;;;-1:-1:-1;3896:7:109;;3950:2;3935:18;3922:32;;-1:-1:-1;;3318:642:109:o;3965:127::-;4026:10;4021:3;4017:20;4014:1;4007:31;4057:4;4054:1;4047:15;4081:4;4078:1;4071:15;4097:253;4169:2;4163:9;4211:4;4199:17;;-1:-1:-1;;;;;4231:34:109;;4267:22;;;4228:62;4225:88;;;4293:18;;:::i;:::-;4329:2;4322:22;4097:253;:::o;4355:275::-;4426:2;4420:9;4491:2;4472:13;;-1:-1:-1;;4468:27:109;4456:40;;-1:-1:-1;;;;;4511:34:109;;4547:22;;;4508:62;4505:88;;;4573:18;;:::i;:::-;4609:2;4602:22;4355:275;;-1:-1:-1;4355:275:109:o;4635:145::-;4705:20;;4754:1;4744:12;;4734:40;;4770:1;4767;4760:12;4785:1053;4842:5;4890:4;4878:9;4873:3;4869:19;4865:30;4862:50;;;4908:1;4905;4898:12;4862:50;4941:2;4935:9;4983:4;4971:17;;-1:-1:-1;;;;;5003:34:109;;5039:22;;;5000:62;4997:88;;;5065:18;;:::i;:::-;5101:2;5094:22;5134:6;-1:-1:-1;5134:6:109;5164:23;;5196:42;5164:23;5196:42;:::i;:::-;5247:23;;5322:2;5307:18;;5294:32;5335:42;5294:32;5335:42;:::i;:::-;5405:2;5393:15;;5386:32;5451:40;5487:2;5472:18;;5451:40;:::i;:::-;5446:2;5438:6;5434:15;5427:65;5553:2;5542:9;5538:18;5525:32;5520:2;5512:6;5508:15;5501:57;5620:3;5609:9;5605:19;5592:33;5586:3;5578:6;5574:16;5567:59;5688:3;5677:9;5673:19;5660:33;5654:3;5646:6;5642:16;5635:59;5746:3;5735:9;5731:19;5718:33;5760:30;5782:7;5760:30;:::i;:::-;5818:3;5806:16;;;;5799:33;4785:1053;;-1:-1:-1;;4785:1053:109:o;5843:303::-;5940:6;5948;6001:3;5989:9;5980:7;5976:23;5972:33;5969:53;;;6018:1;6015;6008:12;5969:53;6054:9;6041:23;6031:33;;6083:57;6132:7;6127:2;6116:9;6112:18;6083:57;:::i;:::-;6073:67;;5843:303;;;;;:::o;6970:273::-;7046:6;7099:2;7087:9;7078:7;7074:23;7070:32;7067:52;;;7115:1;7112;7105:12;7067:52;7154:9;7141:23;7173:40;7207:5;7173:40;:::i;7248:487::-;7365:6;7373;7426:2;7414:9;7405:7;7401:23;7397:32;7394:52;;;7442:1;7439;7432:12;7394:52;7469:23;;-1:-1:-1;;;;;7504:30:109;;7501:50;;;7547:1;7544;7537:12;7501:50;7586:89;7667:7;7658:6;7647:9;7643:22;7586:89;:::i;7740:435::-;7793:3;7831:5;7825:12;7858:6;7853:3;7846:19;7884:4;7913:2;7908:3;7904:12;7897:19;;7950:2;7943:5;7939:14;7971:1;7981:169;7995:6;7992:1;7989:13;7981:169;;;8056:13;;8044:26;;8090:12;;;;8125:15;;;;8017:1;8010:9;7981:169;;;-1:-1:-1;8166:3:109;;7740:435;-1:-1:-1;;;;;7740:435:109:o;8180:261::-;8359:2;8348:9;8341:21;8322:4;8379:56;8431:2;8420:9;8416:18;8408:6;8379:56;:::i;8446:409::-;8540:6;8548;8556;8609:2;8597:9;8588:7;8584:23;8580:32;8577:52;;;8625:1;8622;8615:12;8577:52;8664:9;8651:23;8683:40;8717:5;8683:40;:::i;:::-;8742:5;8794:2;8779:18;;8766:32;;-1:-1:-1;8845:2:109;8830:18;;;8817:32;;8446:409;-1:-1:-1;;;8446:409:109:o;8860:183::-;8920:4;-1:-1:-1;;;;;8942:30:109;;8939:56;;;8975:18;;:::i;:::-;-1:-1:-1;9020:1:109;9016:14;9032:4;9012:25;;8860:183::o;9048:891::-;9132:6;9163:2;9206;9194:9;9185:7;9181:23;9177:32;9174:52;;;9222:1;9219;9212:12;9174:52;9249:23;;-1:-1:-1;;;;;9284:30:109;;9281:50;;;9327:1;9324;9317:12;9281:50;9350:22;;9403:4;9395:13;;9391:27;-1:-1:-1;9381:55:109;;9432:1;9429;9422:12;9381:55;9468:2;9455:16;9491:60;9507:43;9547:2;9507:43;:::i;:::-;9491:60;:::i;:::-;9585:15;;;9667:1;9663:10;;;;9655:19;;9651:28;;;9616:12;;;;9691:19;;;9688:39;;;9723:1;9720;9713:12;9688:39;9747:11;;;;9767:142;9783:6;9778:3;9775:15;9767:142;;;9849:17;;9837:30;;9800:12;;;;9887;;;;9767:142;;9944:127;10005:10;10000:3;9996:20;9993:1;9986:31;10036:4;10033:1;10026:15;10060:4;10057:1;10050:15;10076:232;10152:1;10145:5;10142:12;10132:143;;10197:10;10192:3;10188:20;10185:1;10178:31;10232:4;10229:1;10222:15;10260:4;10257:1;10250:15;10132:143;10284:18;;10076:232::o;10313:558::-;10404:1;10400;10395:3;10391:11;10387:19;10445:2;10437:5;10431:12;10427:21;10422:3;10415:34;10510:2;10502:4;10495:5;10491:16;10485:23;10481:32;10474:4;10469:3;10465:14;10458:56;;10560:4;10553:5;10549:16;10543:23;10575:50;10619:4;10614:3;10610:14;10596:12;10575:50;:::i;:::-;;10674:4;10667:5;10663:16;10657:23;10650:4;10645:3;10641:14;10634:47;10730:4;10723:5;10719:16;10713:23;10706:4;10701:3;10697:14;10690:47;10786:4;10779:5;10775:16;10769:23;10762:4;10757:3;10753:14;10746:47;10856:4;10849:5;10845:16;10839:23;10832:31;10825:39;10818:4;10813:3;10809:14;10802:63;10313:558;;:::o;10876:258::-;11068:3;11053:19;;11081:47;11057:9;11110:6;11081:47;:::i;11567:161::-;11632:5;11677:3;11668:6;11663:3;11659:16;11655:26;11652:46;;;11694:1;11691;11684:12;11652:46;-1:-1:-1;11716:6:109;11567:161;-1:-1:-1;11567:161:109:o;11733:250::-;11825:6;11878:3;11866:9;11857:7;11853:23;11849:33;11846:53;;;11895:1;11892;11885:12;11846:53;11918:59;11969:7;11958:9;11918:59;:::i;12385:491::-;12479:6;12487;12495;12548:2;12536:9;12527:7;12523:23;12519:32;12516:52;;;12564:1;12561;12554:12;12516:52;12603:9;12590:23;12622:40;12656:5;12622:40;:::i;:::-;12681:5;-1:-1:-1;12738:2:109;12723:18;;12710:32;12751:42;12710:32;12751:42;:::i;:::-;12385:491;;12812:7;;-1:-1:-1;;;12866:2:109;12851:18;;;;12838:32;;12385:491::o;12881:198::-;12971:6;13024:3;13012:9;13003:7;12999:23;12995:33;12992:53;;;13041:1;13038;13031:12;13084:203;-1:-1:-1;;;;;13248:32:109;;;;13230:51;;13218:2;13203:18;;13084:203::o;13292:560::-;13395:6;13403;13411;13419;13472:3;13460:9;13451:7;13447:23;13443:33;13440:53;;;13489:1;13486;13479:12;13440:53;13528:9;13515:23;13547:40;13581:5;13547:40;:::i;:::-;13606:5;-1:-1:-1;13658:2:109;13643:18;;13630:32;;-1:-1:-1;13714:2:109;13699:18;;13686:32;13727:42;13686:32;13727:42;:::i;13857:241::-;13913:6;13966:2;13954:9;13945:7;13941:23;13937:32;13934:52;;;13982:1;13979;13972:12;13934:52;14021:9;14008:23;14040:28;14062:5;14040:28;:::i;14103:317::-;14183:5;14177:12;14172:3;14165:25;14239:4;14232:5;14228:16;14222:23;14215:4;14210:3;14206:14;14199:47;14295:4;14288:5;14284:16;14278:23;14271:4;14266:3;14262:14;14255:47;14351:4;14344:5;14340:16;14334:23;14327:4;14322:3;14318:14;14311:47;14407:4;14400:5;14396:16;14390:23;14383:4;14378:3;14374:14;14367:47;;;14103:317::o;14425:252::-;14613:3;14598:19;;14626:45;14602:9;14653:6;14626:45;:::i;14682:341::-;14767:6;14775;14828:2;14816:9;14807:7;14803:23;14799:32;14796:52;;;14844:1;14841;14834:12;14796:52;14883:9;14870:23;14902:40;14936:5;14902:40;:::i;:::-;14961:5;15013:2;14998:18;;;;14985:32;;-1:-1:-1;;;14682:341:109:o;15028:565::-;15150:6;15158;15166;15174;15182;15235:3;15223:9;15214:7;15210:23;15206:33;15203:53;;;15252:1;15249;15242:12;15203:53;15291:9;15278:23;15310:40;15344:5;15310:40;:::i;:::-;15369:5;-1:-1:-1;15393:40:109;15429:2;15414:18;;15393:40;:::i;:::-;15028:565;;15383:50;;-1:-1:-1;;;;15480:2:109;15465:18;;15452:32;;15531:2;15516:18;;15503:32;;15582:3;15567:19;;;15554:33;;-1:-1:-1;15028:565:109:o;15598:318::-;15699:6;15707;15760:3;15748:9;15739:7;15735:23;15731:33;15728:53;;;15777:1;15774;15767:12;15728:53;15813:9;15800:23;15790:33;;15842:68;15902:7;15897:2;15886:9;15882:18;15842:68;:::i;15921:884::-;16082:6;16090;16098;16106;16159:2;16147:9;16138:7;16134:23;16130:32;16127:52;;;16175:1;16172;16165:12;16127:52;16214:9;16201:23;16233:40;16267:5;16233:40;:::i;:::-;16292:5;-1:-1:-1;16348:2:109;16333:18;;16320:32;-1:-1:-1;;;;;16401:14:109;;;16398:34;;;16428:1;16425;16418:12;16398:34;16466:6;16455:9;16451:22;16441:32;;16511:7;16504:4;16500:2;16496:13;16492:27;16482:55;;16533:1;16530;16523:12;16482:55;16573:2;16560:16;16599:2;16591:6;16588:14;16585:34;;;16615:1;16612;16605:12;16585:34;16668:7;16663:2;16653:6;16650:1;16646:14;16642:2;16638:23;16634:32;16631:45;16628:65;;;16689:1;16686;16679:12;16628:65;15921:884;;16720:2;16712:11;;;;;-1:-1:-1;16742:6:109;;16795:2;16780:18;16767:32;;-1:-1:-1;15921:884:109;-1:-1:-1;;;15921:884:109:o;17197:816::-;17346:6;17354;17362;17415:2;17403:9;17394:7;17390:23;17386:32;17383:52;;;17431:1;17428;17421:12;17383:52;17470:9;17457:23;17489:40;17523:5;17489:40;:::i;:::-;17548:5;-1:-1:-1;17604:2:109;17589:18;;17576:32;-1:-1:-1;;;;;17657:14:109;;;17654:34;;;17684:1;17681;17674:12;17654:34;17722:6;17711:9;17707:22;17697:32;;17767:7;17760:4;17756:2;17752:13;17748:27;17738:55;;17789:1;17786;17779:12;17738:55;17829:2;17816:16;17855:2;17847:6;17844:14;17841:34;;;17871:1;17868;17861:12;17841:34;17927:7;17922:2;17914:4;17906:6;17902:17;17898:2;17894:26;17890:35;17887:48;17884:68;;;17948:1;17945;17938:12;17884:68;17979:2;17975;17971:11;17961:21;;18001:6;17991:16;;;;;17197:816;;;;;:::o;18018:981::-;18271:2;18323:21;;;18393:13;;18296:18;;;18415:22;;;18242:4;;18271:2;18456;;18474:18;;;;18515:15;;;18242:4;18558:415;18572:6;18569:1;18566:13;18558:415;;;18631:13;;18673:9;;-1:-1:-1;;;;;18669:35:109;18657:48;;18745:11;;;18739:18;18725:12;;;18718:40;18798:11;;;18792:18;18778:12;;;18771:40;18834:4;18878:11;;;18872:18;18858:12;;;18851:40;18920:4;18911:14;;;;18948:15;;;;18701:1;18587:9;18558:415;;;-1:-1:-1;18990:3:109;;18018:981;-1:-1:-1;;;;;;;18018:981:109:o;19265:366::-;-1:-1:-1;;;;;19529:32:109;;19511:51;;19498:3;19483:19;;19571:54;19621:2;19606:18;;19598:6;19571:54;:::i;19636:244::-;19714:6;19722;19775:2;19763:9;19754:7;19750:23;19746:32;19743:52;;;19791:1;19788;19781:12;19743:52;-1:-1:-1;;19814:16:109;;19870:2;19855:18;;;19849:25;19814:16;;19849:25;;-1:-1:-1;19636:244:109:o;19885:1381::-;20004:6;19999:3;19992:19;19974:3;20030:4;20059:2;20054:3;20050:12;20043:19;;20085:5;20108:1;20118:1123;20132:6;20129:1;20126:13;20118:1123;;;20209:6;20196:20;20229:42;20263:7;20229:42;:::i;:::-;-1:-1:-1;;;;;20338:16:109;;;20326:29;;20396:15;;;20383:29;;20425:42;20383:29;20425:42;:::i;:::-;20501:16;20487:12;;;20480:38;20541:4;20578:37;20599:15;;;20578:37;:::i;:::-;20628:48;20672:2;20667:3;20663:12;20649;20628:48;:::i;:::-;-1:-1:-1;;20699:4:109;20750:15;;;20737:29;20723:12;;;20716:51;20790:4;20841:15;;;20828:29;20814:12;;;20807:51;20881:4;20932:15;;;20919:29;20905:12;;;20898:51;20972:4;21017:15;;;21004:29;21046:30;21004:29;21046:30;:::i;:::-;21117:15;21110:23;21096:12;;;21089:45;21157:4;21181:12;;;;21216:15;;;;;20154:1;20147:9;20118:1123;;21271:850;-1:-1:-1;;;;;21636:32:109;;21618:51;;21705:2;21700;21685:18;;21678:30;;;21724:18;;21717:34;;;-1:-1:-1;;;;;;21763:31:109;;21760:51;;;21807:1;21804;21797:12;21760:51;21841:6;21838:1;21834:14;21899:6;21891;21885:3;21874:9;21870:19;21857:49;21925:22;;21987:18;;;22007:3;21983:28;;;21978:2;21963:18;;21956:56;22029:86;;22102:12;;22094:6;22086;22029:86;:::i;:::-;22021:94;21271:850;-1:-1:-1;;;;;;;;21271:850:109:o;22126:245::-;22193:6;22246:2;22234:9;22225:7;22221:23;22217:32;22214:52;;;22262:1;22259;22252:12;22214:52;22294:9;22288:16;22313:28;22335:5;22313:28;:::i;22376:721::-;-1:-1:-1;;;;;22766:15:109;;;22748:34;;22818:15;;;22813:2;22798:18;;22791:43;22697:3;22682:19;;;22843:48;22887:2;22872:18;;22864:6;22843:48;:::i;:::-;22927:6;22922:2;22911:9;22907:18;22900:34;22971:6;22965:3;22954:9;22950:19;22943:35;23027:2;23019:6;23015:15;23009:3;22998:9;22994:19;22987:44;;23082:6;23075:14;23068:22;23062:3;23051:9;23047:19;23040:51;22376:721;;;;;;;;;;:::o;23102:184::-;23172:6;23225:2;23213:9;23204:7;23200:23;23196:32;23193:52;;;23241:1;23238;23231:12;23193:52;-1:-1:-1;23264:16:109;;23102:184;-1:-1:-1;23102:184:109:o;23769:127::-;23830:10;23825:3;23821:20;23818:1;23811:31;23861:4;23858:1;23851:15;23885:4;23882:1;23875:15;23901:469;23964:3;24002:5;23996:12;24029:6;24024:3;24017:19;24055:4;24084:2;24079:3;24075:12;24068:19;;24121:2;24114:5;24110:14;24142:1;24152:193;24166:6;24163:1;24160:13;24152:193;;;24215:48;24259:3;24250:6;24244:13;24215:48;:::i;:::-;24292:4;24283:14;;;;;24320:15;;;;24188:1;24181:9;24152:193;;24375:630;-1:-1:-1;;;;;24718:32:109;;24700:51;;24787:2;24782;24767:18;;24760:30;;;-1:-1:-1;;24813:56:109;;24850:18;;24842:6;24813:56;:::i;:::-;24917:9;24909:6;24905:22;24900:2;24889:9;24885:18;24878:50;24945:54;24992:6;24984;24945:54;:::i;25010:464::-;-1:-1:-1;;;;;25287:32:109;;25269:51;;25356:2;25351;25336:18;;25329:30;;;-1:-1:-1;;25376:92:109;;25449:18;;25441:6;25433;25376:92;:::i;:::-;25368:100;25010:464;-1:-1:-1;;;;;25010:464:109:o;25479:881::-;25574:6;25605:2;25648;25636:9;25627:7;25623:23;25619:32;25616:52;;;25664:1;25661;25654:12;25616:52;25691:16;;-1:-1:-1;;;;;25719:30:109;;25716:50;;;25762:1;25759;25752:12;25716:50;25785:22;;25838:4;25830:13;;25826:27;-1:-1:-1;25816:55:109;;25867:1;25864;25857:12;25816:55;25896:2;25890:9;25919:60;25935:43;25975:2;25935:43;:::i;25919:60::-;26013:15;;;26095:1;26091:10;;;;26083:19;;26079:28;;;26044:12;;;;26119:19;;;26116:39;;;26151:1;26148;26141:12;26116:39;26175:11;;;;26195:135;26211:6;26206:3;26203:15;26195:135;;;26277:10;;26265:23;;26228:12;;;;26308;;;;26195:135;;26365:358;-1:-1:-1;;;;;26572:32:109;;26554:51;;26641:2;26636;26621:18;;26614:30;;;-1:-1:-1;;26661:56:109;;26698:18;;26690:6;26661:56;:::i;26728:734::-;26831:5;26818:19;26846:42;26880:7;26846:42;:::i;:::-;-1:-1:-1;;;;;26947:16:109;;;26935:29;;27012:4;27001:16;;26988:30;;27027:42;26988:30;27027:42;:::i;:::-;27101:16;27094:4;27085:14;;27078:40;27174:4;27163:16;;;27150:30;27134:14;;;27127:54;27237:4;27226:16;;;27213:30;27197:14;;;27190:54;27300:4;27289:16;;;27276:30;27260:14;;;27253:54;27355:4;27344:16;;27331:30;27370;27331;27370;:::i;:::-;27446:7;27439:15;27432:23;27425:4;27420:3;27416:14;27409:47;;26728:734;;:::o;27467:373::-;27693:3;27678:19;;27706:58;27682:9;27746:6;27706:58;:::i;:::-;-1:-1:-1;;;;;27801:32:109;;;;27795:3;27780:19;;;;27773:61;27467:373;;-1:-1:-1;27467:373:109:o;27845:305::-;27932:6;27940;27948;28001:2;27989:9;27980:7;27976:23;27972:32;27969:52;;;28017:1;28014;28007:12;27969:52;28046:9;28040:16;28030:26;;28096:2;28085:9;28081:18;28075:25;28065:35;;28140:2;28129:9;28125:18;28119:25;28109:35;;27845:305;;;;;:::o;28155:127::-;28216:10;28211:3;28207:20;28204:1;28197:31;28247:4;28244:1;28237:15;28271:4;28268:1;28261:15;28287:216;28351:9;;;28379:11;;;28326:3;28409:9;;28437:10;;28433:19;;28462:10;;28454:19;;28430:44;28427:70;;;28477:18;;:::i;:::-;28427:70;;28287:216;;;;:::o;30443:235::-;30531:6;30584:3;30572:9;30563:7;30559:23;30555:33;30552:53;;;30601:1;30598;30591:12;30552:53;30624:48;30664:7;30653:9;30624:48;:::i;30683:426::-;-1:-1:-1;;;;;30948:32:109;;30930:51;;31017:2;31012;30997:18;;30990:30;;;-1:-1:-1;;31037:66:109;;31084:18;;31076:6;31037:66;:::i;31664:630::-;-1:-1:-1;;;;;32032:15:109;;;32014:34;;32084:15;;32079:2;32064:18;;32057:43;31963:3;31948:19;;32109:48;32153:2;32138:18;;32130:6;32109:48;:::i;:::-;32193:6;32188:2;32177:9;32173:18;32166:34;32237:6;32231:3;32220:9;32216:19;32209:35;32281:6;32275:3;32264:9;32260:19;32253:35;31664:630;;;;;;;;;:::o;32299:125::-;32364:9;;;32385:10;;;32382:36;;;32398:18;;:::i;32429:444::-;32696:25;;;32683:3;32668:19;;32730:67;32793:2;32778:18;;32770:6;32730:67;:::i;:::-;-1:-1:-1;;;;;32834:32:109;;;;32828:3;32813:19;;;;32806:61;32429:444;;-1:-1:-1;;32429:444:109:o;32878:864::-;-1:-1:-1;;;;;33235:32:109;;33217:51;;33165:2;33287;33305:18;;;33298:30;;;33190:18;;;33363:22;;;33136:4;;33165:2;33442:6;;33416:2;33401:18;;33136:4;33476:240;33490:6;33487:1;33484:13;33476:240;;;33551:20;;33539:33;;33619:15;;;33606:29;33592:12;;;33585:51;33691:15;;;;33656:12;;;;33512:1;33505:9;33476:240;;;-1:-1:-1;33733:3:109;32878:864;-1:-1:-1;;;;;;;;32878:864:109:o;34286:943::-;-1:-1:-1;;;;;34637:32:109;;34619:51;;34567:2;34689;34707:18;;;34700:30;;;34592:18;;;34765:22;;;34538:4;;34567:2;34806;;34824:18;;;34865:6;34538:4;34899:304;34913:6;34910:1;34907:13;34899:304;;;34974:20;;34962:33;;35042:15;;;35029:29;35015:12;;;35008:51;35106:15;;;35093:29;35079:12;;;35072:51;35143:12;;;;35178:15;;;;34935:1;34928:9;34899:304;;;-1:-1:-1;35220:3:109;;34286:943;-1:-1:-1;;;;;;;;;34286:943:109:o;35234:1503::-;35379:6;35387;35418:2;35461;35449:9;35440:7;35436:23;35432:32;35429:52;;;35477:1;35474;35467:12;35429:52;35504:16;;-1:-1:-1;;;;;35532:30:109;;35529:50;;;35575:1;35572;35565:12;35529:50;35598:22;;35651:4;35643:13;;35639:27;-1:-1:-1;35629:55:109;;35680:1;35677;35670:12;35629:55;35709:2;35703:9;35731:4;35755:60;35771:43;35811:2;35771:43;:::i;35755:60::-;35849:15;;;35931:1;35927:10;;;;35919:19;;35915:28;;;35880:12;;;;35955:19;;;35952:39;;;35987:1;35984;35977:12;35952:39;36011:11;;;;36031:632;36047:6;36042:3;36039:15;36031:632;;;36129:4;36123:3;36114:7;36110:17;36106:28;36103:118;;;36175:1;36204:2;36200;36193:14;36103:118;36247:22;;:::i;:::-;36303:3;36297:10;36320:42;36354:7;36320:42;:::i;:::-;36375:22;;36439:12;;;36433:19;36417:14;;;36410:43;36495:12;;;36489:19;36473:14;;;36466:43;36532:2;36576:12;;;36570:19;36554:14;;;36547:43;36603:18;;36073:4;36064:14;;;;36641:12;;;;36031:632;;;36712:18;;;;36706:25;36682:5;;36706:25;;-1:-1:-1;;;;;;;35234:1503:109:o;36742:128::-;36809:9;;;36830:11;;;36827:37;;;36844:18;;:::i;36875:127::-;36936:10;36931:3;36927:20;36924:1;36917:31;36967:4;36964:1;36957:15;36991:4;36988:1;36981:15;37007:200;37073:9;;;37046:4;37101:9;;37129:10;;37141:12;;;37125:29;37164:12;;;37156:21;;37122:56;37119:82;;;37181:18;;:::i;37212:136::-;37247:3;-1:-1:-1;;;37268:22:109;;37265:48;;37293:18;;:::i;:::-;-1:-1:-1;37333:1:109;37329:13;;37212:136::o;37353:290::-;37392:1;37418;37408:132;;37462:10;37457:3;37453:20;37450:1;37443:31;37497:4;37494:1;37487:15;37525:4;37522:1;37515:15;37408:132;-1:-1:-1;;;37556:18:109;;-1:-1:-1;;37576:13:109;;37552:38;37549:64;;;37593:18;;:::i;:::-;-1:-1:-1;37627:10:109;;37353:290::o;37648:250::-;37733:1;37743:113;37757:6;37754:1;37751:13;37743:113;;;37833:11;;;37827:18;37814:11;;;37807:39;37779:2;37772:10;37743:113;;;-1:-1:-1;;37890:1:109;37872:16;;37865:27;37648:250::o;37903:287::-;38032:3;38070:6;38064:13;38086:66;38145:6;38140:3;38133:4;38125:6;38121:17;38086:66;:::i;:::-;38168:16;;;;;37903:287;-1:-1:-1;;37903:287:109:o;38553:396::-;38702:2;38691:9;38684:21;38665:4;38734:6;38728:13;38777:6;38772:2;38761:9;38757:18;38750:34;38793:79;38865:6;38860:2;38849:9;38845:18;38840:2;38832:6;38828:15;38793:79;:::i;:::-;38933:2;38912:15;-1:-1:-1;;38908:29:109;38893:45;;;;38940:2;38889:54;;38553:396;-1:-1:-1;;38553:396:109:o","linkReferences":{},"immutableReferences":{"45877":[{"start":5737,"length":32},{"start":6237,"length":32},{"start":7075,"length":32},{"start":7730,"length":32},{"start":8298,"length":32},{"start":8946,"length":32},{"start":9160,"length":32},{"start":10038,"length":32}],"45879":[{"start":3408,"length":32},{"start":8144,"length":32}],"45881":[{"start":2522,"length":32},{"start":6397,"length":32},{"start":7220,"length":32},{"start":9103,"length":32}],"45883":[{"start":3691,"length":32}],"45885":[{"start":2682,"length":32},{"start":4222,"length":32},{"start":4584,"length":32},{"start":5052,"length":32},{"start":8539,"length":32}],"45888":[{"start":5771,"length":32}],"45891":[{"start":3974,"length":32},{"start":4042,"length":32},{"start":5915,"length":32},{"start":5983,"length":32},{"start":6456,"length":32},{"start":6524,"length":32},{"start":6830,"length":32},{"start":6898,"length":32},{"start":7851,"length":32},{"start":7919,"length":32},{"start":9719,"length":32},{"start":9787,"length":32}]}},"methodIdentifiers":{"addLiquidity(address,(uint256,uint256,uint256)[])":"efdb9423","addMargin(address,uint256)":"cf70cb69","cancelOwnershipHandover()":"54d1f13d","closePosition(address,uint256,uint256)":"4fa9c4db","closePositionKeeper(uint256)":"23c16e22","completeOwnershipHandover(address)":"f04e283e","createLimitOrder((address,address,uint8,uint256,uint256,uint256,bool))":"7eb02406","createLimitOrderBatch((address,address,uint8,uint256,uint256,uint256,bool)[])":"4a6ebce7","createTriggerOrder((address,address,uint256,uint256,uint256,bool))":"68d85297","deleteLimitOrder(uint256)":"e859f372","deleteLimitOrderBatch(uint256[])":"517237a9","deleteTriggerOrder(uint256)":"da8c7e40","deleverage(address,address,address,uint256)":"25a208a2","getCumulativePremiumFraction(address)":"6ea41e40","getDivergenceCap()":"5ac3b62d","getFreeCollateral(address,address)":"33d3bd30","getLimitOrder(uint256)":"53061026","getMinOrderbookMargin()":"987362da","getOpenInterestNotional(address)":"429e9237","getPosition(address,address)":"b33dc190","getPositionNotionalUpnl(address,address)":"0e86a08d","getReduceOnlyOrders(address,address)":"73af0205","getTotalPositionSize(address)":"e980e16e","getTriggerOrder(uint256)":"36cef3d9","getTriggerOrders(address,address)":"54b85a3e","getValidAMM(address)":"9dda4e4f","initialize(address,uint256,uint256)":"7a1ac61e","isActive()":"22f3e2d4","isLiquidatable(address,address)":"3966a28b","isTriggerOrderValid(uint256)":"dd2a65ed","liquidate(address,uint256,address,uint256)":"9457be23","liquidateMaker(address,address,uint256)":"7aefce97","openPosition(address,uint8,uint256,uint256,uint256)":"cbb50e61","owner()":"8da5cb5b","ownershipHandoverExpiresAt(address)":"fee81cf4","removeLiquidity(address,(uint256,uint256)[],uint256)":"db1b5c97","removeMargin(address,uint256)":"b959d695","renounceOwnership()":"715018a6","requestOwnershipHandover()":"25692962","setActive(bool)":"acec338a","setDivergenceCap(uint256)":"f8b6e449","setMinOrderbookMargin(uint256)":"e3046770","setValidAMM(address,bool)":"207b5b6f","settleFunding(address)":"6b17ad03","transferOwnership(address)":"f2fde38b","updateLimitOrder(uint256,(address,address,uint8,uint256,uint256,uint256,bool))":"2a120de4","updateLimitOrderBatch(uint256[],(address,address,uint8,uint256,uint256,uint256,bool)[])":"13dee2d1","updateTriggerOrder(uint256,(address,address,uint256,uint256,uint256,bool))":"d2435052"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_weth\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_insuranceFund\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_positionManager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_positionMerger\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_deleverager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_orderCreator\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_whitelist\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AMM_IS_ACTIVE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"AlreadyInitialized\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BAD_DEBT\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"INACTIVE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"INSUFFICIENT_LIQUIDITY\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"INSUFFICIENT_MARGIN\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"INSUFFICIENT_OPEN_NOTIONAL\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"INSUFFICIENT_SIZE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"INVALID_AMM\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"INVALID_SIDE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"INVALID_TRIGGER_AMOUNT\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LIQUIDATABLE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NOT_LIMIT_CLOSE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NOT_LIQUIDATABLE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NOT_REDUCE_ONLY\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NOT_TRADER\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NO_POOL_IN_RANGE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NO_POSITION\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NewOwnerIsZeroAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoHandoverRequest\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OPEN_INTEREST_CAP_EXCEEDED\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OVER_DIVERGENCE_CAP\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OVER_MAX_LEVERAGE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OVER_MAX_SIZE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"POSITION_ON_WRONG_SIDE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SANDWICH\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TRIGGER_INVALID\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TRIGGER_ON_MARK\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Unauthorized\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"}],\"name\":\"AMMInvalidated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"}],\"name\":\"AMMValidated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Activated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Deactivated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"divergenceCap\",\"type\":\"uint256\"}],\"name\":\"DivergenceCapChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"payer\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"enum FeeType\",\"name\":\"feeType\",\"type\":\"uint8\"}],\"name\":\"FeeDistributed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"markPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"indexPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"premiumFraction\",\"type\":\"int256\"}],\"name\":\"FundingSettled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"version\",\"type\":\"uint8\"}],\"name\":\"Initialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"enum LimitOrderResult\",\"name\":\"result\",\"type\":\"uint8\"}],\"name\":\"LimitOrderRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"enum Side\",\"name\":\"side\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"trigger\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quoteAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"reduceOnly\",\"type\":\"bool\"}],\"indexed\":false,\"internalType\":\"struct LimitOrder\",\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"LimitOrderUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"maker\",\"type\":\"address\"}],\"name\":\"LiquidityAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"LiquidityRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"MarginAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"MarginRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"minOrderbookMargin\",\"type\":\"uint256\"}],\"name\":\"MinOrderbookMarginChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newOpenInterest\",\"type\":\"uint256\"}],\"name\":\"OpenInterestChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"pendingOwner\",\"type\":\"address\"}],\"name\":\"OwnershipHandoverCanceled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"pendingOwner\",\"type\":\"address\"}],\"name\":\"OwnershipHandoverRequested\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oldOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"margin\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"size\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"openNotional\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"exchangedQuote\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"exchangedBase\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"realizedPnL\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"fundingPayment\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"markPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"enum TradeType\",\"name\":\"tradeType\",\"type\":\"uint8\"}],\"name\":\"PositionChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"keeper\",\"type\":\"address\"}],\"name\":\"TriggerOrderRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"trigger\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quoteLimit\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"takeProfit\",\"type\":\"bool\"}],\"indexed\":false,\"internalType\":\"struct TriggerOrder\",\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"TriggerOrderUpdated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"margin\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"}],\"internalType\":\"struct LiquidityAddData[]\",\"name\":\"data\",\"type\":\"tuple[]\"}],\"name\":\"addLiquidity\",\"outputs\":[{\"components\":[{\"internalType\":\"contract IPool\",\"name\":\"pool\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"shares\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"base\",\"type\":\"uint256\"}],\"internalType\":\"struct LiquidityAddReturnData[]\",\"name\":\"returnData\",\"type\":\"tuple[]\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"margin\",\"type\":\"uint256\"}],\"name\":\"addMargin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"cancelOwnershipHandover\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quoteLimit\",\"type\":\"uint256\"}],\"name\":\"closePosition\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"quoteAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"closePositionKeeper\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"quoteAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"pendingOwner\",\"type\":\"address\"}],\"name\":\"completeOwnershipHandover\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"enum Side\",\"name\":\"side\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"trigger\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quoteAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"reduceOnly\",\"type\":\"bool\"}],\"internalType\":\"struct LimitOrder\",\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"createLimitOrder\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"enum Side\",\"name\":\"side\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"trigger\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quoteAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"reduceOnly\",\"type\":\"bool\"}],\"internalType\":\"struct LimitOrder[]\",\"name\":\"_orders\",\"type\":\"tuple[]\"}],\"name\":\"createLimitOrderBatch\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"ids\",\"type\":\"uint256[]\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"trigger\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quoteLimit\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"takeProfit\",\"type\":\"bool\"}],\"internalType\":\"struct TriggerOrder\",\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"createTriggerOrder\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"deleteLimitOrder\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"ids\",\"type\":\"uint256[]\"}],\"name\":\"deleteLimitOrderBatch\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"deleteTriggerOrder\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"taker\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"maker\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"}],\"name\":\"deleverage\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"}],\"name\":\"getCumulativePremiumFraction\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getDivergenceCap\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"getFreeCollateral\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"getLimitOrder\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"enum Side\",\"name\":\"side\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"trigger\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quoteAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"reduceOnly\",\"type\":\"bool\"}],\"internalType\":\"struct LimitOrder\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getMinOrderbookMargin\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"}],\"name\":\"getOpenInterestNotional\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"getPosition\",\"outputs\":[{\"components\":[{\"internalType\":\"int256\",\"name\":\"size\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"margin\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openNotional\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"lastPremiumFraction\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"blockNumber\",\"type\":\"uint256\"}],\"internalType\":\"struct Position\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"getPositionNotionalUpnl\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"positionNotional\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"upnl\",\"type\":\"int256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"}],\"name\":\"getReduceOnlyOrders\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"}],\"name\":\"getTotalPositionSize\",\"outputs\":[{\"components\":[{\"internalType\":\"int256\",\"name\":\"netPositionSize\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeLong\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeShort\",\"type\":\"uint256\"}],\"internalType\":\"struct TotalPositionSize\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"getTriggerOrder\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"trigger\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quoteLimit\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"takeProfit\",\"type\":\"bool\"}],\"internalType\":\"struct TriggerOrder\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"}],\"name\":\"getTriggerOrders\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"}],\"name\":\"getValidAMM\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_divergenceCap\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_minOrderbookMargin\",\"type\":\"uint256\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isActive\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"isLiquidatable\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"isTriggerOrderValid\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"liquidatee\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"margin\",\"type\":\"uint256\"}],\"name\":\"liquidate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"liquidatee\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"margin\",\"type\":\"uint256\"}],\"name\":\"liquidateMaker\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"enum Side\",\"name\":\"side\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"quote\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"baseLimit\",\"type\":\"uint256\"}],\"name\":\"openPosition\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"baseAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"result\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"pendingOwner\",\"type\":\"address\"}],\"name\":\"ownershipHandoverExpiresAt\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"result\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"shares\",\"type\":\"uint256\"}],\"internalType\":\"struct LiquidityRemoveData[]\",\"name\":\"data\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256\",\"name\":\"addedMargin\",\"type\":\"uint256\"}],\"name\":\"removeLiquidity\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"margin\",\"type\":\"uint256\"}],\"name\":\"removeMargin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"requestOwnershipHandover\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_active\",\"type\":\"bool\"}],\"name\":\"setActive\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_divergenceCap\",\"type\":\"uint256\"}],\"name\":\"setDivergenceCap\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"minMargin\",\"type\":\"uint256\"}],\"name\":\"setMinOrderbookMargin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"}],\"name\":\"setValidAMM\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"}],\"name\":\"settleFunding\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"enum Side\",\"name\":\"side\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"trigger\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quoteAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"reduceOnly\",\"type\":\"bool\"}],\"internalType\":\"struct LimitOrder\",\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"updateLimitOrder\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"ids\",\"type\":\"uint256[]\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"enum Side\",\"name\":\"side\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"trigger\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quoteAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"reduceOnly\",\"type\":\"bool\"}],\"internalType\":\"struct LimitOrder[]\",\"name\":\"_orders\",\"type\":\"tuple[]\"}],\"name\":\"updateLimitOrderBatch\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"contract IRouter\",\"name\":\"amm\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"trigger\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"quoteLimit\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"takeProfit\",\"type\":\"bool\"}],\"internalType\":\"struct TriggerOrder\",\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"updateTriggerOrder\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"NFTPerprite [NFTP]yash [NFTP]\",\"errors\":{\"AlreadyInitialized()\":[{\"details\":\"Cannot double-initialize.\"}],\"NewOwnerIsZeroAddress()\":[{\"details\":\"The `newOwner` cannot be the zero address.\"}],\"NoHandoverRequest()\":[{\"details\":\"The `pendingOwner` does not have a valid handover request.\"}],\"Unauthorized()\":[{\"details\":\"The caller is not authorized to call the function.\"}]},\"events\":{\"Initialized(uint8)\":{\"details\":\"Triggered when the contract has been initialized or reinitialized.\"},\"OwnershipHandoverCanceled(address)\":{\"details\":\"The ownership handover to `pendingOwner` has been canceled.\"},\"OwnershipHandoverRequested(address)\":{\"details\":\"An ownership handover to `pendingOwner` has been requested.\"},\"OwnershipTransferred(address,address)\":{\"details\":\"The ownership is transferred from `oldOwner` to `newOwner`. This event is intentionally kept the same as OpenZeppelin's Ownable to be compatible with indexers and [EIP-173](https://eips.ethereum.org/EIPS/eip-173), despite it not being as lightweight as a single argument event.\"}},\"kind\":\"dev\",\"methods\":{\"addLiquidity(address,(uint256,uint256,uint256)[])\":{\"details\":\"a MakerStruct is created for the sender in AMM\"},\"cancelOwnershipHandover()\":{\"details\":\"Cancels the two-step ownership handover to the caller, if any.\"},\"closePosition(address,uint256,uint256)\":{\"details\":\"caller must have a pre-existing position to closedelegatecalls to the PositionManager library \",\"params\":{\"amm\":\"\\u2014 collection\",\"quoteLimit\":\"\\u2014 min quote amount to receive / max quote amount to spend\",\"size\":\"\\u2014 absolute size to close\"}},\"closePositionKeeper(uint256)\":{\"details\":\"call will revert if trigger order conditions are unmetcaller receives keeper feedelegatecalls to the PositionManager library \",\"params\":{\"id\":\"\\u2014 id of trigger order\"}},\"completeOwnershipHandover(address)\":{\"details\":\"Allows the owner to complete the two-step ownership handover to `pendingOwner`. Reverts if there is no existing ownership handover requested by `pendingOwner`.\"},\"createLimitOrder((address,address,uint8,uint256,uint256,uint256,bool))\":{\"details\":\"delegatecalls to the OrderCreator library \",\"returns\":{\"id\":\"\\u2014 id of new limit order\"}},\"createLimitOrderBatch((address,address,uint8,uint256,uint256,uint256,bool)[])\":{\"details\":\"delegatecalls to the OrderCreator library \",\"returns\":{\"ids\":\"\\u2014 ids of new limit orders\"}},\"createTriggerOrder((address,address,uint256,uint256,uint256,bool))\":{\"details\":\"delegatecalls to the OrderCreator library \",\"returns\":{\"id\":\"\\u2014 id of new trigger order\"}},\"deleteLimitOrder(uint256)\":{\"details\":\"delegatecalls to the OrderCreator library\"},\"deleteLimitOrderBatch(uint256[])\":{\"details\":\"delegatecalls to the OrderCreator library\"},\"deleteTriggerOrder(uint256)\":{\"details\":\"delegatecalls to the OrderCreator library\"},\"deleverage(address,address,address,uint256)\":{\"details\":\"will revert if maker has no bad debt or if taker has insufficient marginonly callable by owner\"},\"liquidate(address,uint256,address,uint256)\":{\"details\":\"will revert if liquidatee is not liquidatablemay result in a decrease, close, or reverse-open for callerpartial liquidations will revert if liquidatee has bad debtif full liquidation, caller will get 2.5% of liquidatee notional position       added to new positionif partial liquidation, caller will get 2.5% / 2 of liquidatee notional position      added to new positionwill revert if caller's position is liquidatable after mergedelegatecalls to the PositionMerger library \",\"params\":{\"margin\":\"\\u2014 margin to add to new caller position (can be zero)\"}},\"liquidateMaker(address,address,uint256)\":{\"details\":\"will revert if liquidatee impermanent position is not liquidatablewill revert if caller's position is liquidatable after mergemay result in a decrease, close, or reverse-open for callercaller will get 2.5% of liquidatee impermanent notional position  \",\"params\":{\"margin\":\"\\u2014 margin to add to new caller position (can be zero)\"}},\"openPosition(address,uint8,uint256,uint256,uint256)\":{\"details\":\"this function can also be used to increase, decrease, close, or reverse-open an existing positiondelegatecalls to the PositionManager library \",\"params\":{\"amm\":\"\\u2014 collection\",\"baseLimit\":\"\\u2014 min base amount to receive / max base amount to spend\",\"leverage\":\"\\u2014 leverage\",\"quote\":\"\\u2014 margin\",\"side\":\"\\u2014 long or short\"}},\"owner()\":{\"details\":\"Returns the owner of the contract.\"},\"ownershipHandoverExpiresAt(address)\":{\"details\":\"Returns the expiry timestamp for the two-step ownership handover to `pendingOwner`.\"},\"removeLiquidity(address,(uint256,uint256)[],uint256)\":{\"details\":\"returns margin to caller if there is no impermanent positionreturns margin to caller if there is no remaining liquidity in AMM \",\"params\":{\"addedMargin\":\"\\u2014 margin to add to permanent position (can be zero)\"}},\"removeMargin(address,uint256)\":{\"details\":\"must meet a min free collateral requirement after removing margin\"},\"renounceOwnership()\":{\"details\":\"Allows the owner to renounce their ownership.\"},\"requestOwnershipHandover()\":{\"details\":\"Request a two-step ownership handover to the caller. The request will automatically expire in 48 hours (172800 seconds) by default.\"},\"setDivergenceCap(uint256)\":{\"details\":\"only callable by owner\"},\"setMinOrderbookMargin(uint256)\":{\"details\":\"only callable by owner\"},\"setValidAMM(address,bool)\":{\"details\":\"will revert if amm is active and setting to invalidonly callable by owner\"},\"settleFunding(address)\":{\"details\":\"will revert if funding period hasn't passed\"},\"transferOwnership(address)\":{\"details\":\"Allows the owner to transfer the ownership to `newOwner`.\"},\"updateLimitOrder(uint256,(address,address,uint8,uint256,uint256,uint256,bool))\":{\"details\":\"delegatecalls to the OrderCreator library\"},\"updateLimitOrderBatch(uint256[],(address,address,uint8,uint256,uint256,uint256,bool)[])\":{\"details\":\"delegatecalls to the OrderCreator library\"},\"updateTriggerOrder(uint256,(address,address,uint256,uint256,uint256,bool))\":{\"details\":\"delegatecalls to the OrderCreator library\"}},\"title\":\"Clearing House\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"addLiquidity(address,(uint256,uint256,uint256)[])\":{\"notice\":\"adds liquidity to 'amm' with 'margin' and 'leverage' \"},\"addMargin(address,uint256)\":{\"notice\":\"adds 'margin' to caller's position in 'amm' \"},\"closePosition(address,uint256,uint256)\":{\"notice\":\"closes a position  \"},\"closePositionKeeper(uint256)\":{\"notice\":\"executes a trigger order to close a position on behalf of a trader \"},\"createLimitOrder((address,address,uint8,uint256,uint256,uint256,bool))\":{\"notice\":\"creates a limit 'order' for caller \"},\"createLimitOrderBatch((address,address,uint8,uint256,uint256,uint256,bool)[])\":{\"notice\":\"creates multiple limit '_orders' for caller \"},\"createTriggerOrder((address,address,uint256,uint256,uint256,bool))\":{\"notice\":\"creates a trigger 'order' for caller \"},\"deleteLimitOrder(uint256)\":{\"notice\":\"deletes a limit order 'id' \"},\"deleteLimitOrderBatch(uint256[])\":{\"notice\":\"deletes multiple limit orders 'ids' \"},\"deleteTriggerOrder(uint256)\":{\"notice\":\"deletes a trigger order 'id' \"},\"deleverage(address,address,address,uint256)\":{\"notice\":\"performs ADL trade on underwater 'maker' and above water 'taker' positions         in 'amm' for 'size' \"},\"liquidate(address,uint256,address,uint256)\":{\"notice\":\"liquidates 'amm' position 'size' of 'liquidatee' merges 'liquidatee' position 'size' with caller \"},\"liquidateMaker(address,address,uint256)\":{\"notice\":\"liquidates 'liquidatee' LP position in 'amm'merges 'liquidatee' impermanent position with caller \"},\"openPosition(address,uint8,uint256,uint256,uint256)\":{\"notice\":\"opens a position for 'quote' * 'leverage' \"},\"removeLiquidity(address,(uint256,uint256)[],uint256)\":{\"notice\":\"removes caller's 'shares' from 'amm'realizes LP's impermanent position, by merging it into caller's taker position \"},\"removeMargin(address,uint256)\":{\"notice\":\"removes 'margin' from caller's position in 'amm' \"},\"setDivergenceCap(uint256)\":{\"notice\":\"sets mark/index \\\"divergenceCap\\\" \"},\"setMinOrderbookMargin(uint256)\":{\"notice\":\"sets \\\"minOrderbookMargin\\\" for non reduce-only limit orders \"},\"setValidAMM(address,bool)\":{\"notice\":\"sets \\\"validAMM\\\" to true or false for protocol \"},\"settleFunding(address)\":{\"notice\":\"settles funding for 'amm' \"},\"updateLimitOrder(uint256,(address,address,uint8,uint256,uint256,uint256,bool))\":{\"notice\":\"updates a limit order 'id' to a new 'order' \"},\"updateLimitOrderBatch(uint256[],(address,address,uint8,uint256,uint256,uint256,bool)[])\":{\"notice\":\"updates multiple limit orders 'ids' to new '_orders' \"},\"updateTriggerOrder(uint256,(address,address,uint256,uint256,uint256,bool))\":{\"notice\":\"updates a trigger order 'id' to a new 'order' \"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/ClearingHouse.sol\":\"ClearingHouse\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1},\"remappings\":[\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":forge/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":solady/=lib/solady/src/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/proxy/utils/Initializable.sol\":{\"keccak256\":\"0x3d6069be9b4c01fb81840fb9c2c4dc58dd6a6a4aafaa2c6837de8699574d84c6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://720d6bb56ea0c4ef781c0bd65c5bd0541f5a46100163b2587170f97658d2deed\",\"dweb:/ipfs/QmTS2biLVPrv8CeeXCaKmkFxonMiRvc1LxiYBRYDAJHQUS\"]},\"lib/openzeppelin-contracts/contracts/utils/Address.sol\":{\"keccak256\":\"0x006dd67219697fe68d7fbfdea512e7c4cb64a43565ed86171d67e844982da6fa\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://2455248c8ddd9cc6a7af76a13973cddf222072427e7b0e2a7d1aff345145e931\",\"dweb:/ipfs/QmfYjnjRbWqYpuxurqveE6HtzsY1Xx323J428AKQgtBJZm\"]},\"lib/solady/src/auth/Ownable.sol\":{\"keccak256\":\"0xc208cdd9de02bbf4b5edad18b88e23a2be7ff56d2287d5649329dc7cda64b9a3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e8fba079cc7230c617f7493a2e97873f88e59a53a5018fcb2e2b6ac42d8aa5a3\",\"dweb:/ipfs/QmTXg8GSt8hsK2cZhbPFrund1mrwVdkLQmEPoQaFy4fhjs\"]},\"lib/solady/src/utils/FixedPointMathLib.sol\":{\"keccak256\":\"0x9671f3c8177e7dc6e38e628e39cebec3d27058ffe1c026dfbff74a82225563f3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6f193bac4f5325ab2e29e5571c89f48cd32d817d598b0c09eec72b0f8596a7ce\",\"dweb:/ipfs/QmWuW8U8sGWDapWGEAf5qMZMdFP8MkU6fhGAb6W1pt5KfF\"]},\"lib/solady/src/utils/LibSort.sol\":{\"keccak256\":\"0xfa4028961ad53620a8e8e6e8d141c5f409c45d7ca4240aa39f2a48e3d817fbec\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://284d332203cc8f6d6bcbc48b2021fb35b4adc2ebdd5482b8ce8b89f64b8897ba\",\"dweb:/ipfs/QmRptNWkfa6CGSGhPJ5qqN83qfXBst1WiEGU51i4y4AXVy\"]},\"lib/solady/src/utils/SafeCastLib.sol\":{\"keccak256\":\"0xd8319986d56aeefa8dd6d683c0827576dd31925c82b0c2e50eceac2421543f9b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://016709ad671ed03535a35813a77c826086708bef03cbbe6339d1cbeefa098dfb\",\"dweb:/ipfs/QmQn6Q7CQc2sA9Qtn9AEeD8AF2h1KKWCH9TjTqvGMyF79d\"]},\"lib/solady/src/utils/SafeTransferLib.sol\":{\"keccak256\":\"0xf98506fade18a92e3d8d0a0ca0bdaeaa099d7620aac2a9d76b5f3d0bcd10691c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a3495c9d108bc69951a12c5ce9f05851cc921f0bb69e2505756e79f3ddab4e1a\",\"dweb:/ipfs/QmT3XwbmdbQCxw7iNcF7DoiypDd5vs2ETFWirXqmJ86Meg\"]},\"src/ClearingHouse.sol\":{\"keccak256\":\"0xb1d96f11f9601f97de583c9ef84e526b4e2ca49cc836770aa0cab071f0e6af46\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://9092de0badc1893243d9755fe8e887e6e4130319a684189b3ac968d5fa578a8c\",\"dweb:/ipfs/QmeAhkQ8LsVVQQeSftpDK6aS8C7GAaqnU1TBMc1TRGRHLt\"]},\"src/ClearingHouseBase.sol\":{\"keccak256\":\"0xfa0051b6acf2abe7758bf03c6550aa728803fa633e1fc42ca34926b7308f7f53\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://339ef0865dee1f099eef7423a7bbb696bc4f00c372cf748d4245552581b1f0de\",\"dweb:/ipfs/QmSJmzW3E3fwE6iDBwLhRgydr1zJ24cveTCUo3DH1M1dEy\"]},\"src/interfaces/IDeleverager.sol\":{\"keccak256\":\"0x7b43545ecdc068a7032e09e97262bb9573ac61e85764b7e86b14fa6ae5e46f82\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://a68563b641c8c72455ea17a6728bb95dcb2eb6aaf8fa9a2416c173aaf7db7c6c\",\"dweb:/ipfs/QmZ9ZDKb1TM6vtiCREXrCNd5oXU62sABfdcJ4UfJ2L4mNZ\"]},\"src/interfaces/IInsuranceFund.sol\":{\"keccak256\":\"0xd0ae3e75809f7de63e1fbb2b67ed936725d2c64a22831a41ccae7797854f699b\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://840099c9e68804af1eaa8e1d3eebeb92234d76ba918b6e86412082c155242389\",\"dweb:/ipfs/QmYf2xXuTfVHncLH8HaGLw5mYNSdvQFJTc64fr1Js4XK5b\"]},\"src/interfaces/IOrderCreator.sol\":{\"keccak256\":\"0xcdfd472333db339998ae15a1f3b94f706e4baccfa7ebe6a44dbfab1d1eb89ef2\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://6e55cd8166cc8f16ff36fddd7c954d8f192a53529dcaca877aacf7001d76c8ca\",\"dweb:/ipfs/QmSBj66jydEriMX6ChqyEV8yF8XmZcjtjk47TGRS9NpC8g\"]},\"src/interfaces/IPool.sol\":{\"keccak256\":\"0xdb859a4ce1e6aa50b81f031ac305a1fff0dacb6222f86344c841a43d3c0bd2d2\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://d712f46383438b6858b56192c172ea3740b76ec568a6a090c7a5fc4ab05af6a2\",\"dweb:/ipfs/QmSR6fBx4M15iaRD7yXTDVEg2hgmmsPkDGtj8W5yAEkRLK\"]},\"src/interfaces/IPositionManager.sol\":{\"keccak256\":\"0x42297394f34caa2dc09f07a34cb1bc29672046afdc28d068e43007acbc64f57c\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://a159ce89eb0d81e4588257c0d96d3cd1febf817f921ee56fcb88e248b49491e0\",\"dweb:/ipfs/QmT6qD7RvVwUkDuMjmZsSkYqJ3UNoNDgGvypaYG8CgCfht\"]},\"src/interfaces/IPositionMerger.sol\":{\"keccak256\":\"0x608c6fc4d824d7a0aaacdacd2c5321cbd6efc12191b1a0b9d365133f5e8bb34c\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://d0ccb2d812de88bb270ea2549bc9de730a280349f34138f09f8464e9797159fb\",\"dweb:/ipfs/QmYsPVLpi4HsnpaaxZ3YGMiAwWPCspZo68eZzMoQF5kSTt\"]},\"src/interfaces/IRouter.sol\":{\"keccak256\":\"0xdda7d50102c3d1a50acde870f107cba6c3c891c7e9d7dde06fe43ccc8e3bc6ef\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://9358315807401ef144d10a4f8aef0954f9263ca67d4efa727f56cf7cfb49085b\",\"dweb:/ipfs/QmTzYrTX6NW8cwdEAbqp8x8Tz882su567HvpfXUFT7qrQj\"]},\"src/interfaces/IWhitelist.sol\":{\"keccak256\":\"0x134d27eaa1487c600850154fb1dc5ccdedfe40ce277cd4fd6727354f4be24699\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://40ad807109e001751eff4bfc6ba14ac43a81067c6069749a077145c8b2b4b970\",\"dweb:/ipfs/QmWnod5A1XbioCMJWUtvJGvfi625jqgcGCBBDwj5aSuA43\"]},\"src/math/BitMath.sol\":{\"keccak256\":\"0x82e425066110aac05ed8a9fc90f9ee85142b6f434769447e49d4438a8d9fcd82\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://77a97078bc992c18c59cb61e07fa4632c8a26b6babf00f3b16eabb5dcaa953b4\",\"dweb:/ipfs/QmTj15ufLWk6AxedSVXBcLp5cYf2DCJAeDi94cVemCkm54\"]},\"src/math/NFTPMath.sol\":{\"keccak256\":\"0x597ff2c777f04133cfe6ee54139d0c89e5e5cb5bed24313d60fabdeeb468c6d8\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://fec0c8bf4b9f9585119ba8b80512b70d03df1462bcc8497f3501f09440317032\",\"dweb:/ipfs/Qmbb6QmGKtShrkWE1uPQPMUoQtA67EhvCr7nzwVxDhsDau\"]},\"src/math/TickMath.sol\":{\"keccak256\":\"0x681ad959f8a575271b01dbde85e2a61f41eddd3247da3f8bc59d948446975347\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://2347b5b5258d7a8afc15d725ef2b2193751a073cf6180ec1359292729f454a97\",\"dweb:/ipfs/QmTvqAQpCQMZ6wNVAN4CWXaaqZv9zc2vNfXHsaLG5Mmdv2\"]},\"src/nftperp-types/NFTPEnums.sol\":{\"keccak256\":\"0xca50db9e6fbdd29c5e642c5d75d350b66fa7c6acf03350029c1d9d5c341a3115\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://c4ea775d7a81c9868b6ffcece8c83b1321cb73b6231ebd6fe02a13e2b11aca90\",\"dweb:/ipfs/QmXqNKmGAgo15gQeP4TcGnzSsrQqPegrf9RWY5zAV8qRT3\"]},\"src/nftperp-types/NFTPStructs.sol\":{\"keccak256\":\"0x244f90be28642fb6a340449f9de03f433931c828e734fc63491586baa60594be\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://c73d514a0e7a9020f25be4db9aa2fedb170a8e538b08538f19edade9cb9dbbff\",\"dweb:/ipfs/QmU4JPyJ3X2Nzs6KUnL1VbxHMhL94W1X8jZmBEsRJdDCMD\"]},\"src/utils/AccessControlCH.sol\":{\"keccak256\":\"0xe09dde81d505eb56118eb80934c591567767c512923b3e9580e15095886e934d\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://8b4139abd776e119b9fa4d74fe5e2460ae4c26044c7798cc73d6ea2ea1841073\",\"dweb:/ipfs/Qmc77j5HtBQVDTB8juMxdZHyZ5rD3q26fFQXNTMCDHV2ah\"]},\"src/utils/TickBitmap.sol\":{\"keccak256\":\"0x5e12400e4e3f8cd33128b333cdbbb9e87850d1735aceed1b87acedd7c5a6dbcd\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://19a92895f4f5292c0fee2da260b9d4739cd5d464d8c8d5c3902959572a5b3901\",\"dweb:/ipfs/Qmd2DDLMqN8wY5wq1j98UgVDc66qQLJer9QEEB3X11hVaP\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.19+commit.7dd6d404"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_weth","type":"address"},{"internalType":"address","name":"_insuranceFund","type":"address"},{"internalType":"address","name":"_positionManager","type":"address"},{"internalType":"address","name":"_positionMerger","type":"address"},{"internalType":"address","name":"_deleverager","type":"address"},{"internalType":"address","name":"_orderCreator","type":"address"},{"internalType":"address","name":"_whitelist","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"AMM_IS_ACTIVE"},{"inputs":[],"type":"error","name":"AlreadyInitialized"},{"inputs":[],"type":"error","name":"BAD_DEBT"},{"inputs":[],"type":"error","name":"INACTIVE"},{"inputs":[],"type":"error","name":"INSUFFICIENT_LIQUIDITY"},{"inputs":[],"type":"error","name":"INSUFFICIENT_MARGIN"},{"inputs":[],"type":"error","name":"INSUFFICIENT_OPEN_NOTIONAL"},{"inputs":[],"type":"error","name":"INSUFFICIENT_SIZE"},{"inputs":[],"type":"error","name":"INVALID_AMM"},{"inputs":[],"type":"error","name":"INVALID_SIDE"},{"inputs":[],"type":"error","name":"INVALID_TRIGGER_AMOUNT"},{"inputs":[],"type":"error","name":"LIQUIDATABLE"},{"inputs":[],"type":"error","name":"NOT_LIMIT_CLOSE"},{"inputs":[],"type":"error","name":"NOT_LIQUIDATABLE"},{"inputs":[],"type":"error","name":"NOT_REDUCE_ONLY"},{"inputs":[],"type":"error","name":"NOT_TRADER"},{"inputs":[],"type":"error","name":"NO_POOL_IN_RANGE"},{"inputs":[],"type":"error","name":"NO_POSITION"},{"inputs":[],"type":"error","name":"NewOwnerIsZeroAddress"},{"inputs":[],"type":"error","name":"NoHandoverRequest"},{"inputs":[],"type":"error","name":"OPEN_INTEREST_CAP_EXCEEDED"},{"inputs":[],"type":"error","name":"OVER_DIVERGENCE_CAP"},{"inputs":[],"type":"error","name":"OVER_MAX_LEVERAGE"},{"inputs":[],"type":"error","name":"OVER_MAX_SIZE"},{"inputs":[],"type":"error","name":"POSITION_ON_WRONG_SIDE"},{"inputs":[],"type":"error","name":"SANDWICH"},{"inputs":[],"type":"error","name":"TRIGGER_INVALID"},{"inputs":[],"type":"error","name":"TRIGGER_ON_MARK"},{"inputs":[],"type":"error","name":"Unauthorized"},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true}],"type":"event","name":"AMMInvalidated","anonymous":false},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true}],"type":"event","name":"AMMValidated","anonymous":false},{"inputs":[],"type":"event","name":"Activated","anonymous":false},{"inputs":[],"type":"event","name":"Deactivated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"divergenceCap","type":"uint256","indexed":false}],"type":"event","name":"DivergenceCapChanged","anonymous":false},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"address","name":"payer","type":"address","indexed":true},{"internalType":"address","name":"receiver","type":"address","indexed":true},{"internalType":"uint256","name":"id","type":"uint256","indexed":false},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false},{"internalType":"enum FeeType","name":"feeType","type":"uint8","indexed":false}],"type":"event","name":"FeeDistributed","anonymous":false},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"uint256","name":"markPrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"indexPrice","type":"uint256","indexed":false},{"internalType":"int256","name":"premiumFraction","type":"int256","indexed":false}],"type":"event","name":"FundingSettled","anonymous":false},{"inputs":[{"internalType":"uint8","name":"version","type":"uint8","indexed":false}],"type":"event","name":"Initialized","anonymous":false},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256","indexed":true},{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"enum LimitOrderResult","name":"result","type":"uint8","indexed":false}],"type":"event","name":"LimitOrderRemoved","anonymous":false},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256","indexed":true},{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"struct LimitOrder","name":"order","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"enum Side","name":"side","type":"uint8"},{"internalType":"uint256","name":"trigger","type":"uint256"},{"internalType":"uint256","name":"quoteAmount","type":"uint256"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"bool","name":"reduceOnly","type":"bool"}],"indexed":false}],"type":"event","name":"LimitOrderUpdated","anonymous":false},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"address","name":"maker","type":"address","indexed":true}],"type":"event","name":"LiquidityAdded","anonymous":false},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"address","name":"trader","type":"address","indexed":true}],"type":"event","name":"LiquidityRemoved","anonymous":false},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"MarginAdded","anonymous":false},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"MarginRemoved","anonymous":false},{"inputs":[{"internalType":"uint256","name":"minOrderbookMargin","type":"uint256","indexed":false}],"type":"event","name":"MinOrderbookMarginChanged","anonymous":false},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"uint256","name":"newOpenInterest","type":"uint256","indexed":false}],"type":"event","name":"OpenInterestChanged","anonymous":false},{"inputs":[{"internalType":"address","name":"pendingOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipHandoverCanceled","anonymous":false},{"inputs":[{"internalType":"address","name":"pendingOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipHandoverRequested","anonymous":false},{"inputs":[{"internalType":"address","name":"oldOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"margin","type":"uint256","indexed":false},{"internalType":"int256","name":"size","type":"int256","indexed":false},{"internalType":"uint256","name":"openNotional","type":"uint256","indexed":false},{"internalType":"uint256","name":"exchangedQuote","type":"uint256","indexed":false},{"internalType":"int256","name":"exchangedBase","type":"int256","indexed":false},{"internalType":"int256","name":"realizedPnL","type":"int256","indexed":false},{"internalType":"int256","name":"fundingPayment","type":"int256","indexed":false},{"internalType":"uint256","name":"markPrice","type":"uint256","indexed":false},{"internalType":"enum TradeType","name":"tradeType","type":"uint8","indexed":false}],"type":"event","name":"PositionChanged","anonymous":false},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256","indexed":true},{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"address","name":"keeper","type":"address","indexed":false}],"type":"event","name":"TriggerOrderRemoved","anonymous":false},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256","indexed":true},{"internalType":"contract IRouter","name":"amm","type":"address","indexed":true},{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"struct TriggerOrder","name":"order","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"uint256","name":"trigger","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"},{"internalType":"uint256","name":"quoteLimit","type":"uint256"},{"internalType":"bool","name":"takeProfit","type":"bool"}],"indexed":false}],"type":"event","name":"TriggerOrderUpdated","anonymous":false},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"struct LiquidityAddData[]","name":"data","type":"tuple[]","components":[{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"margin","type":"uint256"},{"internalType":"uint256","name":"leverage","type":"uint256"}]}],"stateMutability":"nonpayable","type":"function","name":"addLiquidity","outputs":[{"internalType":"struct LiquidityAddReturnData[]","name":"returnData","type":"tuple[]","components":[{"internalType":"contract IPool","name":"pool","type":"address"},{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"uint256","name":"quote","type":"uint256"},{"internalType":"uint256","name":"base","type":"uint256"}]}]},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"uint256","name":"margin","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"addMargin"},{"inputs":[],"stateMutability":"payable","type":"function","name":"cancelOwnershipHandover"},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"uint256","name":"size","type":"uint256"},{"internalType":"uint256","name":"quoteLimit","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"closePosition","outputs":[{"internalType":"uint256","name":"quoteAmount","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"closePositionKeeper","outputs":[{"internalType":"uint256","name":"quoteAmount","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"pendingOwner","type":"address"}],"stateMutability":"payable","type":"function","name":"completeOwnershipHandover"},{"inputs":[{"internalType":"struct LimitOrder","name":"order","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"enum Side","name":"side","type":"uint8"},{"internalType":"uint256","name":"trigger","type":"uint256"},{"internalType":"uint256","name":"quoteAmount","type":"uint256"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"bool","name":"reduceOnly","type":"bool"}]}],"stateMutability":"nonpayable","type":"function","name":"createLimitOrder","outputs":[{"internalType":"uint256","name":"id","type":"uint256"}]},{"inputs":[{"internalType":"struct LimitOrder[]","name":"_orders","type":"tuple[]","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"enum Side","name":"side","type":"uint8"},{"internalType":"uint256","name":"trigger","type":"uint256"},{"internalType":"uint256","name":"quoteAmount","type":"uint256"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"bool","name":"reduceOnly","type":"bool"}]}],"stateMutability":"nonpayable","type":"function","name":"createLimitOrderBatch","outputs":[{"internalType":"uint256[]","name":"ids","type":"uint256[]"}]},{"inputs":[{"internalType":"struct TriggerOrder","name":"order","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"uint256","name":"trigger","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"},{"internalType":"uint256","name":"quoteLimit","type":"uint256"},{"internalType":"bool","name":"takeProfit","type":"bool"}]}],"stateMutability":"nonpayable","type":"function","name":"createTriggerOrder","outputs":[{"internalType":"uint256","name":"id","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"deleteLimitOrder"},{"inputs":[{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function","name":"deleteLimitOrderBatch"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"deleteTriggerOrder"},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"address","name":"taker","type":"address"},{"internalType":"address","name":"maker","type":"address"},{"internalType":"uint256","name":"size","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"deleverage"},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"}],"stateMutability":"view","type":"function","name":"getCumulativePremiumFraction","outputs":[{"internalType":"int256","name":"","type":"int256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getDivergenceCap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"address","name":"trader","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"getFreeCollateral","outputs":[{"internalType":"int256","name":"","type":"int256"}]},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function","name":"getLimitOrder","outputs":[{"internalType":"struct LimitOrder","name":"","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"enum Side","name":"side","type":"uint8"},{"internalType":"uint256","name":"trigger","type":"uint256"},{"internalType":"uint256","name":"quoteAmount","type":"uint256"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"bool","name":"reduceOnly","type":"bool"}]}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getMinOrderbookMargin","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"}],"stateMutability":"view","type":"function","name":"getOpenInterestNotional","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"address","name":"trader","type":"address"}],"stateMutability":"view","type":"function","name":"getPosition","outputs":[{"internalType":"struct Position","name":"","type":"tuple","components":[{"internalType":"int256","name":"size","type":"int256"},{"internalType":"uint256","name":"margin","type":"uint256"},{"internalType":"uint256","name":"openNotional","type":"uint256"},{"internalType":"int256","name":"lastPremiumFraction","type":"int256"},{"internalType":"uint256","name":"blockNumber","type":"uint256"}]}]},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"address","name":"trader","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"getPositionNotionalUpnl","outputs":[{"internalType":"uint256","name":"positionNotional","type":"uint256"},{"internalType":"int256","name":"upnl","type":"int256"}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"}],"stateMutability":"view","type":"function","name":"getReduceOnlyOrders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}]},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"}],"stateMutability":"view","type":"function","name":"getTotalPositionSize","outputs":[{"internalType":"struct TotalPositionSize","name":"","type":"tuple","components":[{"internalType":"int256","name":"netPositionSize","type":"int256"},{"internalType":"uint256","name":"positionSizeLong","type":"uint256"},{"internalType":"uint256","name":"positionSizeShort","type":"uint256"}]}]},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function","name":"getTriggerOrder","outputs":[{"internalType":"struct TriggerOrder","name":"","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"uint256","name":"trigger","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"},{"internalType":"uint256","name":"quoteLimit","type":"uint256"},{"internalType":"bool","name":"takeProfit","type":"bool"}]}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"}],"stateMutability":"view","type":"function","name":"getTriggerOrders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}]},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"}],"stateMutability":"view","type":"function","name":"getValidAMM","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_divergenceCap","type":"uint256"},{"internalType":"uint256","name":"_minOrderbookMargin","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[],"stateMutability":"view","type":"function","name":"isActive","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"address","name":"trader","type":"address"}],"stateMutability":"view","type":"function","name":"isLiquidatable","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function","name":"isTriggerOrderValid","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"uint256","name":"size","type":"uint256"},{"internalType":"address","name":"liquidatee","type":"address"},{"internalType":"uint256","name":"margin","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"liquidate"},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"address","name":"liquidatee","type":"address"},{"internalType":"uint256","name":"margin","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"liquidateMaker"},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"enum Side","name":"side","type":"uint8"},{"internalType":"uint256","name":"quote","type":"uint256"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"uint256","name":"baseLimit","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"openPosition","outputs":[{"internalType":"uint256","name":"baseAmount","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"result","type":"address"}]},{"inputs":[{"internalType":"address","name":"pendingOwner","type":"address"}],"stateMutability":"view","type":"function","name":"ownershipHandoverExpiresAt","outputs":[{"internalType":"uint256","name":"result","type":"uint256"}]},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"struct LiquidityRemoveData[]","name":"data","type":"tuple[]","components":[{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"shares","type":"uint256"}]},{"internalType":"uint256","name":"addedMargin","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"removeLiquidity"},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"uint256","name":"margin","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"removeMargin"},{"inputs":[],"stateMutability":"payable","type":"function","name":"renounceOwnership"},{"inputs":[],"stateMutability":"payable","type":"function","name":"requestOwnershipHandover"},{"inputs":[{"internalType":"bool","name":"_active","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setActive"},{"inputs":[{"internalType":"uint256","name":"_divergenceCap","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setDivergenceCap"},{"inputs":[{"internalType":"uint256","name":"minMargin","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setMinOrderbookMargin"},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"bool","name":"valid","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setValidAMM"},{"inputs":[{"internalType":"contract IRouter","name":"amm","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"settleFunding"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"payable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"struct LimitOrder","name":"order","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"enum Side","name":"side","type":"uint8"},{"internalType":"uint256","name":"trigger","type":"uint256"},{"internalType":"uint256","name":"quoteAmount","type":"uint256"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"bool","name":"reduceOnly","type":"bool"}]}],"stateMutability":"nonpayable","type":"function","name":"updateLimitOrder"},{"inputs":[{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"struct LimitOrder[]","name":"_orders","type":"tuple[]","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"enum Side","name":"side","type":"uint8"},{"internalType":"uint256","name":"trigger","type":"uint256"},{"internalType":"uint256","name":"quoteAmount","type":"uint256"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"bool","name":"reduceOnly","type":"bool"}]}],"stateMutability":"nonpayable","type":"function","name":"updateLimitOrderBatch"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"struct TriggerOrder","name":"order","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"contract IRouter","name":"amm","type":"address"},{"internalType":"uint256","name":"trigger","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"},{"internalType":"uint256","name":"quoteLimit","type":"uint256"},{"internalType":"bool","name":"takeProfit","type":"bool"}]}],"stateMutability":"nonpayable","type":"function","name":"updateTriggerOrder"}],"devdoc":{"kind":"dev","methods":{"addLiquidity(address,(uint256,uint256,uint256)[])":{"details":"a MakerStruct is created for the sender in AMM"},"cancelOwnershipHandover()":{"details":"Cancels the two-step ownership handover to the caller, if any."},"closePosition(address,uint256,uint256)":{"details":"caller must have a pre-existing position to closedelegatecalls to the PositionManager library ","params":{"amm":"— collection","quoteLimit":"— min quote amount to receive / max quote amount to spend","size":"— absolute size to close"}},"closePositionKeeper(uint256)":{"details":"call will revert if trigger order conditions are unmetcaller receives keeper feedelegatecalls to the PositionManager library ","params":{"id":"— id of trigger order"}},"completeOwnershipHandover(address)":{"details":"Allows the owner to complete the two-step ownership handover to `pendingOwner`. Reverts if there is no existing ownership handover requested by `pendingOwner`."},"createLimitOrder((address,address,uint8,uint256,uint256,uint256,bool))":{"details":"delegatecalls to the OrderCreator library ","returns":{"id":"— id of new limit order"}},"createLimitOrderBatch((address,address,uint8,uint256,uint256,uint256,bool)[])":{"details":"delegatecalls to the OrderCreator library ","returns":{"ids":"— ids of new limit orders"}},"createTriggerOrder((address,address,uint256,uint256,uint256,bool))":{"details":"delegatecalls to the OrderCreator library ","returns":{"id":"— id of new trigger order"}},"deleteLimitOrder(uint256)":{"details":"delegatecalls to the OrderCreator library"},"deleteLimitOrderBatch(uint256[])":{"details":"delegatecalls to the OrderCreator library"},"deleteTriggerOrder(uint256)":{"details":"delegatecalls to the OrderCreator library"},"deleverage(address,address,address,uint256)":{"details":"will revert if maker has no bad debt or if taker has insufficient marginonly callable by owner"},"liquidate(address,uint256,address,uint256)":{"details":"will revert if liquidatee is not liquidatablemay result in a decrease, close, or reverse-open for callerpartial liquidations will revert if liquidatee has bad debtif full liquidation, caller will get 2.5% of liquidatee notional position       added to new positionif partial liquidation, caller will get 2.5% / 2 of liquidatee notional position      added to new positionwill revert if caller's position is liquidatable after mergedelegatecalls to the PositionMerger library ","params":{"margin":"— margin to add to new caller position (can be zero)"}},"liquidateMaker(address,address,uint256)":{"details":"will revert if liquidatee impermanent position is not liquidatablewill revert if caller's position is liquidatable after mergemay result in a decrease, close, or reverse-open for callercaller will get 2.5% of liquidatee impermanent notional position  ","params":{"margin":"— margin to add to new caller position (can be zero)"}},"openPosition(address,uint8,uint256,uint256,uint256)":{"details":"this function can also be used to increase, decrease, close, or reverse-open an existing positiondelegatecalls to the PositionManager library ","params":{"amm":"— collection","baseLimit":"— min base amount to receive / max base amount to spend","leverage":"— leverage","quote":"— margin","side":"— long or short"}},"owner()":{"details":"Returns the owner of the contract."},"ownershipHandoverExpiresAt(address)":{"details":"Returns the expiry timestamp for the two-step ownership handover to `pendingOwner`."},"removeLiquidity(address,(uint256,uint256)[],uint256)":{"details":"returns margin to caller if there is no impermanent positionreturns margin to caller if there is no remaining liquidity in AMM ","params":{"addedMargin":"— margin to add to permanent position (can be zero)"}},"removeMargin(address,uint256)":{"details":"must meet a min free collateral requirement after removing margin"},"renounceOwnership()":{"details":"Allows the owner to renounce their ownership."},"requestOwnershipHandover()":{"details":"Request a two-step ownership handover to the caller. The request will automatically expire in 48 hours (172800 seconds) by default."},"setDivergenceCap(uint256)":{"details":"only callable by owner"},"setMinOrderbookMargin(uint256)":{"details":"only callable by owner"},"setValidAMM(address,bool)":{"details":"will revert if amm is active and setting to invalidonly callable by owner"},"settleFunding(address)":{"details":"will revert if funding period hasn't passed"},"transferOwnership(address)":{"details":"Allows the owner to transfer the ownership to `newOwner`."},"updateLimitOrder(uint256,(address,address,uint8,uint256,uint256,uint256,bool))":{"details":"delegatecalls to the OrderCreator library"},"updateLimitOrderBatch(uint256[],(address,address,uint8,uint256,uint256,uint256,bool)[])":{"details":"delegatecalls to the OrderCreator library"},"updateTriggerOrder(uint256,(address,address,uint256,uint256,uint256,bool))":{"details":"delegatecalls to the OrderCreator library"}},"version":1},"userdoc":{"kind":"user","methods":{"addLiquidity(address,(uint256,uint256,uint256)[])":{"notice":"adds liquidity to 'amm' with 'margin' and 'leverage' "},"addMargin(address,uint256)":{"notice":"adds 'margin' to caller's position in 'amm' "},"closePosition(address,uint256,uint256)":{"notice":"closes a position  "},"closePositionKeeper(uint256)":{"notice":"executes a trigger order to close a position on behalf of a trader "},"createLimitOrder((address,address,uint8,uint256,uint256,uint256,bool))":{"notice":"creates a limit 'order' for caller "},"createLimitOrderBatch((address,address,uint8,uint256,uint256,uint256,bool)[])":{"notice":"creates multiple limit '_orders' for caller "},"createTriggerOrder((address,address,uint256,uint256,uint256,bool))":{"notice":"creates a trigger 'order' for caller "},"deleteLimitOrder(uint256)":{"notice":"deletes a limit order 'id' "},"deleteLimitOrderBatch(uint256[])":{"notice":"deletes multiple limit orders 'ids' "},"deleteTriggerOrder(uint256)":{"notice":"deletes a trigger order 'id' "},"deleverage(address,address,address,uint256)":{"notice":"performs ADL trade on underwater 'maker' and above water 'taker' positions         in 'amm' for 'size' "},"liquidate(address,uint256,address,uint256)":{"notice":"liquidates 'amm' position 'size' of 'liquidatee' merges 'liquidatee' position 'size' with caller "},"liquidateMaker(address,address,uint256)":{"notice":"liquidates 'liquidatee' LP position in 'amm'merges 'liquidatee' impermanent position with caller "},"openPosition(address,uint8,uint256,uint256,uint256)":{"notice":"opens a position for 'quote' * 'leverage' "},"removeLiquidity(address,(uint256,uint256)[],uint256)":{"notice":"removes caller's 'shares' from 'amm'realizes LP's impermanent position, by merging it into caller's taker position "},"removeMargin(address,uint256)":{"notice":"removes 'margin' from caller's position in 'amm' "},"setDivergenceCap(uint256)":{"notice":"sets mark/index \"divergenceCap\" "},"setMinOrderbookMargin(uint256)":{"notice":"sets \"minOrderbookMargin\" for non reduce-only limit orders "},"setValidAMM(address,bool)":{"notice":"sets \"validAMM\" to true or false for protocol "},"settleFunding(address)":{"notice":"settles funding for 'amm' "},"updateLimitOrder(uint256,(address,address,uint8,uint256,uint256,uint256,bool))":{"notice":"updates a limit order 'id' to a new 'order' "},"updateLimitOrderBatch(uint256[],(address,address,uint8,uint256,uint256,uint256,bool)[])":{"notice":"updates multiple limit orders 'ids' to new '_orders' "},"updateTriggerOrder(uint256,(address,address,uint256,uint256,uint256,bool))":{"notice":"updates a trigger order 'id' to a new 'order' "}},"version":1}},"settings":{"remappings":["ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","forge/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/","solady/=lib/solady/src/"],"optimizer":{"enabled":true,"runs":1},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/ClearingHouse.sol":"ClearingHouse"},"evmVersion":"paris","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/proxy/utils/Initializable.sol":{"keccak256":"0x3d6069be9b4c01fb81840fb9c2c4dc58dd6a6a4aafaa2c6837de8699574d84c6","urls":["bzz-raw://720d6bb56ea0c4ef781c0bd65c5bd0541f5a46100163b2587170f97658d2deed","dweb:/ipfs/QmTS2biLVPrv8CeeXCaKmkFxonMiRvc1LxiYBRYDAJHQUS"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Address.sol":{"keccak256":"0x006dd67219697fe68d7fbfdea512e7c4cb64a43565ed86171d67e844982da6fa","urls":["bzz-raw://2455248c8ddd9cc6a7af76a13973cddf222072427e7b0e2a7d1aff345145e931","dweb:/ipfs/QmfYjnjRbWqYpuxurqveE6HtzsY1Xx323J428AKQgtBJZm"],"license":"MIT"},"lib/solady/src/auth/Ownable.sol":{"keccak256":"0xc208cdd9de02bbf4b5edad18b88e23a2be7ff56d2287d5649329dc7cda64b9a3","urls":["bzz-raw://e8fba079cc7230c617f7493a2e97873f88e59a53a5018fcb2e2b6ac42d8aa5a3","dweb:/ipfs/QmTXg8GSt8hsK2cZhbPFrund1mrwVdkLQmEPoQaFy4fhjs"],"license":"MIT"},"lib/solady/src/utils/FixedPointMathLib.sol":{"keccak256":"0x9671f3c8177e7dc6e38e628e39cebec3d27058ffe1c026dfbff74a82225563f3","urls":["bzz-raw://6f193bac4f5325ab2e29e5571c89f48cd32d817d598b0c09eec72b0f8596a7ce","dweb:/ipfs/QmWuW8U8sGWDapWGEAf5qMZMdFP8MkU6fhGAb6W1pt5KfF"],"license":"MIT"},"lib/solady/src/utils/LibSort.sol":{"keccak256":"0xfa4028961ad53620a8e8e6e8d141c5f409c45d7ca4240aa39f2a48e3d817fbec","urls":["bzz-raw://284d332203cc8f6d6bcbc48b2021fb35b4adc2ebdd5482b8ce8b89f64b8897ba","dweb:/ipfs/QmRptNWkfa6CGSGhPJ5qqN83qfXBst1WiEGU51i4y4AXVy"],"license":"MIT"},"lib/solady/src/utils/SafeCastLib.sol":{"keccak256":"0xd8319986d56aeefa8dd6d683c0827576dd31925c82b0c2e50eceac2421543f9b","urls":["bzz-raw://016709ad671ed03535a35813a77c826086708bef03cbbe6339d1cbeefa098dfb","dweb:/ipfs/QmQn6Q7CQc2sA9Qtn9AEeD8AF2h1KKWCH9TjTqvGMyF79d"],"license":"MIT"},"lib/solady/src/utils/SafeTransferLib.sol":{"keccak256":"0xf98506fade18a92e3d8d0a0ca0bdaeaa099d7620aac2a9d76b5f3d0bcd10691c","urls":["bzz-raw://a3495c9d108bc69951a12c5ce9f05851cc921f0bb69e2505756e79f3ddab4e1a","dweb:/ipfs/QmT3XwbmdbQCxw7iNcF7DoiypDd5vs2ETFWirXqmJ86Meg"],"license":"MIT"},"src/ClearingHouse.sol":{"keccak256":"0xb1d96f11f9601f97de583c9ef84e526b4e2ca49cc836770aa0cab071f0e6af46","urls":["bzz-raw://9092de0badc1893243d9755fe8e887e6e4130319a684189b3ac968d5fa578a8c","dweb:/ipfs/QmeAhkQ8LsVVQQeSftpDK6aS8C7GAaqnU1TBMc1TRGRHLt"],"license":"GPL-3.0-or-later"},"src/ClearingHouseBase.sol":{"keccak256":"0xfa0051b6acf2abe7758bf03c6550aa728803fa633e1fc42ca34926b7308f7f53","urls":["bzz-raw://339ef0865dee1f099eef7423a7bbb696bc4f00c372cf748d4245552581b1f0de","dweb:/ipfs/QmSJmzW3E3fwE6iDBwLhRgydr1zJ24cveTCUo3DH1M1dEy"],"license":"GPL-3.0-or-later"},"src/interfaces/IDeleverager.sol":{"keccak256":"0x7b43545ecdc068a7032e09e97262bb9573ac61e85764b7e86b14fa6ae5e46f82","urls":["bzz-raw://a68563b641c8c72455ea17a6728bb95dcb2eb6aaf8fa9a2416c173aaf7db7c6c","dweb:/ipfs/QmZ9ZDKb1TM6vtiCREXrCNd5oXU62sABfdcJ4UfJ2L4mNZ"],"license":"GPL-3.0-or-later"},"src/interfaces/IInsuranceFund.sol":{"keccak256":"0xd0ae3e75809f7de63e1fbb2b67ed936725d2c64a22831a41ccae7797854f699b","urls":["bzz-raw://840099c9e68804af1eaa8e1d3eebeb92234d76ba918b6e86412082c155242389","dweb:/ipfs/QmYf2xXuTfVHncLH8HaGLw5mYNSdvQFJTc64fr1Js4XK5b"],"license":"GPL-3.0-or-later"},"src/interfaces/IOrderCreator.sol":{"keccak256":"0xcdfd472333db339998ae15a1f3b94f706e4baccfa7ebe6a44dbfab1d1eb89ef2","urls":["bzz-raw://6e55cd8166cc8f16ff36fddd7c954d8f192a53529dcaca877aacf7001d76c8ca","dweb:/ipfs/QmSBj66jydEriMX6ChqyEV8yF8XmZcjtjk47TGRS9NpC8g"],"license":"GPL-3.0-or-later"},"src/interfaces/IPool.sol":{"keccak256":"0xdb859a4ce1e6aa50b81f031ac305a1fff0dacb6222f86344c841a43d3c0bd2d2","urls":["bzz-raw://d712f46383438b6858b56192c172ea3740b76ec568a6a090c7a5fc4ab05af6a2","dweb:/ipfs/QmSR6fBx4M15iaRD7yXTDVEg2hgmmsPkDGtj8W5yAEkRLK"],"license":"GPL-3.0-or-later"},"src/interfaces/IPositionManager.sol":{"keccak256":"0x42297394f34caa2dc09f07a34cb1bc29672046afdc28d068e43007acbc64f57c","urls":["bzz-raw://a159ce89eb0d81e4588257c0d96d3cd1febf817f921ee56fcb88e248b49491e0","dweb:/ipfs/QmT6qD7RvVwUkDuMjmZsSkYqJ3UNoNDgGvypaYG8CgCfht"],"license":"GPL-3.0-or-later"},"src/interfaces/IPositionMerger.sol":{"keccak256":"0x608c6fc4d824d7a0aaacdacd2c5321cbd6efc12191b1a0b9d365133f5e8bb34c","urls":["bzz-raw://d0ccb2d812de88bb270ea2549bc9de730a280349f34138f09f8464e9797159fb","dweb:/ipfs/QmYsPVLpi4HsnpaaxZ3YGMiAwWPCspZo68eZzMoQF5kSTt"],"license":"GPL-3.0-or-later"},"src/interfaces/IRouter.sol":{"keccak256":"0xdda7d50102c3d1a50acde870f107cba6c3c891c7e9d7dde06fe43ccc8e3bc6ef","urls":["bzz-raw://9358315807401ef144d10a4f8aef0954f9263ca67d4efa727f56cf7cfb49085b","dweb:/ipfs/QmTzYrTX6NW8cwdEAbqp8x8Tz882su567HvpfXUFT7qrQj"],"license":"GPL-3.0-or-later"},"src/interfaces/IWhitelist.sol":{"keccak256":"0x134d27eaa1487c600850154fb1dc5ccdedfe40ce277cd4fd6727354f4be24699","urls":["bzz-raw://40ad807109e001751eff4bfc6ba14ac43a81067c6069749a077145c8b2b4b970","dweb:/ipfs/QmWnod5A1XbioCMJWUtvJGvfi625jqgcGCBBDwj5aSuA43"],"license":"GPL-3.0-or-later"},"src/math/BitMath.sol":{"keccak256":"0x82e425066110aac05ed8a9fc90f9ee85142b6f434769447e49d4438a8d9fcd82","urls":["bzz-raw://77a97078bc992c18c59cb61e07fa4632c8a26b6babf00f3b16eabb5dcaa953b4","dweb:/ipfs/QmTj15ufLWk6AxedSVXBcLp5cYf2DCJAeDi94cVemCkm54"],"license":"GPL-2.0-or-later"},"src/math/NFTPMath.sol":{"keccak256":"0x597ff2c777f04133cfe6ee54139d0c89e5e5cb5bed24313d60fabdeeb468c6d8","urls":["bzz-raw://fec0c8bf4b9f9585119ba8b80512b70d03df1462bcc8497f3501f09440317032","dweb:/ipfs/Qmbb6QmGKtShrkWE1uPQPMUoQtA67EhvCr7nzwVxDhsDau"],"license":"GPL-3.0-or-later"},"src/math/TickMath.sol":{"keccak256":"0x681ad959f8a575271b01dbde85e2a61f41eddd3247da3f8bc59d948446975347","urls":["bzz-raw://2347b5b5258d7a8afc15d725ef2b2193751a073cf6180ec1359292729f454a97","dweb:/ipfs/QmTvqAQpCQMZ6wNVAN4CWXaaqZv9zc2vNfXHsaLG5Mmdv2"],"license":"GPL-2.0-or-later"},"src/nftperp-types/NFTPEnums.sol":{"keccak256":"0xca50db9e6fbdd29c5e642c5d75d350b66fa7c6acf03350029c1d9d5c341a3115","urls":["bzz-raw://c4ea775d7a81c9868b6ffcece8c83b1321cb73b6231ebd6fe02a13e2b11aca90","dweb:/ipfs/QmXqNKmGAgo15gQeP4TcGnzSsrQqPegrf9RWY5zAV8qRT3"],"license":"GPL-3.0-or-later"},"src/nftperp-types/NFTPStructs.sol":{"keccak256":"0x244f90be28642fb6a340449f9de03f433931c828e734fc63491586baa60594be","urls":["bzz-raw://c73d514a0e7a9020f25be4db9aa2fedb170a8e538b08538f19edade9cb9dbbff","dweb:/ipfs/QmU4JPyJ3X2Nzs6KUnL1VbxHMhL94W1X8jZmBEsRJdDCMD"],"license":"GPL-3.0-or-later"},"src/utils/AccessControlCH.sol":{"keccak256":"0xe09dde81d505eb56118eb80934c591567767c512923b3e9580e15095886e934d","urls":["bzz-raw://8b4139abd776e119b9fa4d74fe5e2460ae4c26044c7798cc73d6ea2ea1841073","dweb:/ipfs/Qmc77j5HtBQVDTB8juMxdZHyZ5rD3q26fFQXNTMCDHV2ah"],"license":"GPL-3.0-or-later"},"src/utils/TickBitmap.sol":{"keccak256":"0x5e12400e4e3f8cd33128b333cdbbb9e87850d1735aceed1b87acedd7c5a6dbcd","urls":["bzz-raw://19a92895f4f5292c0fee2da260b9d4739cd5d464d8c8d5c3902959572a5b3901","dweb:/ipfs/Qmd2DDLMqN8wY5wq1j98UgVDc66qQLJer9QEEB3X11hVaP"],"license":"BUSL-1.1"}},"version":1},"ast":{"absolutePath":"src/ClearingHouse.sol","id":47933,"exportedSymbols":{"AccessControlCH":[62587],"Address":[30377],"ClearingHouse":[47932],"ClearingHouseBase":[49957],"Dir":[61969],"FixedPointMathLib":[34298],"IDeleverager":[59678],"IInsuranceFund":[59699],"IOrderCreator":[59780],"IPositionManager":[60249],"IPositionMerger":[60315],"IRouter":[60678],"IWhitelist":[60686],"Initializable":[29969],"LimitOrder":[62100],"LiquidationParams":[62216],"Liquidity":[62409],"LiquidityAddData":[62054],"LiquidityAddReturnData":[62076],"LiquidityRemoveData":[62059],"MakerPosition":[62047],"MarginCalcResponse":[62293],"NFTPMath":[61423],"PnLCalcParams":[62149],"Position":[62026],"SafeCastLib":[37238],"SafeTransferLib":[37434],"Side":[61966],"StaticFillParams":[62358],"TickBitmap":[62861],"TickMath":[61961],"TotalPositionSize":[62066],"TriggerOrder":[62114]},"nodeType":"SourceUnit","src":"45:29139:46","nodes":[{"id":45698,"nodeType":"PragmaDirective","src":"45:23:46","nodes":[],"literals":["solidity","0.8",".19"]},{"id":45712,"nodeType":"ImportDirective","src":"99:327:46","nodes":[],"absolutePath":"src/nftperp-types/NFTPStructs.sol","file":"./nftperp-types/NFTPStructs.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":62415,"symbolAliases":[{"foreign":{"id":45699,"name":"Position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62026,"src":"113:8:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45700,"name":"MakerPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62047,"src":"128:13:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45701,"name":"LimitOrder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62100,"src":"148:10:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45702,"name":"TriggerOrder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62114,"src":"165:12:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45703,"name":"TotalPositionSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62066,"src":"184:17:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45704,"name":"PnLCalcParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62149,"src":"208:13:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45705,"name":"StaticFillParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62358,"src":"228:16:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45706,"name":"LiquidationParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62216,"src":"251:17:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45707,"name":"MarginCalcResponse","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62293,"src":"275:18:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45708,"name":"LiquidityAddData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62054,"src":"300:16:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45709,"name":"LiquidityRemoveData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62059,"src":"322:19:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45710,"name":"LiquidityAddReturnData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62076,"src":"347:22:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45711,"name":"Liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62409,"src":"375:9:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45715,"nodeType":"ImportDirective","src":"427:58:46","nodes":[],"absolutePath":"src/nftperp-types/NFTPEnums.sol","file":"./nftperp-types/NFTPEnums.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":62004,"symbolAliases":[{"foreign":{"id":45713,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"436:4:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45714,"name":"Dir","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61969,"src":"442:3:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45717,"nodeType":"ImportDirective","src":"515:60:46","nodes":[],"absolutePath":"src/ClearingHouseBase.sol","file":"./ClearingHouseBase.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":49958,"symbolAliases":[{"foreign":{"id":45716,"name":"ClearingHouseBase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49957,"src":"524:17:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45719,"nodeType":"ImportDirective","src":"605:47:46","nodes":[],"absolutePath":"src/math/NFTPMath.sol","file":"./math/NFTPMath.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":61424,"symbolAliases":[{"foreign":{"id":45718,"name":"NFTPMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61423,"src":"614:8:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45721,"nodeType":"ImportDirective","src":"653:82:46","nodes":[],"absolutePath":"lib/solady/src/utils/FixedPointMathLib.sol","file":"../lib/solady/src/utils/FixedPointMathLib.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":34299,"symbolAliases":[{"foreign":{"id":45720,"name":"FixedPointMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34298,"src":"662:17:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45723,"nodeType":"ImportDirective","src":"736:47:46","nodes":[],"absolutePath":"src/math/TickMath.sol","file":"./math/TickMath.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":61962,"symbolAliases":[{"foreign":{"id":45722,"name":"TickMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61961,"src":"745:8:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45725,"nodeType":"ImportDirective","src":"813:62:46","nodes":[],"absolutePath":"src/utils/AccessControlCH.sol","file":"./utils/AccessControlCH.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":62588,"symbolAliases":[{"foreign":{"id":45724,"name":"AccessControlCH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62587,"src":"822:15:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45727,"nodeType":"ImportDirective","src":"876:102:46","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/proxy/utils/Initializable.sol","file":"../lib/openzeppelin-contracts/contracts/proxy/utils/Initializable.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":29970,"symbolAliases":[{"foreign":{"id":45726,"name":"Initializable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29969,"src":"885:13:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45729,"nodeType":"ImportDirective","src":"979:78:46","nodes":[],"absolutePath":"lib/solady/src/utils/SafeTransferLib.sol","file":"../lib/solady/src/utils/SafeTransferLib.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":37435,"symbolAliases":[{"foreign":{"id":45728,"name":"SafeTransferLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37434,"src":"988:15:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45731,"nodeType":"ImportDirective","src":"1058:70:46","nodes":[],"absolutePath":"lib/solady/src/utils/SafeCastLib.sol","file":"../lib/solady/src/utils/SafeCastLib.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":37239,"symbolAliases":[{"foreign":{"id":45730,"name":"SafeCastLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37238,"src":"1067:11:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45733,"nodeType":"ImportDirective","src":"1129:52:46","nodes":[],"absolutePath":"src/utils/TickBitmap.sol","file":"./utils/TickBitmap.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":62862,"symbolAliases":[{"foreign":{"id":45732,"name":"TickBitmap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62861,"src":"1138:10:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45735,"nodeType":"ImportDirective","src":"1182:84:46","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/Address.sol","file":"../lib/openzeppelin-contracts/contracts/utils/Address.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":30378,"symbolAliases":[{"foreign":{"id":45734,"name":"Address","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30377,"src":"1191:7:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45737,"nodeType":"ImportDirective","src":"1301:51:46","nodes":[],"absolutePath":"src/interfaces/IRouter.sol","file":"./interfaces/IRouter.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":60679,"symbolAliases":[{"foreign":{"id":45736,"name":"IRouter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60678,"src":"1310:7:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45739,"nodeType":"ImportDirective","src":"1353:65:46","nodes":[],"absolutePath":"src/interfaces/IInsuranceFund.sol","file":"./interfaces/IInsuranceFund.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":59700,"symbolAliases":[{"foreign":{"id":45738,"name":"IInsuranceFund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59699,"src":"1362:14:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45741,"nodeType":"ImportDirective","src":"1419:69:46","nodes":[],"absolutePath":"src/interfaces/IPositionManager.sol","file":"./interfaces/IPositionManager.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":60250,"symbolAliases":[{"foreign":{"id":45740,"name":"IPositionManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60249,"src":"1428:16:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45743,"nodeType":"ImportDirective","src":"1489:67:46","nodes":[],"absolutePath":"src/interfaces/IPositionMerger.sol","file":"./interfaces/IPositionMerger.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":60316,"symbolAliases":[{"foreign":{"id":45742,"name":"IPositionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60315,"src":"1498:15:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45745,"nodeType":"ImportDirective","src":"1557:61:46","nodes":[],"absolutePath":"src/interfaces/IDeleverager.sol","file":"./interfaces/IDeleverager.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":59679,"symbolAliases":[{"foreign":{"id":45744,"name":"IDeleverager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59678,"src":"1566:12:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45747,"nodeType":"ImportDirective","src":"1619:63:46","nodes":[],"absolutePath":"src/interfaces/IOrderCreator.sol","file":"./interfaces/IOrderCreator.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":59781,"symbolAliases":[{"foreign":{"id":45746,"name":"IOrderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59780,"src":"1628:13:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45749,"nodeType":"ImportDirective","src":"1683:57:46","nodes":[],"absolutePath":"src/interfaces/IWhitelist.sol","file":"./interfaces/IWhitelist.sol","nameLocation":"-1:-1:-1","scope":47933,"sourceUnit":60687,"symbolAliases":[{"foreign":{"id":45748,"name":"IWhitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60686,"src":"1692:10:46","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":47932,"nodeType":"ContractDefinition","src":"1836:27347:46","nodes":[{"id":45759,"nodeType":"UsingForDirective","src":"1918:26:46","nodes":[],"global":false,"libraryName":{"id":45757,"name":"Address","nameLocations":["1924:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":30377,"src":"1924:7:46"},"typeName":{"id":45758,"name":"address","nodeType":"ElementaryTypeName","src":"1936:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}},{"id":45762,"nodeType":"UsingForDirective","src":"1949:27:46","nodes":[],"global":false,"libraryName":{"id":45760,"name":"NFTPMath","nameLocations":["1955:8:46"],"nodeType":"IdentifierPath","referencedDeclaration":61423,"src":"1955:8:46"},"typeName":{"id":45761,"name":"uint256","nodeType":"ElementaryTypeName","src":"1968:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":45765,"nodeType":"UsingForDirective","src":"1981:26:46","nodes":[],"global":false,"libraryName":{"id":45763,"name":"NFTPMath","nameLocations":["1987:8:46"],"nodeType":"IdentifierPath","referencedDeclaration":61423,"src":"1987:8:46"},"typeName":{"id":45764,"name":"int256","nodeType":"ElementaryTypeName","src":"2000:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":45768,"nodeType":"UsingForDirective","src":"2012:36:46","nodes":[],"global":false,"libraryName":{"id":45766,"name":"FixedPointMathLib","nameLocations":["2018:17:46"],"nodeType":"IdentifierPath","referencedDeclaration":34298,"src":"2018:17:46"},"typeName":{"id":45767,"name":"uint256","nodeType":"ElementaryTypeName","src":"2040:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":45771,"nodeType":"UsingForDirective","src":"2053:35:46","nodes":[],"global":false,"libraryName":{"id":45769,"name":"FixedPointMathLib","nameLocations":["2059:17:46"],"nodeType":"IdentifierPath","referencedDeclaration":34298,"src":"2059:17:46"},"typeName":{"id":45770,"name":"int256","nodeType":"ElementaryTypeName","src":"2081:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":45774,"nodeType":"UsingForDirective","src":"2093:34:46","nodes":[],"global":false,"libraryName":{"id":45772,"name":"SafeTransferLib","nameLocations":["2099:15:46"],"nodeType":"IdentifierPath","referencedDeclaration":37434,"src":"2099:15:46"},"typeName":{"id":45773,"name":"address","nodeType":"ElementaryTypeName","src":"2119:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}},{"id":45777,"nodeType":"UsingForDirective","src":"2132:27:46","nodes":[],"global":false,"libraryName":{"id":45775,"name":"TickMath","nameLocations":["2138:8:46"],"nodeType":"IdentifierPath","referencedDeclaration":61961,"src":"2138:8:46"},"typeName":{"id":45776,"name":"uint160","nodeType":"ElementaryTypeName","src":"2151:7:46","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}},{"id":45782,"nodeType":"UsingForDirective","src":"2164:47:46","nodes":[],"global":false,"libraryName":{"id":45778,"name":"TickBitmap","nameLocations":["2170:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62861,"src":"2170:10:46"},"typeName":{"id":45781,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":45779,"name":"int16","nodeType":"ElementaryTypeName","src":"2193:5:46","typeDescriptions":{"typeIdentifier":"t_int16","typeString":"int16"}},"nodeType":"Mapping","src":"2185:25:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_int16_$_t_uint256_$","typeString":"mapping(int16 => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":45780,"name":"uint256","nodeType":"ElementaryTypeName","src":"2202:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}}},{"id":45785,"nodeType":"UsingForDirective","src":"2216:30:46","nodes":[],"global":false,"libraryName":{"id":45783,"name":"SafeCastLib","nameLocations":["2222:11:46"],"nodeType":"IdentifierPath","referencedDeclaration":37238,"src":"2222:11:46"},"typeName":{"id":45784,"name":"uint256","nodeType":"ElementaryTypeName","src":"2238:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":45788,"nodeType":"UsingForDirective","src":"2251:29:46","nodes":[],"global":false,"libraryName":{"id":45786,"name":"SafeCastLib","nameLocations":["2257:11:46"],"nodeType":"IdentifierPath","referencedDeclaration":37238,"src":"2257:11:46"},"typeName":{"id":45787,"name":"int256","nodeType":"ElementaryTypeName","src":"2273:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":45797,"nodeType":"EventDefinition","src":"2465:79:46","nodes":[],"anonymous":false,"eventSelector":"05c2d01f05f37971d15b22586be2f1933a1ae8c0079a056a430b4391550ffb2d","name":"MarginAdded","nameLocation":"2471:11:46","parameters":{"id":45796,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45791,"indexed":true,"mutability":"mutable","name":"amm","nameLocation":"2499:3:46","nodeType":"VariableDeclaration","scope":45797,"src":"2483:19:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":45790,"nodeType":"UserDefinedTypeName","pathNode":{"id":45789,"name":"IRouter","nameLocations":["2483:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"2483:7:46"},"referencedDeclaration":60678,"src":"2483:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":45793,"indexed":true,"mutability":"mutable","name":"trader","nameLocation":"2520:6:46","nodeType":"VariableDeclaration","scope":45797,"src":"2504:22:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45792,"name":"address","nodeType":"ElementaryTypeName","src":"2504:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45795,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"2536:6:46","nodeType":"VariableDeclaration","scope":45797,"src":"2528:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45794,"name":"uint256","nodeType":"ElementaryTypeName","src":"2528:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2482:61:46"}},{"id":45806,"nodeType":"EventDefinition","src":"2550:81:46","nodes":[],"anonymous":false,"eventSelector":"b0fa03f93c852a6feaaeb34ccf4cf865cc223c4cc9d25dce28a9131fde271071","name":"MarginRemoved","nameLocation":"2556:13:46","parameters":{"id":45805,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45800,"indexed":true,"mutability":"mutable","name":"amm","nameLocation":"2586:3:46","nodeType":"VariableDeclaration","scope":45806,"src":"2570:19:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":45799,"nodeType":"UserDefinedTypeName","pathNode":{"id":45798,"name":"IRouter","nameLocations":["2570:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"2570:7:46"},"referencedDeclaration":60678,"src":"2570:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":45802,"indexed":true,"mutability":"mutable","name":"trader","nameLocation":"2607:6:46","nodeType":"VariableDeclaration","scope":45806,"src":"2591:22:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45801,"name":"address","nodeType":"ElementaryTypeName","src":"2591:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45804,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"2623:6:46","nodeType":"VariableDeclaration","scope":45806,"src":"2615:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45803,"name":"uint256","nodeType":"ElementaryTypeName","src":"2615:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2569:61:46"}},{"id":45813,"nodeType":"EventDefinition","src":"2637:65:46","nodes":[],"anonymous":false,"eventSelector":"99e877011be95eb42bf6be0d3db080f9a2f0256536d7713ce401a3c971e0527e","name":"LiquidityAdded","nameLocation":"2643:14:46","parameters":{"id":45812,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45809,"indexed":true,"mutability":"mutable","name":"amm","nameLocation":"2674:3:46","nodeType":"VariableDeclaration","scope":45813,"src":"2658:19:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":45808,"nodeType":"UserDefinedTypeName","pathNode":{"id":45807,"name":"IRouter","nameLocations":["2658:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"2658:7:46"},"referencedDeclaration":60678,"src":"2658:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":45811,"indexed":true,"mutability":"mutable","name":"maker","nameLocation":"2695:5:46","nodeType":"VariableDeclaration","scope":45813,"src":"2679:21:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45810,"name":"address","nodeType":"ElementaryTypeName","src":"2679:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2657:44:46"}},{"id":45820,"nodeType":"EventDefinition","src":"2708:90:46","nodes":[],"anonymous":false,"eventSelector":"d04e6350fe09fd82d32a2e9549de19274bab2fafa4013189498798d981a763e7","name":"LiquidityRemoved","nameLocation":"2714:16:46","parameters":{"id":45819,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45816,"indexed":true,"mutability":"mutable","name":"amm","nameLocation":"2756:3:46","nodeType":"VariableDeclaration","scope":45820,"src":"2740:19:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":45815,"nodeType":"UserDefinedTypeName","pathNode":{"id":45814,"name":"IRouter","nameLocations":["2740:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"2740:7:46"},"referencedDeclaration":60678,"src":"2740:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":45818,"indexed":true,"mutability":"mutable","name":"trader","nameLocation":"2785:6:46","nodeType":"VariableDeclaration","scope":45820,"src":"2769:22:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45817,"name":"address","nodeType":"ElementaryTypeName","src":"2769:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2730:67:46"}},{"id":45831,"nodeType":"EventDefinition","src":"2804:143:46","nodes":[],"anonymous":false,"eventSelector":"bfed1e6debfebfaef8f787a2e2c506676d0e9e9f06d217ef82d090151af844e8","name":"FundingSettled","nameLocation":"2810:14:46","parameters":{"id":45830,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45823,"indexed":true,"mutability":"mutable","name":"amm","nameLocation":"2850:3:46","nodeType":"VariableDeclaration","scope":45831,"src":"2834:19:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":45822,"nodeType":"UserDefinedTypeName","pathNode":{"id":45821,"name":"IRouter","nameLocations":["2834:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"2834:7:46"},"referencedDeclaration":60678,"src":"2834:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":45825,"indexed":false,"mutability":"mutable","name":"markPrice","nameLocation":"2871:9:46","nodeType":"VariableDeclaration","scope":45831,"src":"2863:17:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45824,"name":"uint256","nodeType":"ElementaryTypeName","src":"2863:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45827,"indexed":false,"mutability":"mutable","name":"indexPrice","nameLocation":"2898:10:46","nodeType":"VariableDeclaration","scope":45831,"src":"2890:18:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45826,"name":"uint256","nodeType":"ElementaryTypeName","src":"2890:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45829,"indexed":false,"mutability":"mutable","name":"premiumFraction","nameLocation":"2925:15:46","nodeType":"VariableDeclaration","scope":45831,"src":"2918:22:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":45828,"name":"int256","nodeType":"ElementaryTypeName","src":"2918:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"2824:122:46"}},{"id":45836,"nodeType":"EventDefinition","src":"2953:40:46","nodes":[],"anonymous":false,"eventSelector":"e541249509232f3b648c653a6759a750d245da1a7b3e0b3878d4b5d3f4fcec11","name":"AMMValidated","nameLocation":"2959:12:46","parameters":{"id":45835,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45834,"indexed":true,"mutability":"mutable","name":"amm","nameLocation":"2988:3:46","nodeType":"VariableDeclaration","scope":45836,"src":"2972:19:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":45833,"nodeType":"UserDefinedTypeName","pathNode":{"id":45832,"name":"IRouter","nameLocations":["2972:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"2972:7:46"},"referencedDeclaration":60678,"src":"2972:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"}],"src":"2971:21:46"}},{"id":45841,"nodeType":"EventDefinition","src":"2999:42:46","nodes":[],"anonymous":false,"eventSelector":"0cf3718d7b5134fb0be63caea34ab4b8e6f19d5b5c3c4f7b4cfb00db821204ae","name":"AMMInvalidated","nameLocation":"3005:14:46","parameters":{"id":45840,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45839,"indexed":true,"mutability":"mutable","name":"amm","nameLocation":"3036:3:46","nodeType":"VariableDeclaration","scope":45841,"src":"3020:19:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":45838,"nodeType":"UserDefinedTypeName","pathNode":{"id":45837,"name":"IRouter","nameLocations":["3020:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"3020:7:46"},"referencedDeclaration":60678,"src":"3020:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"}],"src":"3019:21:46"}},{"id":45845,"nodeType":"EventDefinition","src":"3047:50:46","nodes":[],"anonymous":false,"eventSelector":"c207d9444020fb76b81600635e7137d0a86fc95b69e50b1c84197ea18127d606","name":"DivergenceCapChanged","nameLocation":"3053:20:46","parameters":{"id":45844,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45843,"indexed":false,"mutability":"mutable","name":"divergenceCap","nameLocation":"3082:13:46","nodeType":"VariableDeclaration","scope":45845,"src":"3074:21:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45842,"name":"uint256","nodeType":"ElementaryTypeName","src":"3074:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3073:23:46"}},{"id":45849,"nodeType":"EventDefinition","src":"3103:60:46","nodes":[],"anonymous":false,"eventSelector":"577724f96ac2a3cf85a2f91a90bfb1e890d4604525edcfeaaad826163fe9a1a9","name":"MinOrderbookMarginChanged","nameLocation":"3109:25:46","parameters":{"id":45848,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45847,"indexed":false,"mutability":"mutable","name":"minOrderbookMargin","nameLocation":"3143:18:46","nodeType":"VariableDeclaration","scope":45849,"src":"3135:26:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45846,"name":"uint256","nodeType":"ElementaryTypeName","src":"3135:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3134:28:46"}},{"id":45851,"nodeType":"ErrorDefinition","src":"3348:19:46","nodes":[],"errorSelector":"42f062b7","name":"NOT_TRADER","nameLocation":"3354:10:46","parameters":{"id":45850,"nodeType":"ParameterList","parameters":[],"src":"3364:2:46"}},{"id":45853,"nodeType":"ErrorDefinition","src":"3372:22:46","nodes":[],"errorSelector":"cdd8a303","name":"AMM_IS_ACTIVE","nameLocation":"3378:13:46","parameters":{"id":45852,"nodeType":"ParameterList","parameters":[],"src":"3391:2:46"}},{"id":45855,"nodeType":"ErrorDefinition","src":"3399:21:46","nodes":[],"errorSelector":"693662ca","name":"INVALID_SIDE","nameLocation":"3405:12:46","parameters":{"id":45854,"nodeType":"ParameterList","parameters":[],"src":"3417:2:46"}},{"id":45857,"nodeType":"ErrorDefinition","src":"3425:25:46","nodes":[],"errorSelector":"7b43efa2","name":"NOT_LIQUIDATABLE","nameLocation":"3431:16:46","parameters":{"id":45856,"nodeType":"ParameterList","parameters":[],"src":"3447:2:46"}},{"id":45859,"nodeType":"ErrorDefinition","src":"3455:24:46","nodes":[],"errorSelector":"6b20f245","name":"TRIGGER_ON_MARK","nameLocation":"3461:15:46","parameters":{"id":45858,"nodeType":"ParameterList","parameters":[],"src":"3476:2:46"}},{"id":45861,"nodeType":"ErrorDefinition","src":"3484:24:46","nodes":[],"errorSelector":"15f3d483","name":"TRIGGER_INVALID","nameLocation":"3490:15:46","parameters":{"id":45860,"nodeType":"ParameterList","parameters":[],"src":"3505:2:46"}},{"id":45863,"nodeType":"ErrorDefinition","src":"3513:31:46","nodes":[],"errorSelector":"74343849","name":"INVALID_TRIGGER_AMOUNT","nameLocation":"3519:22:46","parameters":{"id":45862,"nodeType":"ParameterList","parameters":[],"src":"3541:2:46"}},{"id":45865,"nodeType":"ErrorDefinition","src":"3549:31:46","nodes":[],"errorSelector":"827e7b7f","name":"INSUFFICIENT_LIQUIDITY","nameLocation":"3555:22:46","parameters":{"id":45864,"nodeType":"ParameterList","parameters":[],"src":"3577:2:46"}},{"id":45867,"nodeType":"ErrorDefinition","src":"3585:26:46","nodes":[],"errorSelector":"3d5706e2","name":"INSUFFICIENT_SIZE","nameLocation":"3591:17:46","parameters":{"id":45866,"nodeType":"ParameterList","parameters":[],"src":"3608:2:46"}},{"id":45869,"nodeType":"ErrorDefinition","src":"3616:24:46","nodes":[],"errorSelector":"bb2ff64b","name":"NOT_LIMIT_CLOSE","nameLocation":"3622:15:46","parameters":{"id":45868,"nodeType":"ParameterList","parameters":[],"src":"3637:2:46"}},{"id":45871,"nodeType":"ErrorDefinition","src":"3645:31:46","nodes":[],"errorSelector":"8f3a4da0","name":"POSITION_ON_WRONG_SIDE","nameLocation":"3651:22:46","parameters":{"id":45870,"nodeType":"ParameterList","parameters":[],"src":"3673:2:46"}},{"id":45873,"nodeType":"ErrorDefinition","src":"3681:24:46","nodes":[],"errorSelector":"903cd982","name":"NOT_REDUCE_ONLY","nameLocation":"3687:15:46","parameters":{"id":45872,"nodeType":"ParameterList","parameters":[],"src":"3702:2:46"}},{"id":45875,"nodeType":"ErrorDefinition","src":"3710:28:46","nodes":[],"errorSelector":"a6dea223","name":"OVER_DIVERGENCE_CAP","nameLocation":"3716:19:46","parameters":{"id":45874,"nodeType":"ParameterList","parameters":[],"src":"3735:2:46"}},{"id":45877,"nodeType":"VariableDeclaration","src":"3927:31:46","nodes":[],"constant":false,"mutability":"immutable","name":"weth","nameLocation":"3954:4:46","scope":47932,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45876,"name":"address","nodeType":"ElementaryTypeName","src":"3927:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"id":45879,"nodeType":"VariableDeclaration","src":"3965:42:46","nodes":[],"constant":false,"mutability":"immutable","name":"positionManager","nameLocation":"3992:15:46","scope":47932,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45878,"name":"address","nodeType":"ElementaryTypeName","src":"3965:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"id":45881,"nodeType":"VariableDeclaration","src":"4014:41:46","nodes":[],"constant":false,"mutability":"immutable","name":"positionMerger","nameLocation":"4041:14:46","scope":47932,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45880,"name":"address","nodeType":"ElementaryTypeName","src":"4014:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"id":45883,"nodeType":"VariableDeclaration","src":"4062:38:46","nodes":[],"constant":false,"mutability":"immutable","name":"deleverager","nameLocation":"4089:11:46","scope":47932,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45882,"name":"address","nodeType":"ElementaryTypeName","src":"4062:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"id":45885,"nodeType":"VariableDeclaration","src":"4107:39:46","nodes":[],"constant":false,"mutability":"immutable","name":"orderCreator","nameLocation":"4134:12:46","scope":47932,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45884,"name":"address","nodeType":"ElementaryTypeName","src":"4107:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"id":45888,"nodeType":"VariableDeclaration","src":"4153:47:46","nodes":[],"constant":false,"mutability":"immutable","name":"insuranceFund","nameLocation":"4187:13:46","scope":47932,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IInsuranceFund_$59699","typeString":"contract IInsuranceFund"},"typeName":{"id":45887,"nodeType":"UserDefinedTypeName","pathNode":{"id":45886,"name":"IInsuranceFund","nameLocations":["4153:14:46"],"nodeType":"IdentifierPath","referencedDeclaration":59699,"src":"4153:14:46"},"referencedDeclaration":59699,"src":"4153:14:46","typeDescriptions":{"typeIdentifier":"t_contract$_IInsuranceFund_$59699","typeString":"contract IInsuranceFund"}},"visibility":"internal"},{"id":45891,"nodeType":"VariableDeclaration","src":"4207:39:46","nodes":[],"constant":false,"mutability":"immutable","name":"whitelist","nameLocation":"4237:9:46","scope":47932,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"},"typeName":{"id":45890,"nodeType":"UserDefinedTypeName","pathNode":{"id":45889,"name":"IWhitelist","nameLocations":["4207:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":60686,"src":"4207:10:46"},"referencedDeclaration":60686,"src":"4207:10:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}},"visibility":"internal"},{"id":45944,"nodeType":"FunctionDefinition","src":"4434:551:46","nodes":[],"body":{"id":45943,"nodeType":"Block","src":"4663:322:46","nodes":[],"statements":[{"expression":{"id":45910,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45908,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45877,"src":"4673:4:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":45909,"name":"_weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45893,"src":"4680:5:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4673:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":45911,"nodeType":"ExpressionStatement","src":"4673:12:46"},{"expression":{"id":45916,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45912,"name":"insuranceFund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45888,"src":"4695:13:46","typeDescriptions":{"typeIdentifier":"t_contract$_IInsuranceFund_$59699","typeString":"contract IInsuranceFund"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":45914,"name":"_insuranceFund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45895,"src":"4726:14:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":45913,"name":"IInsuranceFund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59699,"src":"4711:14:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IInsuranceFund_$59699_$","typeString":"type(contract IInsuranceFund)"}},"id":45915,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4711:30:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IInsuranceFund_$59699","typeString":"contract IInsuranceFund"}},"src":"4695:46:46","typeDescriptions":{"typeIdentifier":"t_contract$_IInsuranceFund_$59699","typeString":"contract IInsuranceFund"}},"id":45917,"nodeType":"ExpressionStatement","src":"4695:46:46"},{"expression":{"id":45920,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45918,"name":"positionManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45879,"src":"4751:15:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":45919,"name":"_positionManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45897,"src":"4769:16:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4751:34:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":45921,"nodeType":"ExpressionStatement","src":"4751:34:46"},{"expression":{"id":45924,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45922,"name":"positionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45881,"src":"4795:14:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":45923,"name":"_positionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45899,"src":"4812:15:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4795:32:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":45925,"nodeType":"ExpressionStatement","src":"4795:32:46"},{"expression":{"id":45928,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45926,"name":"deleverager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45883,"src":"4837:11:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":45927,"name":"_deleverager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45901,"src":"4851:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4837:26:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":45929,"nodeType":"ExpressionStatement","src":"4837:26:46"},{"expression":{"id":45932,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45930,"name":"orderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45885,"src":"4873:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":45931,"name":"_orderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45903,"src":"4888:13:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4873:28:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":45933,"nodeType":"ExpressionStatement","src":"4873:28:46"},{"expression":{"id":45938,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45934,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"4911:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":45936,"name":"_whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45905,"src":"4934:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":45935,"name":"IWhitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60686,"src":"4923:10:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IWhitelist_$60686_$","typeString":"type(contract IWhitelist)"}},"id":45937,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4923:22:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}},"src":"4911:34:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}},"id":45939,"nodeType":"ExpressionStatement","src":"4911:34:46"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":45940,"name":"_disableInitializers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29950,"src":"4956:20:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":45941,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4956:22:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":45942,"nodeType":"ExpressionStatement","src":"4956:22:46"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":45906,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45893,"mutability":"mutable","name":"_weth","nameLocation":"4463:5:46","nodeType":"VariableDeclaration","scope":45944,"src":"4455:13:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45892,"name":"address","nodeType":"ElementaryTypeName","src":"4455:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45895,"mutability":"mutable","name":"_insuranceFund","nameLocation":"4486:14:46","nodeType":"VariableDeclaration","scope":45944,"src":"4478:22:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45894,"name":"address","nodeType":"ElementaryTypeName","src":"4478:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45897,"mutability":"mutable","name":"_positionManager","nameLocation":"4518:16:46","nodeType":"VariableDeclaration","scope":45944,"src":"4510:24:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45896,"name":"address","nodeType":"ElementaryTypeName","src":"4510:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45899,"mutability":"mutable","name":"_positionMerger","nameLocation":"4552:15:46","nodeType":"VariableDeclaration","scope":45944,"src":"4544:23:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45898,"name":"address","nodeType":"ElementaryTypeName","src":"4544:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45901,"mutability":"mutable","name":"_deleverager","nameLocation":"4585:12:46","nodeType":"VariableDeclaration","scope":45944,"src":"4577:20:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45900,"name":"address","nodeType":"ElementaryTypeName","src":"4577:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45903,"mutability":"mutable","name":"_orderCreator","nameLocation":"4615:13:46","nodeType":"VariableDeclaration","scope":45944,"src":"4607:21:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45902,"name":"address","nodeType":"ElementaryTypeName","src":"4607:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45905,"mutability":"mutable","name":"_whitelist","nameLocation":"4646:10:46","nodeType":"VariableDeclaration","scope":45944,"src":"4638:18:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45904,"name":"address","nodeType":"ElementaryTypeName","src":"4638:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4445:217:46"},"returnParameters":{"id":45907,"nodeType":"ParameterList","parameters":[],"src":"4663:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":45982,"nodeType":"FunctionDefinition","src":"4991:342:46","nodes":[],"body":{"id":45981,"nodeType":"Block","src":"5132:201:46","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"id":45960,"name":"insuranceFund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45888,"src":"5167:13:46","typeDescriptions":{"typeIdentifier":"t_contract$_IInsuranceFund_$59699","typeString":"contract IInsuranceFund"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IInsuranceFund_$59699","typeString":"contract IInsuranceFund"}],"id":45959,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5159:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":45958,"name":"address","nodeType":"ElementaryTypeName","src":"5159:7:46","typeDescriptions":{}}},"id":45961,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5159:22:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"arguments":[{"id":45964,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5188:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":45963,"name":"uint256","nodeType":"ElementaryTypeName","src":"5188:7:46","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":45962,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"5183:4:46","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":45965,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5183:13:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":45966,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5197:3:46","memberName":"max","nodeType":"MemberAccess","src":"5183:17:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":45955,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45877,"src":"5142:4:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":45957,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5147:11:46","memberName":"safeApprove","nodeType":"MemberAccess","referencedDeclaration":37409,"src":"5142:16:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_address_$","typeString":"function (address,address,uint256)"}},"id":45967,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5142:59:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":45968,"nodeType":"ExpressionStatement","src":"5142:59:46"},{"expression":{"id":45971,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45969,"name":"divergenceCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48191,"src":"5211:13:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":45970,"name":"_divergenceCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45948,"src":"5227:14:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5211:30:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45972,"nodeType":"ExpressionStatement","src":"5211:30:46"},{"expression":{"id":45975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45973,"name":"minOrderbookMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48193,"src":"5251:18:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":45974,"name":"_minOrderbookMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45950,"src":"5272:19:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5251:40:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45976,"nodeType":"ExpressionStatement","src":"5251:40:46"},{"expression":{"arguments":[{"id":45978,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45946,"src":"5319:6:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":45977,"name":"_initializeOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30560,"src":"5302:16:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":45979,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5302:24:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":45980,"nodeType":"ExpressionStatement","src":"5302:24:46"}]},"functionSelector":"7a1ac61e","implemented":true,"kind":"function","modifiers":[{"id":45953,"kind":"modifierInvocation","modifierName":{"id":45952,"name":"initializer","nameLocations":["5120:11:46"],"nodeType":"IdentifierPath","referencedDeclaration":29871,"src":"5120:11:46"},"nodeType":"ModifierInvocation","src":"5120:11:46"}],"name":"initialize","nameLocation":"5000:10:46","parameters":{"id":45951,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45946,"mutability":"mutable","name":"_owner","nameLocation":"5028:6:46","nodeType":"VariableDeclaration","scope":45982,"src":"5020:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45945,"name":"address","nodeType":"ElementaryTypeName","src":"5020:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45948,"mutability":"mutable","name":"_divergenceCap","nameLocation":"5053:14:46","nodeType":"VariableDeclaration","scope":45982,"src":"5045:22:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45947,"name":"uint256","nodeType":"ElementaryTypeName","src":"5045:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45950,"mutability":"mutable","name":"_minOrderbookMargin","nameLocation":"5085:19:46","nodeType":"VariableDeclaration","scope":45982,"src":"5077:27:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45949,"name":"uint256","nodeType":"ElementaryTypeName","src":"5077:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5010:100:46"},"returnParameters":{"id":45954,"nodeType":"ParameterList","parameters":[],"src":"5132:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46071,"nodeType":"FunctionDefinition","src":"6000:697:46","nodes":[],"body":{"id":46070,"nodeType":"Block","src":"6197:500:46","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":46010,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":46004,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"6219:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}],"id":46003,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6211:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46002,"name":"address","nodeType":"ElementaryTypeName","src":"6211:7:46","typeDescriptions":{}}},"id":46005,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6211:18:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":46008,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6241:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46007,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6233:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46006,"name":"address","nodeType":"ElementaryTypeName","src":"6233:7:46","typeDescriptions":{}}},"id":46009,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6233:10:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6211:32:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46018,"nodeType":"IfStatement","src":"6207:75:46","trueBody":{"expression":{"arguments":[{"expression":{"id":46014,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"6271:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46015,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6275:6:46","memberName":"sender","nodeType":"MemberAccess","src":"6271:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":46011,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"6245:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}},"id":46013,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6255:15:46","memberName":"assertWhitelist","nodeType":"MemberAccess","referencedDeclaration":60685,"src":"6245:25:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$__$","typeString":"function (address) view external"}},"id":46016,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6245:37:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46017,"nodeType":"ExpressionStatement","src":"6245:37:46"}},{"expression":{"arguments":[{"id":46020,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45986,"src":"6304:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":46019,"name":"_assertAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49900,"src":"6293:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter) view"}},"id":46021,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6293:15:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46022,"nodeType":"ExpressionStatement","src":"6293:15:46"},{"expression":{"arguments":[{"id":46024,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45986,"src":"6337:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":46025,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"6342:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46026,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6346:6:46","memberName":"sender","nodeType":"MemberAccess","src":"6342:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":46023,"name":"_assertNonSandwich","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49956,"src":"6318:18:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$__$","typeString":"function (contract IRouter,address) view"}},"id":46027,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6318:35:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46028,"nodeType":"ExpressionStatement","src":"6318:35:46"},{"expression":{"arguments":[{"id":46030,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45986,"src":"6382:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":46031,"name":"quote","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45991,"src":"6387:5:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"id":46034,"name":"leverage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45993,"src":"6404:8:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46032,"name":"quote","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45991,"src":"6394:5:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46033,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6400:3:46","memberName":"mul","nodeType":"MemberAccess","referencedDeclaration":61003,"src":"6394:9:46","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":46035,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6394:19:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":46029,"name":"_assertMaxLeverage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47825,"src":"6363:18:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (contract IRouter,uint256,uint256) view"}},"id":46036,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6363:51:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46037,"nodeType":"ExpressionStatement","src":"6363:51:46"},{"assignments":[46039],"declarations":[{"constant":false,"id":46039,"mutability":"mutable","name":"data","nameLocation":"6438:4:46","nodeType":"VariableDeclaration","scope":46070,"src":"6425:17:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":46038,"name":"bytes","nodeType":"ElementaryTypeName","src":"6425:5:46","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":46056,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":46044,"name":"IPositionManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60249,"src":"6510:16:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPositionManager_$60249_$","typeString":"type(contract IPositionManager)"}},"id":46045,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"6527:12:46","memberName":"openPosition","nodeType":"MemberAccess","referencedDeclaration":60200,"src":"6510:29:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function IPositionManager.openPosition(address,contract IRouter,enum Side,uint256,uint256,uint256) returns (uint256)"}},{"components":[{"expression":{"id":46046,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"6542:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46047,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6546:6:46","memberName":"sender","nodeType":"MemberAccess","src":"6542:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46048,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45986,"src":"6554:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":46049,"name":"side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45989,"src":"6559:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},{"id":46050,"name":"quote","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45991,"src":"6565:5:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":46051,"name":"leverage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45993,"src":"6572:8:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":46052,"name":"baseLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45995,"src":"6582:9:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":46053,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"6541:51:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(address,contract IRouter,enum Side,uint256,uint256,uint256)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function IPositionManager.openPosition(address,contract IRouter,enum Side,uint256,uint256,uint256) returns (uint256)"},{"typeIdentifier":"t_tuple$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(address,contract IRouter,enum Side,uint256,uint256,uint256)"}],"expression":{"id":46042,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"6495:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46043,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"6499:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"6495:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46054,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6495:98:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46040,"name":"positionManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45879,"src":"6445:15:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46041,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6461:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"6445:36:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46055,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6445:158:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"6425:178:46"},{"expression":{"arguments":[{"id":46058,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45986,"src":"6635:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":46059,"name":"side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45989,"src":"6640:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}],"id":46057,"name":"_assertDivergenceCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47931,"src":"6614:20:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$returns$__$","typeString":"function (contract IRouter,enum Side) view"}},"id":46060,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6614:31:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46061,"nodeType":"ExpressionStatement","src":"6614:31:46"},{"expression":{"arguments":[{"id":46064,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46039,"src":"6674:4:46","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":46066,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6681:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":46065,"name":"uint256","nodeType":"ElementaryTypeName","src":"6681:7:46","typeDescriptions":{}}}],"id":46067,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"6680:9:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"expression":{"id":46062,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"6663:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46063,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"6667:6:46","memberName":"decode","nodeType":"MemberAccess","src":"6663:10:46","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":46068,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6663:27:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":46001,"id":46069,"nodeType":"Return","src":"6656:34:46"}]},"documentation":{"id":45983,"nodeType":"StructuredDocumentation","src":"5525:470:46","text":" @notice opens a position for 'quote' * 'leverage'\n \n @dev this function can also be used to increase, decrease, close, or reverse-open an existing position\n @dev delegatecalls to the PositionManager library\n \n @param amm — collection\n @param side — long or short\n @param quote — margin\n @param leverage — leverage\n @param baseLimit — min base amount to receive / max base amount to spend"},"functionSelector":"cbb50e61","implemented":true,"kind":"function","modifiers":[{"id":45998,"kind":"modifierInvocation","modifierName":{"id":45997,"name":"whenActive","nameLocations":["6157:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"6157:10:46"},"nodeType":"ModifierInvocation","src":"6157:10:46"}],"name":"openPosition","nameLocation":"6009:12:46","parameters":{"id":45996,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45986,"mutability":"mutable","name":"amm","nameLocation":"6039:3:46","nodeType":"VariableDeclaration","scope":46071,"src":"6031:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":45985,"nodeType":"UserDefinedTypeName","pathNode":{"id":45984,"name":"IRouter","nameLocations":["6031:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"6031:7:46"},"referencedDeclaration":60678,"src":"6031:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":45989,"mutability":"mutable","name":"side","nameLocation":"6058:4:46","nodeType":"VariableDeclaration","scope":46071,"src":"6053:9:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"},"typeName":{"id":45988,"nodeType":"UserDefinedTypeName","pathNode":{"id":45987,"name":"Side","nameLocations":["6053:4:46"],"nodeType":"IdentifierPath","referencedDeclaration":61966,"src":"6053:4:46"},"referencedDeclaration":61966,"src":"6053:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"visibility":"internal"},{"constant":false,"id":45991,"mutability":"mutable","name":"quote","nameLocation":"6081:5:46","nodeType":"VariableDeclaration","scope":46071,"src":"6073:13:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45990,"name":"uint256","nodeType":"ElementaryTypeName","src":"6073:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45993,"mutability":"mutable","name":"leverage","nameLocation":"6105:8:46","nodeType":"VariableDeclaration","scope":46071,"src":"6097:16:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45992,"name":"uint256","nodeType":"ElementaryTypeName","src":"6097:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45995,"mutability":"mutable","name":"baseLimit","nameLocation":"6132:9:46","nodeType":"VariableDeclaration","scope":46071,"src":"6124:17:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45994,"name":"uint256","nodeType":"ElementaryTypeName","src":"6124:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6021:126:46"},"returnParameters":{"id":46001,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46000,"mutability":"mutable","name":"baseAmount","nameLocation":"6185:10:46","nodeType":"VariableDeclaration","scope":46071,"src":"6177:18:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45999,"name":"uint256","nodeType":"ElementaryTypeName","src":"6177:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6176:20:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46174,"nodeType":"FunctionDefinition","src":"7052:834:46","nodes":[],"body":{"id":46173,"nodeType":"Block","src":"7204:682:46","nodes":[],"statements":[{"expression":{"arguments":[{"id":46087,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46075,"src":"7225:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":46086,"name":"_assertAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49900,"src":"7214:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter) view"}},"id":46088,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7214:15:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46089,"nodeType":"ExpressionStatement","src":"7214:15:46"},{"expression":{"arguments":[{"id":46091,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46075,"src":"7258:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":46092,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"7263:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46093,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7267:6:46","memberName":"sender","nodeType":"MemberAccess","src":"7263:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":46090,"name":"_assertNonSandwich","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49956,"src":"7239:18:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$__$","typeString":"function (contract IRouter,address) view"}},"id":46094,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7239:35:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46095,"nodeType":"ExpressionStatement","src":"7239:35:46"},{"assignments":[46097],"declarations":[{"constant":false,"id":46097,"mutability":"mutable","name":"oldSize","nameLocation":"7292:7:46","nodeType":"VariableDeclaration","scope":46173,"src":"7285:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":46096,"name":"int256","nodeType":"ElementaryTypeName","src":"7285:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":46103,"initialValue":{"arguments":[{"id":46099,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46075,"src":"7322:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":46100,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"7327:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46101,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7331:6:46","memberName":"sender","nodeType":"MemberAccess","src":"7327:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":46098,"name":"_assertOpenPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47794,"src":"7302:19:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$_t_int256_$","typeString":"function (contract IRouter,address) view returns (int256)"}},"id":46102,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7302:36:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7285:53:46"},{"assignments":[46105],"declarations":[{"constant":false,"id":46105,"mutability":"mutable","name":"oldSizeAbs","nameLocation":"7356:10:46","nodeType":"VariableDeclaration","scope":46173,"src":"7348:18:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46104,"name":"uint256","nodeType":"ElementaryTypeName","src":"7348:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46109,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":46106,"name":"oldSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46097,"src":"7369:7:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":46107,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7377:3:46","memberName":"abs","nodeType":"MemberAccess","referencedDeclaration":34013,"src":"7369:11:46","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_uint256_$attached_to$_t_int256_$","typeString":"function (int256) pure returns (uint256)"}},"id":46108,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7369:13:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7348:34:46"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46112,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46110,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46077,"src":"7397:4:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":46111,"name":"oldSizeAbs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46105,"src":"7404:10:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7397:17:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46116,"nodeType":"IfStatement","src":"7393:49:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":46113,"name":"INSUFFICIENT_SIZE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45867,"src":"7423:17:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":46114,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7423:19:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46115,"nodeType":"RevertStatement","src":"7416:26:46"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46119,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46117,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46077,"src":"7456:4:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":46118,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7464:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7456:9:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46122,"nodeType":"IfStatement","src":"7452:23:46","trueBody":{"expression":{"hexValue":"30","id":46120,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7474:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":46085,"id":46121,"nodeType":"Return","src":"7467:8:46"}},{"assignments":[46125],"declarations":[{"constant":false,"id":46125,"mutability":"mutable","name":"side","nameLocation":"7491:4:46","nodeType":"VariableDeclaration","scope":46173,"src":"7486:9:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"},"typeName":{"id":46124,"nodeType":"UserDefinedTypeName","pathNode":{"id":46123,"name":"Side","nameLocations":["7486:4:46"],"nodeType":"IdentifierPath","referencedDeclaration":61966,"src":"7486:4:46"},"referencedDeclaration":61966,"src":"7486:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"visibility":"internal"}],"id":46134,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":46128,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46126,"name":"oldSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46097,"src":"7498:7:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":46127,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7508:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7498:11:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"expression":{"id":46131,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"7525:4:46","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Side_$61966_$","typeString":"type(enum Side)"}},"id":46132,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"7530:4:46","memberName":"LONG","nodeType":"MemberAccess","referencedDeclaration":61964,"src":"7525:9:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"id":46133,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"7498:36:46","trueExpression":{"expression":{"id":46129,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"7512:4:46","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Side_$61966_$","typeString":"type(enum Side)"}},"id":46130,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"7517:5:46","memberName":"SHORT","nodeType":"MemberAccess","referencedDeclaration":61965,"src":"7512:10:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"nodeType":"VariableDeclarationStatement","src":"7486:48:46"},{"assignments":[46136],"declarations":[{"constant":false,"id":46136,"mutability":"mutable","name":"data","nameLocation":"7558:4:46","nodeType":"VariableDeclaration","scope":46173,"src":"7545:17:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":46135,"name":"bytes","nodeType":"ElementaryTypeName","src":"7545:5:46","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":46159,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":46141,"name":"IPositionManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60249,"src":"7647:16:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPositionManager_$60249_$","typeString":"type(contract IPositionManager)"}},"id":46142,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"7664:13:46","memberName":"closePosition","nodeType":"MemberAccess","referencedDeclaration":60221,"src":"7647:30:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_address_$_t_bool_$returns$_t_uint256_$","typeString":"function IPositionManager.closePosition(address,contract IRouter,enum Side,uint256,uint256,address,bool) returns (uint256)"}},{"components":[{"expression":{"id":46143,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"7696:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46144,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7700:6:46","memberName":"sender","nodeType":"MemberAccess","src":"7696:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46145,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46075,"src":"7708:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":46146,"name":"side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46125,"src":"7713:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},{"id":46147,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46077,"src":"7719:4:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":46148,"name":"quoteLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46079,"src":"7725:10:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"hexValue":"30","id":46151,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7745:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46150,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7737:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46149,"name":"address","nodeType":"ElementaryTypeName","src":"7737:7:46","typeDescriptions":{}}},"id":46152,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7737:10:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46155,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46153,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46077,"src":"7749:4:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":46154,"name":"oldSizeAbs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46105,"src":"7757:10:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7749:18:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":46156,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7695:73:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_address_$_t_bool_$","typeString":"tuple(address,contract IRouter,enum Side,uint256,uint256,address,bool)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_address_$_t_bool_$returns$_t_uint256_$","typeString":"function IPositionManager.closePosition(address,contract IRouter,enum Side,uint256,uint256,address,bool) returns (uint256)"},{"typeIdentifier":"t_tuple$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_address_$_t_bool_$","typeString":"tuple(address,contract IRouter,enum Side,uint256,uint256,address,bool)"}],"expression":{"id":46139,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"7615:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46140,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"7619:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"7615:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46157,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7615:167:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46137,"name":"positionManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45879,"src":"7565:15:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46138,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7581:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"7565:36:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46158,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7565:227:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"7545:247:46"},{"expression":{"arguments":[{"id":46161,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46075,"src":"7824:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":46162,"name":"side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46125,"src":"7829:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}],"id":46160,"name":"_assertDivergenceCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47931,"src":"7803:20:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$returns$__$","typeString":"function (contract IRouter,enum Side) view"}},"id":46163,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7803:31:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46164,"nodeType":"ExpressionStatement","src":"7803:31:46"},{"expression":{"arguments":[{"id":46167,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46136,"src":"7863:4:46","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":46169,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7870:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":46168,"name":"uint256","nodeType":"ElementaryTypeName","src":"7870:7:46","typeDescriptions":{}}}],"id":46170,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"7869:9:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"expression":{"id":46165,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"7852:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46166,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"7856:6:46","memberName":"decode","nodeType":"MemberAccess","src":"7852:10:46","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":46171,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7852:27:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":46085,"id":46172,"nodeType":"Return","src":"7845:34:46"}]},"documentation":{"id":46072,"nodeType":"StructuredDocumentation","src":"6703:344:46","text":" @notice closes a position \n \n @dev caller must have a pre-existing position to close\n @dev delegatecalls to the PositionManager library\n \n @param amm — collection\n @param size — absolute size to close\n @param quoteLimit — min quote amount to receive / max quote amount to spend"},"functionSelector":"4fa9c4db","implemented":true,"kind":"function","modifiers":[{"id":46082,"kind":"modifierInvocation","modifierName":{"id":46081,"name":"whenActive","nameLocations":["7163:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"7163:10:46"},"nodeType":"ModifierInvocation","src":"7163:10:46"}],"name":"closePosition","nameLocation":"7061:13:46","parameters":{"id":46080,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46075,"mutability":"mutable","name":"amm","nameLocation":"7092:3:46","nodeType":"VariableDeclaration","scope":46174,"src":"7084:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":46074,"nodeType":"UserDefinedTypeName","pathNode":{"id":46073,"name":"IRouter","nameLocations":["7084:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"7084:7:46"},"referencedDeclaration":60678,"src":"7084:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":46077,"mutability":"mutable","name":"size","nameLocation":"7114:4:46","nodeType":"VariableDeclaration","scope":46174,"src":"7106:12:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46076,"name":"uint256","nodeType":"ElementaryTypeName","src":"7106:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46079,"mutability":"mutable","name":"quoteLimit","nameLocation":"7137:10:46","nodeType":"VariableDeclaration","scope":46174,"src":"7129:18:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46078,"name":"uint256","nodeType":"ElementaryTypeName","src":"7129:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7074:79:46"},"returnParameters":{"id":46085,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46084,"mutability":"mutable","name":"quoteAmount","nameLocation":"7191:11:46","nodeType":"VariableDeclaration","scope":46174,"src":"7183:19:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46083,"name":"uint256","nodeType":"ElementaryTypeName","src":"7183:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7182:21:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46310,"nodeType":"FunctionDefinition","src":"8210:1042:46","nodes":[],"body":{"id":46309,"nodeType":"Block","src":"8301:951:46","nodes":[],"statements":[{"assignments":[46186],"declarations":[{"constant":false,"id":46186,"mutability":"mutable","name":"order","nameLocation":"8331:5:46","nodeType":"VariableDeclaration","scope":46309,"src":"8311:25:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder"},"typeName":{"id":46185,"nodeType":"UserDefinedTypeName","pathNode":{"id":46184,"name":"TriggerOrder","nameLocations":["8311:12:46"],"nodeType":"IdentifierPath","referencedDeclaration":62114,"src":"8311:12:46"},"referencedDeclaration":62114,"src":"8311:12:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_storage_ptr","typeString":"struct TriggerOrder"}},"visibility":"internal"}],"id":46190,"initialValue":{"baseExpression":{"id":46187,"name":"triggerOrders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48187,"src":"8339:13:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_TriggerOrder_$62114_storage_$","typeString":"mapping(uint256 => struct TriggerOrder storage ref)"}},"id":46189,"indexExpression":{"id":46188,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46177,"src":"8353:2:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8339:17:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_storage","typeString":"struct TriggerOrder storage ref"}},"nodeType":"VariableDeclarationStatement","src":"8311:45:46"},{"expression":{"arguments":[{"expression":{"id":46192,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8378:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46193,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8384:3:46","memberName":"amm","nodeType":"MemberAccess","referencedDeclaration":62105,"src":"8378:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":46191,"name":"_assertAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49900,"src":"8367:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter) view"}},"id":46194,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8367:21:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46195,"nodeType":"ExpressionStatement","src":"8367:21:46"},{"expression":{"arguments":[{"expression":{"id":46197,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8417:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46198,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8423:3:46","memberName":"amm","nodeType":"MemberAccess","referencedDeclaration":62105,"src":"8417:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":46199,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8428:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46200,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8434:6:46","memberName":"trader","nodeType":"MemberAccess","referencedDeclaration":62102,"src":"8428:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":46196,"name":"_assertNonSandwich","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49956,"src":"8398:18:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$__$","typeString":"function (contract IRouter,address) view"}},"id":46201,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8398:43:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46202,"nodeType":"ExpressionStatement","src":"8398:43:46"},{"assignments":[46204],"declarations":[{"constant":false,"id":46204,"mutability":"mutable","name":"oldSize","nameLocation":"8459:7:46","nodeType":"VariableDeclaration","scope":46309,"src":"8452:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":46203,"name":"int256","nodeType":"ElementaryTypeName","src":"8452:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":46211,"initialValue":{"arguments":[{"expression":{"id":46206,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8489:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46207,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8495:3:46","memberName":"amm","nodeType":"MemberAccess","referencedDeclaration":62105,"src":"8489:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":46208,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8500:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46209,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8506:6:46","memberName":"trader","nodeType":"MemberAccess","referencedDeclaration":62102,"src":"8500:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":46205,"name":"_assertOpenPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47794,"src":"8469:19:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$_t_int256_$","typeString":"function (contract IRouter,address) view returns (int256)"}},"id":46210,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8469:44:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"8452:61:46"},{"assignments":[46213],"declarations":[{"constant":false,"id":46213,"mutability":"mutable","name":"oldSizeAbs","nameLocation":"8531:10:46","nodeType":"VariableDeclaration","scope":46309,"src":"8523:18:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46212,"name":"uint256","nodeType":"ElementaryTypeName","src":"8523:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46217,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":46214,"name":"oldSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46204,"src":"8544:7:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":46215,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8552:3:46","memberName":"abs","nodeType":"MemberAccess","referencedDeclaration":34013,"src":"8544:11:46","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_uint256_$attached_to$_t_int256_$","typeString":"function (int256) pure returns (uint256)"}},"id":46216,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8544:13:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8523:34:46"},{"expression":{"arguments":[{"expression":{"id":46219,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8594:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46220,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8600:3:46","memberName":"amm","nodeType":"MemberAccess","referencedDeclaration":62105,"src":"8594:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":46223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46221,"name":"oldSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46204,"src":"8605:7:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":46222,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8615:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8605:11:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"expression":{"id":46226,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"8631:4:46","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Side_$61966_$","typeString":"type(enum Side)"}},"id":46227,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"8636:5:46","memberName":"SHORT","nodeType":"MemberAccess","referencedDeclaration":61965,"src":"8631:10:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"id":46228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8605:36:46","trueExpression":{"expression":{"id":46224,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"8619:4:46","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Side_$61966_$","typeString":"type(enum Side)"}},"id":46225,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"8624:4:46","memberName":"LONG","nodeType":"MemberAccess","referencedDeclaration":61964,"src":"8619:9:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},{"expression":{"id":46229,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8643:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46230,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8649:7:46","memberName":"trigger","nodeType":"MemberAccess","referencedDeclaration":62107,"src":"8643:13:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":46231,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8658:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46232,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8664:10:46","memberName":"takeProfit","nodeType":"MemberAccess","referencedDeclaration":62113,"src":"8658:16:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":46218,"name":"_assertActiveTriggerOrder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47850,"src":"8568:25:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_bool_$returns$__$","typeString":"function (contract IRouter,enum Side,uint256,bool) view"}},"id":46233,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8568:107:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46234,"nodeType":"ExpressionStatement","src":"8568:107:46"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46238,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46235,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8690:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46236,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8696:4:46","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":62109,"src":"8690:10:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":46237,"name":"oldSizeAbs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46213,"src":"8703:10:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8690:23:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46245,"nodeType":"IfStatement","src":"8686:52:46","trueBody":{"expression":{"id":46243,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":46239,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8715:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46241,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"8721:4:46","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":62109,"src":"8715:10:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46242,"name":"oldSizeAbs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46213,"src":"8728:10:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8715:23:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46244,"nodeType":"ExpressionStatement","src":"8715:23:46"}},{"assignments":[46248],"declarations":[{"constant":false,"id":46248,"mutability":"mutable","name":"side","nameLocation":"8754:4:46","nodeType":"VariableDeclaration","scope":46309,"src":"8749:9:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"},"typeName":{"id":46247,"nodeType":"UserDefinedTypeName","pathNode":{"id":46246,"name":"Side","nameLocations":["8749:4:46"],"nodeType":"IdentifierPath","referencedDeclaration":61966,"src":"8749:4:46"},"referencedDeclaration":61966,"src":"8749:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"visibility":"internal"}],"id":46257,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":46251,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46249,"name":"oldSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46204,"src":"8761:7:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":46250,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8771:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8761:11:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"expression":{"id":46254,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"8788:4:46","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Side_$61966_$","typeString":"type(enum Side)"}},"id":46255,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"8793:4:46","memberName":"LONG","nodeType":"MemberAccess","referencedDeclaration":61964,"src":"8788:9:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"id":46256,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8761:36:46","trueExpression":{"expression":{"id":46252,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"8775:4:46","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Side_$61966_$","typeString":"type(enum Side)"}},"id":46253,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"8780:5:46","memberName":"SHORT","nodeType":"MemberAccess","referencedDeclaration":61965,"src":"8775:10:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"nodeType":"VariableDeclarationStatement","src":"8749:48:46"},{"expression":{"arguments":[{"expression":{"id":46259,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8828:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46260,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8834:3:46","memberName":"amm","nodeType":"MemberAccess","referencedDeclaration":62105,"src":"8828:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":46261,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46177,"src":"8839:2:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":46262,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"8843:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46263,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8849:6:46","memberName":"trader","nodeType":"MemberAccess","referencedDeclaration":62102,"src":"8843:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":46264,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"8857:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46265,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8861:6:46","memberName":"sender","nodeType":"MemberAccess","src":"8857:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":46258,"name":"_deleteTriggerOrder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48861,"src":"8808:19:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IRouter_$60678_$_t_uint256_$_t_address_$_t_address_$returns$__$","typeString":"function (contract IRouter,uint256,address,address)"}},"id":46266,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8808:60:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46267,"nodeType":"ExpressionStatement","src":"8808:60:46"},{"assignments":[46269],"declarations":[{"constant":false,"id":46269,"mutability":"mutable","name":"data","nameLocation":"8892:4:46","nodeType":"VariableDeclaration","scope":46309,"src":"8879:17:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":46268,"name":"bytes","nodeType":"ElementaryTypeName","src":"8879:5:46","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":46294,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":46274,"name":"IPositionManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60249,"src":"8981:16:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPositionManager_$60249_$","typeString":"type(contract IPositionManager)"}},"id":46275,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"8998:13:46","memberName":"closePosition","nodeType":"MemberAccess","referencedDeclaration":60221,"src":"8981:30:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_address_$_t_bool_$returns$_t_uint256_$","typeString":"function IPositionManager.closePosition(address,contract IRouter,enum Side,uint256,uint256,address,bool) returns (uint256)"}},{"components":[{"expression":{"id":46276,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"9030:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46277,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9036:6:46","memberName":"trader","nodeType":"MemberAccess","referencedDeclaration":62102,"src":"9030:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":46278,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"9044:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46279,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9050:3:46","memberName":"amm","nodeType":"MemberAccess","referencedDeclaration":62105,"src":"9044:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":46280,"name":"side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46248,"src":"9055:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},{"expression":{"id":46281,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"9061:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46282,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9067:4:46","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":62109,"src":"9061:10:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":46283,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"9073:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46284,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9079:10:46","memberName":"quoteLimit","nodeType":"MemberAccess","referencedDeclaration":62111,"src":"9073:16:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":46285,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"9091:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46286,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9095:6:46","memberName":"sender","nodeType":"MemberAccess","src":"9091:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46290,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46287,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"9103:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46288,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9109:4:46","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":62109,"src":"9103:10:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":46289,"name":"oldSizeAbs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46213,"src":"9117:10:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9103:24:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":46291,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"9029:99:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_address_$_t_bool_$","typeString":"tuple(address,contract IRouter,enum Side,uint256,uint256,address,bool)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_address_$_t_bool_$returns$_t_uint256_$","typeString":"function IPositionManager.closePosition(address,contract IRouter,enum Side,uint256,uint256,address,bool) returns (uint256)"},{"typeIdentifier":"t_tuple$_t_address_$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_uint256_$_t_address_$_t_bool_$","typeString":"tuple(address,contract IRouter,enum Side,uint256,uint256,address,bool)"}],"expression":{"id":46272,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"8949:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46273,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"8953:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"8949:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46292,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8949:193:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46270,"name":"positionManager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45879,"src":"8899:15:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46271,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8915:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"8899:36:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46293,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8899:253:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"8879:273:46"},{"expression":{"arguments":[{"expression":{"id":46296,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46186,"src":"9184:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46297,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9190:3:46","memberName":"amm","nodeType":"MemberAccess","referencedDeclaration":62105,"src":"9184:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":46298,"name":"side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46248,"src":"9195:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}],"id":46295,"name":"_assertDivergenceCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47931,"src":"9163:20:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$returns$__$","typeString":"function (contract IRouter,enum Side) view"}},"id":46299,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9163:37:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46300,"nodeType":"ExpressionStatement","src":"9163:37:46"},{"expression":{"arguments":[{"id":46303,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46269,"src":"9229:4:46","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":46305,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9236:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":46304,"name":"uint256","nodeType":"ElementaryTypeName","src":"9236:7:46","typeDescriptions":{}}}],"id":46306,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"9235:9:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"expression":{"id":46301,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"9218:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46302,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"9222:6:46","memberName":"decode","nodeType":"MemberAccess","src":"9218:10:46","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":46307,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9218:27:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":46183,"id":46308,"nodeType":"Return","src":"9211:34:46"}]},"documentation":{"id":46175,"nodeType":"StructuredDocumentation","src":"7892:313:46","text":" @notice executes a trigger order to close a position on behalf of a trader\n \n @dev call will revert if trigger order conditions are unmet\n @dev caller receives keeper fee\n @dev delegatecalls to the PositionManager library\n \n @param id — id of trigger order"},"functionSelector":"23c16e22","implemented":true,"kind":"function","modifiers":[{"id":46180,"kind":"modifierInvocation","modifierName":{"id":46179,"name":"whenActive","nameLocations":["8260:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"8260:10:46"},"nodeType":"ModifierInvocation","src":"8260:10:46"}],"name":"closePositionKeeper","nameLocation":"8219:19:46","parameters":{"id":46178,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46177,"mutability":"mutable","name":"id","nameLocation":"8247:2:46","nodeType":"VariableDeclaration","scope":46310,"src":"8239:10:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46176,"name":"uint256","nodeType":"ElementaryTypeName","src":"8239:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8238:12:46"},"returnParameters":{"id":46183,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46182,"mutability":"mutable","name":"quoteAmount","nameLocation":"8288:11:46","nodeType":"VariableDeclaration","scope":46310,"src":"8280:19:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46181,"name":"uint256","nodeType":"ElementaryTypeName","src":"8280:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8279:21:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46381,"nodeType":"FunctionDefinition","src":"9590:525:46","nodes":[],"body":{"id":46380,"nodeType":"Block","src":"9754:361:46","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":46335,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":46329,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"9776:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}],"id":46328,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9768:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46327,"name":"address","nodeType":"ElementaryTypeName","src":"9768:7:46","typeDescriptions":{}}},"id":46330,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9768:18:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":46333,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9798:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46332,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9790:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46331,"name":"address","nodeType":"ElementaryTypeName","src":"9790:7:46","typeDescriptions":{}}},"id":46334,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9790:10:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9768:32:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46343,"nodeType":"IfStatement","src":"9764:75:46","trueBody":{"expression":{"arguments":[{"expression":{"id":46339,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"9828:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9832:6:46","memberName":"sender","nodeType":"MemberAccess","src":"9828:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":46336,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"9802:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}},"id":46338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9812:15:46","memberName":"assertWhitelist","nodeType":"MemberAccess","referencedDeclaration":60685,"src":"9802:25:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$__$","typeString":"function (address) view external"}},"id":46341,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9802:37:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46342,"nodeType":"ExpressionStatement","src":"9802:37:46"}},{"expression":{"arguments":[{"id":46345,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46314,"src":"9861:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":46344,"name":"_assertAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49900,"src":"9850:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter) view"}},"id":46346,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9850:15:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46347,"nodeType":"ExpressionStatement","src":"9850:15:46"},{"assignments":[46349],"declarations":[{"constant":false,"id":46349,"mutability":"mutable","name":"margin","nameLocation":"9884:6:46","nodeType":"VariableDeclaration","scope":46380,"src":"9876:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46348,"name":"uint256","nodeType":"ElementaryTypeName","src":"9876:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46350,"nodeType":"VariableDeclarationStatement","src":"9876:14:46"},{"expression":{"id":46360,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":46351,"name":"returnData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46325,"src":"9902:10:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LiquidityAddReturnData_$62076_memory_ptr_$dyn_memory_ptr","typeString":"struct LiquidityAddReturnData memory[] memory"}},{"id":46352,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46349,"src":"9914:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":46353,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"9901:20:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_array$_t_struct$_LiquidityAddReturnData_$62076_memory_ptr_$dyn_memory_ptr_$_t_uint256_$","typeString":"tuple(struct LiquidityAddReturnData memory[] memory,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":46356,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"9954:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46357,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9958:6:46","memberName":"sender","nodeType":"MemberAccess","src":"9954:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46358,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46318,"src":"9978:4:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LiquidityAddData_$62054_calldata_ptr_$dyn_calldata_ptr","typeString":"struct LiquidityAddData calldata[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_struct$_LiquidityAddData_$62054_calldata_ptr_$dyn_calldata_ptr","typeString":"struct LiquidityAddData calldata[] calldata"}],"expression":{"id":46354,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46314,"src":"9924:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"id":46355,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9928:12:46","memberName":"addLiquidity","nodeType":"MemberAccess","referencedDeclaration":60420,"src":"9924:16:46","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_array$_t_struct$_LiquidityAddData_$62054_memory_ptr_$dyn_memory_ptr_$returns$_t_array$_t_struct$_LiquidityAddReturnData_$62076_memory_ptr_$dyn_memory_ptr_$_t_uint256_$","typeString":"function (address,struct LiquidityAddData memory[] memory) external returns (struct LiquidityAddReturnData memory[] memory,uint256)"}},"id":46359,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9924:68:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_array$_t_struct$_LiquidityAddReturnData_$62076_memory_ptr_$dyn_memory_ptr_$_t_uint256_$","typeString":"tuple(struct LiquidityAddReturnData memory[] memory,uint256)"}},"src":"9901:91:46","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46361,"nodeType":"ExpressionStatement","src":"9901:91:46"},{"expression":{"arguments":[{"expression":{"id":46365,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"10027:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46366,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10031:6:46","memberName":"sender","nodeType":"MemberAccess","src":"10027:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":46369,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"10047:4:46","typeDescriptions":{"typeIdentifier":"t_contract$_ClearingHouse_$47932","typeString":"contract ClearingHouse"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ClearingHouse_$47932","typeString":"contract ClearingHouse"}],"id":46368,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10039:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46367,"name":"address","nodeType":"ElementaryTypeName","src":"10039:7:46","typeDescriptions":{}}},"id":46370,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10039:13:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46371,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46349,"src":"10054:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46362,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45877,"src":"10005:4:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46364,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10010:16:46","memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":37359,"src":"10005:21:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_address_$","typeString":"function (address,address,address,uint256)"}},"id":46372,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10005:56:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46373,"nodeType":"ExpressionStatement","src":"10005:56:46"},{"eventCall":{"arguments":[{"id":46375,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46314,"src":"10092:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":46376,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"10097:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46377,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10101:6:46","memberName":"sender","nodeType":"MemberAccess","src":"10097:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":46374,"name":"LiquidityAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45813,"src":"10077:14:46","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$returns$__$","typeString":"function (contract IRouter,address)"}},"id":46378,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10077:31:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46379,"nodeType":"EmitStatement","src":"10072:36:46"}]},"documentation":{"id":46311,"nodeType":"StructuredDocumentation","src":"9439:146:46","text":" @notice adds liquidity to 'amm' with 'margin' and 'leverage'\n \n @dev a MakerStruct is created for the sender in AMM"},"functionSelector":"efdb9423","implemented":true,"kind":"function","modifiers":[{"id":46321,"kind":"modifierInvocation","modifierName":{"id":46320,"name":"whenActive","nameLocations":["9690:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"9690:10:46"},"nodeType":"ModifierInvocation","src":"9690:10:46"}],"name":"addLiquidity","nameLocation":"9599:12:46","parameters":{"id":46319,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46314,"mutability":"mutable","name":"amm","nameLocation":"9629:3:46","nodeType":"VariableDeclaration","scope":46381,"src":"9621:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":46313,"nodeType":"UserDefinedTypeName","pathNode":{"id":46312,"name":"IRouter","nameLocations":["9621:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"9621:7:46"},"referencedDeclaration":60678,"src":"9621:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":46318,"mutability":"mutable","name":"data","nameLocation":"9670:4:46","nodeType":"VariableDeclaration","scope":46381,"src":"9642:32:46","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LiquidityAddData_$62054_calldata_ptr_$dyn_calldata_ptr","typeString":"struct LiquidityAddData[]"},"typeName":{"baseType":{"id":46316,"nodeType":"UserDefinedTypeName","pathNode":{"id":46315,"name":"LiquidityAddData","nameLocations":["9642:16:46"],"nodeType":"IdentifierPath","referencedDeclaration":62054,"src":"9642:16:46"},"referencedDeclaration":62054,"src":"9642:16:46","typeDescriptions":{"typeIdentifier":"t_struct$_LiquidityAddData_$62054_storage_ptr","typeString":"struct LiquidityAddData"}},"id":46317,"nodeType":"ArrayTypeName","src":"9642:18:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LiquidityAddData_$62054_storage_$dyn_storage_ptr","typeString":"struct LiquidityAddData[]"}},"visibility":"internal"}],"src":"9611:69:46"},"returnParameters":{"id":46326,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46325,"mutability":"mutable","name":"returnData","nameLocation":"9742:10:46","nodeType":"VariableDeclaration","scope":46381,"src":"9710:42:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LiquidityAddReturnData_$62076_memory_ptr_$dyn_memory_ptr","typeString":"struct LiquidityAddReturnData[]"},"typeName":{"baseType":{"id":46323,"nodeType":"UserDefinedTypeName","pathNode":{"id":46322,"name":"LiquidityAddReturnData","nameLocations":["9710:22:46"],"nodeType":"IdentifierPath","referencedDeclaration":62076,"src":"9710:22:46"},"referencedDeclaration":62076,"src":"9710:22:46","typeDescriptions":{"typeIdentifier":"t_struct$_LiquidityAddReturnData_$62076_storage_ptr","typeString":"struct LiquidityAddReturnData"}},"id":46324,"nodeType":"ArrayTypeName","src":"9710:24:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LiquidityAddReturnData_$62076_storage_$dyn_storage_ptr","typeString":"struct LiquidityAddReturnData[]"}},"visibility":"internal"}],"src":"9709:44:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46469,"nodeType":"FunctionDefinition","src":"10531:771:46","nodes":[],"body":{"id":46468,"nodeType":"Block","src":"10647:655:46","nodes":[],"statements":[{"expression":{"arguments":[{"id":46397,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46385,"src":"10668:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":46396,"name":"_assertAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49900,"src":"10657:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter) view"}},"id":46398,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10657:15:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46399,"nodeType":"ExpressionStatement","src":"10657:15:46"},{"assignments":[46401,46403,46405],"declarations":[{"constant":false,"id":46401,"mutability":"mutable","name":"size","nameLocation":"10691:4:46","nodeType":"VariableDeclaration","scope":46468,"src":"10684:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":46400,"name":"int256","nodeType":"ElementaryTypeName","src":"10684:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":46403,"mutability":"mutable","name":"openNotional","nameLocation":"10705:12:46","nodeType":"VariableDeclaration","scope":46468,"src":"10697:20:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46402,"name":"uint256","nodeType":"ElementaryTypeName","src":"10697:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46405,"mutability":"mutable","name":"removedMargin","nameLocation":"10727:13:46","nodeType":"VariableDeclaration","scope":46468,"src":"10719:21:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46404,"name":"uint256","nodeType":"ElementaryTypeName","src":"10719:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46412,"initialValue":{"arguments":[{"expression":{"id":46408,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"10764:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46409,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10768:6:46","memberName":"sender","nodeType":"MemberAccess","src":"10764:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46410,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46389,"src":"10776:4:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LiquidityRemoveData_$62059_calldata_ptr_$dyn_calldata_ptr","typeString":"struct LiquidityRemoveData calldata[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_struct$_LiquidityRemoveData_$62059_calldata_ptr_$dyn_calldata_ptr","typeString":"struct LiquidityRemoveData calldata[] calldata"}],"expression":{"id":46406,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46385,"src":"10744:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"id":46407,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10748:15:46","memberName":"removeLiquidity","nodeType":"MemberAccess","referencedDeclaration":60470,"src":"10744:19:46","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_array$_t_struct$_LiquidityRemoveData_$62059_memory_ptr_$dyn_memory_ptr_$returns$_t_int256_$_t_uint256_$_t_uint256_$","typeString":"function (address,struct LiquidityRemoveData memory[] memory) external returns (int256,uint256,uint256)"}},"id":46411,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10744:37:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_uint256_$_t_uint256_$","typeString":"tuple(int256,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"10683:98:46"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":46415,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46413,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46401,"src":"10796:4:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":46414,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10804:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10796:9:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":46460,"nodeType":"Block","src":"11170:77:46","statements":[{"expression":{"arguments":[{"expression":{"id":46455,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"11210:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46456,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11214:6:46","memberName":"sender","nodeType":"MemberAccess","src":"11210:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46457,"name":"removedMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46405,"src":"11222:13:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46452,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45877,"src":"11192:4:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46454,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11197:12:46","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":37385,"src":"11192:17:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_address_$","typeString":"function (address,address,uint256)"}},"id":46458,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11192:44:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46459,"nodeType":"ExpressionStatement","src":"11192:44:46"}]},"id":46461,"nodeType":"IfStatement","src":"10792:455:46","trueBody":{"id":46451,"nodeType":"Block","src":"10807:357:46","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46418,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46416,"name":"addedMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46391,"src":"10879:11:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":46417,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10894:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10879:16:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46431,"nodeType":"IfStatement","src":"10875:83:46","trueBody":{"expression":{"arguments":[{"expression":{"id":46422,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"10919:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10923:6:46","memberName":"sender","nodeType":"MemberAccess","src":"10919:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":46426,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"10939:4:46","typeDescriptions":{"typeIdentifier":"t_contract$_ClearingHouse_$47932","typeString":"contract ClearingHouse"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ClearingHouse_$47932","typeString":"contract ClearingHouse"}],"id":46425,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10931:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46424,"name":"address","nodeType":"ElementaryTypeName","src":"10931:7:46","typeDescriptions":{}}},"id":46427,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10931:13:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46428,"name":"addedMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46391,"src":"10946:11:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46419,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45877,"src":"10897:4:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46421,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10902:16:46","memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":37359,"src":"10897:21:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_address_$","typeString":"function (address,address,address,uint256)"}},"id":46429,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10897:61:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46430,"nodeType":"ExpressionStatement","src":"10897:61:46"}},{"expression":{"arguments":[{"arguments":[{"expression":{"id":46437,"name":"IPositionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60315,"src":"11041:15:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPositionMerger_$60315_$","typeString":"type(contract IPositionMerger)"}},"id":46438,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"11057:13:46","memberName":"mergePosition","nodeType":"MemberAccess","referencedDeclaration":60269,"src":"11041:29:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$_t_uint256_$_t_int256_$_t_uint256_$returns$__$","typeString":"function IPositionMerger.mergePosition(contract IRouter,address,uint256,int256,uint256)"}},{"components":[{"id":46439,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46385,"src":"11073:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":46440,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"11078:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46441,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11082:6:46","memberName":"sender","nodeType":"MemberAccess","src":"11078:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46444,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46442,"name":"removedMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46405,"src":"11090:13:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":46443,"name":"addedMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46391,"src":"11106:11:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11090:27:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":46445,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46401,"src":"11119:4:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":46446,"name":"openNotional","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46403,"src":"11125:12:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":46447,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"11072:66:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_address_$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(contract IRouter,address,uint256,int256,uint256)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$_t_uint256_$_t_int256_$_t_uint256_$returns$__$","typeString":"function IPositionMerger.mergePosition(contract IRouter,address,uint256,int256,uint256)"},{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_address_$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(contract IRouter,address,uint256,int256,uint256)"}],"expression":{"id":46435,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"11026:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46436,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"11030:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"11026:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46448,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11026:113:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46432,"name":"positionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45881,"src":"10973:14:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46434,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10988:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"10973:35:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46449,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10973:180:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":46450,"nodeType":"ExpressionStatement","src":"10973:180:46"}]}},{"eventCall":{"arguments":[{"id":46463,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46385,"src":"11279:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":46464,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"11284:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46465,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11288:6:46","memberName":"sender","nodeType":"MemberAccess","src":"11284:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":46462,"name":"LiquidityRemoved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45820,"src":"11262:16:46","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$returns$__$","typeString":"function (contract IRouter,address)"}},"id":46466,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11262:33:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46467,"nodeType":"EmitStatement","src":"11257:38:46"}]},"documentation":{"id":46382,"nodeType":"StructuredDocumentation","src":"10121:405:46","text":" @notice removes caller's 'shares' from 'amm'\n @notice realizes LP's impermanent position, by merging it into caller's taker position\n \n @dev returns margin to caller if there is no impermanent position\n @dev returns margin to caller if there is no remaining liquidity in AMM\n \n @param addedMargin — margin to add to permanent position (can be zero)"},"functionSelector":"db1b5c97","implemented":true,"kind":"function","modifiers":[{"id":46394,"kind":"modifierInvocation","modifierName":{"id":46393,"name":"whenActive","nameLocations":["10636:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"10636:10:46"},"nodeType":"ModifierInvocation","src":"10636:10:46"}],"name":"removeLiquidity","nameLocation":"10540:15:46","parameters":{"id":46392,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46385,"mutability":"mutable","name":"amm","nameLocation":"10564:3:46","nodeType":"VariableDeclaration","scope":46469,"src":"10556:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":46384,"nodeType":"UserDefinedTypeName","pathNode":{"id":46383,"name":"IRouter","nameLocations":["10556:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"10556:7:46"},"referencedDeclaration":60678,"src":"10556:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":46389,"mutability":"mutable","name":"data","nameLocation":"10600:4:46","nodeType":"VariableDeclaration","scope":46469,"src":"10569:35:46","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LiquidityRemoveData_$62059_calldata_ptr_$dyn_calldata_ptr","typeString":"struct LiquidityRemoveData[]"},"typeName":{"baseType":{"id":46387,"nodeType":"UserDefinedTypeName","pathNode":{"id":46386,"name":"LiquidityRemoveData","nameLocations":["10569:19:46"],"nodeType":"IdentifierPath","referencedDeclaration":62059,"src":"10569:19:46"},"referencedDeclaration":62059,"src":"10569:19:46","typeDescriptions":{"typeIdentifier":"t_struct$_LiquidityRemoveData_$62059_storage_ptr","typeString":"struct LiquidityRemoveData"}},"id":46388,"nodeType":"ArrayTypeName","src":"10569:21:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LiquidityRemoveData_$62059_storage_$dyn_storage_ptr","typeString":"struct LiquidityRemoveData[]"}},"visibility":"internal"},{"constant":false,"id":46391,"mutability":"mutable","name":"addedMargin","nameLocation":"10614:11:46","nodeType":"VariableDeclaration","scope":46469,"src":"10606:19:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46390,"name":"uint256","nodeType":"ElementaryTypeName","src":"10606:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10555:71:46"},"returnParameters":{"id":46395,"nodeType":"ParameterList","parameters":[],"src":"10647:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46549,"nodeType":"FunctionDefinition","src":"11671:519:46","nodes":[],"body":{"id":46548,"nodeType":"Block","src":"11765:425:46","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":46488,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":46482,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"11787:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}],"id":46481,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11779:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46480,"name":"address","nodeType":"ElementaryTypeName","src":"11779:7:46","typeDescriptions":{}}},"id":46483,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11779:18:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":46486,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11809:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46485,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11801:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46484,"name":"address","nodeType":"ElementaryTypeName","src":"11801:7:46","typeDescriptions":{}}},"id":46487,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11801:10:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"11779:32:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46496,"nodeType":"IfStatement","src":"11775:75:46","trueBody":{"expression":{"arguments":[{"expression":{"id":46492,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"11839:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46493,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11843:6:46","memberName":"sender","nodeType":"MemberAccess","src":"11839:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":46489,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"11813:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}},"id":46491,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11823:15:46","memberName":"assertWhitelist","nodeType":"MemberAccess","referencedDeclaration":60685,"src":"11813:25:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$__$","typeString":"function (address) view external"}},"id":46494,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11813:37:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46495,"nodeType":"ExpressionStatement","src":"11813:37:46"}},{"assignments":[46501],"declarations":[{"constant":false,"id":46501,"mutability":"mutable","name":"_orders","nameLocation":"11881:7:46","nodeType":"VariableDeclaration","scope":46548,"src":"11861:27:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr","typeString":"struct LimitOrder[]"},"typeName":{"baseType":{"id":46499,"nodeType":"UserDefinedTypeName","pathNode":{"id":46498,"name":"LimitOrder","nameLocations":["11861:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62100,"src":"11861:10:46"},"referencedDeclaration":62100,"src":"11861:10:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_storage_ptr","typeString":"struct LimitOrder"}},"id":46500,"nodeType":"ArrayTypeName","src":"11861:12:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_storage_$dyn_storage_ptr","typeString":"struct LimitOrder[]"}},"visibility":"internal"}],"id":46508,"initialValue":{"arguments":[{"hexValue":"31","id":46506,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11908:1:46","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"}],"id":46505,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"11891:16:46","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (struct LimitOrder memory[] memory)"},"typeName":{"baseType":{"id":46503,"nodeType":"UserDefinedTypeName","pathNode":{"id":46502,"name":"LimitOrder","nameLocations":["11895:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62100,"src":"11895:10:46"},"referencedDeclaration":62100,"src":"11895:10:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_storage_ptr","typeString":"struct LimitOrder"}},"id":46504,"nodeType":"ArrayTypeName","src":"11895:12:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_storage_$dyn_storage_ptr","typeString":"struct LimitOrder[]"}}},"id":46507,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11891:19:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr","typeString":"struct LimitOrder memory[] memory"}},"nodeType":"VariableDeclarationStatement","src":"11861:49:46"},{"expression":{"id":46513,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":46509,"name":"_orders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46501,"src":"11920:7:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr","typeString":"struct LimitOrder memory[] memory"}},"id":46511,"indexExpression":{"hexValue":"30","id":46510,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11928:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"11920:10:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_memory_ptr","typeString":"struct LimitOrder memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46512,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46473,"src":"11933:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_calldata_ptr","typeString":"struct LimitOrder calldata"}},"src":"11920:18:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_memory_ptr","typeString":"struct LimitOrder memory"}},"id":46514,"nodeType":"ExpressionStatement","src":"11920:18:46"},{"assignments":[46516],"declarations":[{"constant":false,"id":46516,"mutability":"mutable","name":"data","nameLocation":"11962:4:46","nodeType":"VariableDeclaration","scope":46548,"src":"11949:17:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":46515,"name":"bytes","nodeType":"ElementaryTypeName","src":"11949:5:46","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":46529,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":46521,"name":"IOrderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59780,"src":"12031:13:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IOrderCreator_$59780_$","typeString":"type(contract IOrderCreator)"}},"id":46522,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"12045:17:46","memberName":"createLimitOrders","nodeType":"MemberAccess","referencedDeclaration":59739,"src":"12031:31:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function IOrderCreator.createLimitOrders(address,struct LimitOrder calldata[] calldata) returns (uint256[] memory)"}},{"components":[{"expression":{"id":46523,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"12065:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46524,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12069:6:46","memberName":"sender","nodeType":"MemberAccess","src":"12065:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46525,"name":"_orders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46501,"src":"12077:7:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr","typeString":"struct LimitOrder memory[] memory"}}],"id":46526,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"12064:21:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr_$","typeString":"tuple(address,struct LimitOrder memory[] memory)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function IOrderCreator.createLimitOrders(address,struct LimitOrder calldata[] calldata) returns (uint256[] memory)"},{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr_$","typeString":"tuple(address,struct LimitOrder memory[] memory)"}],"expression":{"id":46519,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"12016:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46520,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"12020:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"12016:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46527,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12016:70:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46517,"name":"orderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45885,"src":"11969:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46518,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11982:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"11969:33:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46528,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11969:127:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"11949:147:46"},{"assignments":[46534],"declarations":[{"constant":false,"id":46534,"mutability":"mutable","name":"ids","nameLocation":"12124:3:46","nodeType":"VariableDeclaration","scope":46548,"src":"12107:20:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":46532,"name":"uint256","nodeType":"ElementaryTypeName","src":"12107:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46533,"nodeType":"ArrayTypeName","src":"12107:9:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":46543,"initialValue":{"arguments":[{"id":46537,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46516,"src":"12141:4:46","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"baseExpression":{"id":46539,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12148:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":46538,"name":"uint256","nodeType":"ElementaryTypeName","src":"12148:7:46","typeDescriptions":{}}},"id":46540,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"IndexAccess","src":"12148:9:46","typeDescriptions":{"typeIdentifier":"t_type$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"type(uint256[] memory)"}}],"id":46541,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"12147:11:46","typeDescriptions":{"typeIdentifier":"t_type$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"type(uint256[] memory)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"type(uint256[] memory)"}],"expression":{"id":46535,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"12130:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46536,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"12134:6:46","memberName":"decode","nodeType":"MemberAccess","src":"12130:10:46","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":46542,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12130:29:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"12107:52:46"},{"expression":{"baseExpression":{"id":46544,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46534,"src":"12177:3:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":46546,"indexExpression":{"hexValue":"30","id":46545,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12181:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12177:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":46479,"id":46547,"nodeType":"Return","src":"12170:13:46"}]},"documentation":{"id":46470,"nodeType":"StructuredDocumentation","src":"11491:175:46","text":" @notice creates a limit 'order' for caller\n \n @dev delegatecalls to the OrderCreator library\n \n @return id — id of new limit order"},"functionSelector":"7eb02406","implemented":true,"kind":"function","modifiers":[{"id":46476,"kind":"modifierInvocation","modifierName":{"id":46475,"name":"whenActive","nameLocations":["11733:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"11733:10:46"},"nodeType":"ModifierInvocation","src":"11733:10:46"}],"name":"createLimitOrder","nameLocation":"11680:16:46","parameters":{"id":46474,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46473,"mutability":"mutable","name":"order","nameLocation":"11717:5:46","nodeType":"VariableDeclaration","scope":46549,"src":"11697:25:46","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_calldata_ptr","typeString":"struct LimitOrder"},"typeName":{"id":46472,"nodeType":"UserDefinedTypeName","pathNode":{"id":46471,"name":"LimitOrder","nameLocations":["11697:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62100,"src":"11697:10:46"},"referencedDeclaration":62100,"src":"11697:10:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_storage_ptr","typeString":"struct LimitOrder"}},"visibility":"internal"}],"src":"11696:27:46"},"returnParameters":{"id":46479,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46478,"mutability":"mutable","name":"id","nameLocation":"11761:2:46","nodeType":"VariableDeclaration","scope":46549,"src":"11753:10:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46477,"name":"uint256","nodeType":"ElementaryTypeName","src":"11753:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11752:12:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46606,"nodeType":"FunctionDefinition","src":"12388:409:46","nodes":[],"body":{"id":46605,"nodeType":"Block","src":"12501:296:46","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":46570,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":46564,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"12523:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}],"id":46563,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12515:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46562,"name":"address","nodeType":"ElementaryTypeName","src":"12515:7:46","typeDescriptions":{}}},"id":46565,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12515:18:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":46568,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12545:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46567,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12537:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46566,"name":"address","nodeType":"ElementaryTypeName","src":"12537:7:46","typeDescriptions":{}}},"id":46569,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12537:10:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"12515:32:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46578,"nodeType":"IfStatement","src":"12511:75:46","trueBody":{"expression":{"arguments":[{"expression":{"id":46574,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"12575:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46575,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12579:6:46","memberName":"sender","nodeType":"MemberAccess","src":"12575:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":46571,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"12549:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}},"id":46573,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12559:15:46","memberName":"assertWhitelist","nodeType":"MemberAccess","referencedDeclaration":60685,"src":"12549:25:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$__$","typeString":"function (address) view external"}},"id":46576,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12549:37:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46577,"nodeType":"ExpressionStatement","src":"12549:37:46"}},{"assignments":[46580],"declarations":[{"constant":false,"id":46580,"mutability":"mutable","name":"data","nameLocation":"12610:4:46","nodeType":"VariableDeclaration","scope":46605,"src":"12597:17:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":46579,"name":"bytes","nodeType":"ElementaryTypeName","src":"12597:5:46","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":46593,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":46585,"name":"IOrderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59780,"src":"12679:13:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IOrderCreator_$59780_$","typeString":"type(contract IOrderCreator)"}},"id":46586,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"12693:17:46","memberName":"createLimitOrders","nodeType":"MemberAccess","referencedDeclaration":59739,"src":"12679:31:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function IOrderCreator.createLimitOrders(address,struct LimitOrder calldata[] calldata) returns (uint256[] memory)"}},{"components":[{"expression":{"id":46587,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"12713:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12717:6:46","memberName":"sender","nodeType":"MemberAccess","src":"12713:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46589,"name":"_orders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46554,"src":"12725:7:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr","typeString":"struct LimitOrder calldata[] calldata"}}],"id":46590,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"12712:21:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$","typeString":"tuple(address,struct LimitOrder calldata[] calldata)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function IOrderCreator.createLimitOrders(address,struct LimitOrder calldata[] calldata) returns (uint256[] memory)"},{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$","typeString":"tuple(address,struct LimitOrder calldata[] calldata)"}],"expression":{"id":46583,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"12664:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46584,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"12668:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"12664:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46591,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12664:70:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46581,"name":"orderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45885,"src":"12617:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46582,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12630:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"12617:33:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46592,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12617:127:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"12597:147:46"},{"expression":{"id":46603,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46594,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46560,"src":"12755:3:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":46597,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46580,"src":"12772:4:46","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"baseExpression":{"id":46599,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12779:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":46598,"name":"uint256","nodeType":"ElementaryTypeName","src":"12779:7:46","typeDescriptions":{}}},"id":46600,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"IndexAccess","src":"12779:9:46","typeDescriptions":{"typeIdentifier":"t_type$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"type(uint256[] memory)"}}],"id":46601,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"12778:11:46","typeDescriptions":{"typeIdentifier":"t_type$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"type(uint256[] memory)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"type(uint256[] memory)"}],"expression":{"id":46595,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"12761:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46596,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"12765:6:46","memberName":"decode","nodeType":"MemberAccess","src":"12761:10:46","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":46602,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12761:29:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"src":"12755:35:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":46604,"nodeType":"ExpressionStatement","src":"12755:35:46"}]},"documentation":{"id":46550,"nodeType":"StructuredDocumentation","src":"12196:187:46","text":" @notice creates multiple limit '_orders' for caller\n \n @dev delegatecalls to the OrderCreator library\n \n @return ids — ids of new limit orders"},"functionSelector":"4a6ebce7","implemented":true,"kind":"function","modifiers":[{"id":46557,"kind":"modifierInvocation","modifierName":{"id":46556,"name":"whenActive","nameLocations":["12459:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"12459:10:46"},"nodeType":"ModifierInvocation","src":"12459:10:46"}],"name":"createLimitOrderBatch","nameLocation":"12397:21:46","parameters":{"id":46555,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46554,"mutability":"mutable","name":"_orders","nameLocation":"12441:7:46","nodeType":"VariableDeclaration","scope":46606,"src":"12419:29:46","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr","typeString":"struct LimitOrder[]"},"typeName":{"baseType":{"id":46552,"nodeType":"UserDefinedTypeName","pathNode":{"id":46551,"name":"LimitOrder","nameLocations":["12419:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62100,"src":"12419:10:46"},"referencedDeclaration":62100,"src":"12419:10:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_storage_ptr","typeString":"struct LimitOrder"}},"id":46553,"nodeType":"ArrayTypeName","src":"12419:12:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_storage_$dyn_storage_ptr","typeString":"struct LimitOrder[]"}},"visibility":"internal"}],"src":"12418:31:46"},"returnParameters":{"id":46561,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46560,"mutability":"mutable","name":"ids","nameLocation":"12496:3:46","nodeType":"VariableDeclaration","scope":46606,"src":"12479:20:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":46558,"name":"uint256","nodeType":"ElementaryTypeName","src":"12479:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46559,"nodeType":"ArrayTypeName","src":"12479:9:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"12478:22:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46668,"nodeType":"FunctionDefinition","src":"12940:437:46","nodes":[],"body":{"id":46667,"nodeType":"Block","src":"13023:354:46","nodes":[],"statements":[{"assignments":[46621],"declarations":[{"constant":false,"id":46621,"mutability":"mutable","name":"_orders","nameLocation":"13053:7:46","nodeType":"VariableDeclaration","scope":46667,"src":"13033:27:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr","typeString":"struct LimitOrder[]"},"typeName":{"baseType":{"id":46619,"nodeType":"UserDefinedTypeName","pathNode":{"id":46618,"name":"LimitOrder","nameLocations":["13033:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62100,"src":"13033:10:46"},"referencedDeclaration":62100,"src":"13033:10:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_storage_ptr","typeString":"struct LimitOrder"}},"id":46620,"nodeType":"ArrayTypeName","src":"13033:12:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_storage_$dyn_storage_ptr","typeString":"struct LimitOrder[]"}},"visibility":"internal"}],"id":46628,"initialValue":{"arguments":[{"hexValue":"31","id":46626,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13080:1:46","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"}],"id":46625,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"13063:16:46","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (struct LimitOrder memory[] memory)"},"typeName":{"baseType":{"id":46623,"nodeType":"UserDefinedTypeName","pathNode":{"id":46622,"name":"LimitOrder","nameLocations":["13067:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62100,"src":"13067:10:46"},"referencedDeclaration":62100,"src":"13067:10:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_storage_ptr","typeString":"struct LimitOrder"}},"id":46624,"nodeType":"ArrayTypeName","src":"13067:12:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_storage_$dyn_storage_ptr","typeString":"struct LimitOrder[]"}}},"id":46627,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13063:19:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr","typeString":"struct LimitOrder memory[] memory"}},"nodeType":"VariableDeclarationStatement","src":"13033:49:46"},{"assignments":[46633],"declarations":[{"constant":false,"id":46633,"mutability":"mutable","name":"ids","nameLocation":"13109:3:46","nodeType":"VariableDeclaration","scope":46667,"src":"13092:20:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":46631,"name":"uint256","nodeType":"ElementaryTypeName","src":"13092:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46632,"nodeType":"ArrayTypeName","src":"13092:9:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":46639,"initialValue":{"arguments":[{"hexValue":"31","id":46637,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13129:1:46","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"}],"id":46636,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"13115:13:46","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":46634,"name":"uint256","nodeType":"ElementaryTypeName","src":"13119:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46635,"nodeType":"ArrayTypeName","src":"13119:9:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":46638,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13115:16:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"13092:39:46"},{"expression":{"id":46644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":46640,"name":"_orders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46621,"src":"13141:7:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr","typeString":"struct LimitOrder memory[] memory"}},"id":46642,"indexExpression":{"hexValue":"30","id":46641,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13149:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"13141:10:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_memory_ptr","typeString":"struct LimitOrder memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46643,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46612,"src":"13154:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_memory_ptr","typeString":"struct LimitOrder memory"}},"src":"13141:18:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_memory_ptr","typeString":"struct LimitOrder memory"}},"id":46645,"nodeType":"ExpressionStatement","src":"13141:18:46"},{"expression":{"id":46650,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":46646,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46633,"src":"13169:3:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":46648,"indexExpression":{"hexValue":"30","id":46647,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13173:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"13169:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46649,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46609,"src":"13178:2:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13169:11:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46651,"nodeType":"ExpressionStatement","src":"13169:11:46"},{"expression":{"arguments":[{"arguments":[{"expression":{"id":46657,"name":"IOrderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59780,"src":"13270:13:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IOrderCreator_$59780_$","typeString":"type(contract IOrderCreator)"}},"id":46658,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"13284:17:46","memberName":"updateLimitOrders","nodeType":"MemberAccess","referencedDeclaration":59751,"src":"13270:31:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_uint256_$dyn_calldata_ptr_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$returns$__$","typeString":"function IOrderCreator.updateLimitOrders(address,uint256[] calldata,struct LimitOrder calldata[] calldata)"}},{"components":[{"expression":{"id":46659,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"13321:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46660,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13325:6:46","memberName":"sender","nodeType":"MemberAccess","src":"13321:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46661,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46633,"src":"13333:3:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"id":46662,"name":"_orders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46621,"src":"13338:7:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr","typeString":"struct LimitOrder memory[] memory"}}],"id":46663,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"13320:26:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr_$","typeString":"tuple(address,uint256[] memory,struct LimitOrder memory[] memory)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_uint256_$dyn_calldata_ptr_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$returns$__$","typeString":"function IOrderCreator.updateLimitOrders(address,uint256[] calldata,struct LimitOrder calldata[] calldata)"},{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_struct$_LimitOrder_$62100_memory_ptr_$dyn_memory_ptr_$","typeString":"tuple(address,uint256[] memory,struct LimitOrder memory[] memory)"}],"expression":{"id":46655,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"13238:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46656,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"13242:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"13238:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46664,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13238:122:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46652,"name":"orderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45885,"src":"13191:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46654,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13204:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"13191:33:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46665,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13191:179:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":46666,"nodeType":"ExpressionStatement","src":"13191:179:46"}]},"documentation":{"id":46607,"nodeType":"StructuredDocumentation","src":"12803:132:46","text":" @notice updates a limit order 'id' to a new 'order'\n \n @dev delegatecalls to the OrderCreator library"},"functionSelector":"2a120de4","implemented":true,"kind":"function","modifiers":[{"id":46615,"kind":"modifierInvocation","modifierName":{"id":46614,"name":"whenActive","nameLocations":["13012:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"13012:10:46"},"nodeType":"ModifierInvocation","src":"13012:10:46"}],"name":"updateLimitOrder","nameLocation":"12949:16:46","parameters":{"id":46613,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46609,"mutability":"mutable","name":"id","nameLocation":"12974:2:46","nodeType":"VariableDeclaration","scope":46668,"src":"12966:10:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46608,"name":"uint256","nodeType":"ElementaryTypeName","src":"12966:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46612,"mutability":"mutable","name":"order","nameLocation":"12996:5:46","nodeType":"VariableDeclaration","scope":46668,"src":"12978:23:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_memory_ptr","typeString":"struct LimitOrder"},"typeName":{"id":46611,"nodeType":"UserDefinedTypeName","pathNode":{"id":46610,"name":"LimitOrder","nameLocations":["12978:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62100,"src":"12978:10:46"},"referencedDeclaration":62100,"src":"12978:10:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_storage_ptr","typeString":"struct LimitOrder"}},"visibility":"internal"}],"src":"12965:37:46"},"returnParameters":{"id":46616,"nodeType":"ParameterList","parameters":[],"src":"13023:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46697,"nodeType":"FunctionDefinition","src":"13529:301:46","nodes":[],"body":{"id":46696,"nodeType":"Block","src":"13635:195:46","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"expression":{"id":46686,"name":"IOrderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59780,"src":"13724:13:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IOrderCreator_$59780_$","typeString":"type(contract IOrderCreator)"}},"id":46687,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"13738:17:46","memberName":"updateLimitOrders","nodeType":"MemberAccess","referencedDeclaration":59751,"src":"13724:31:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_uint256_$dyn_calldata_ptr_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$returns$__$","typeString":"function IOrderCreator.updateLimitOrders(address,uint256[] calldata,struct LimitOrder calldata[] calldata)"}},{"components":[{"expression":{"id":46688,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"13774:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46689,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13778:6:46","memberName":"sender","nodeType":"MemberAccess","src":"13774:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46690,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46672,"src":"13786:3:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"id":46691,"name":"_orders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46676,"src":"13791:7:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr","typeString":"struct LimitOrder calldata[] calldata"}}],"id":46692,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"13773:26:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_uint256_$dyn_calldata_ptr_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$","typeString":"tuple(address,uint256[] calldata,struct LimitOrder calldata[] calldata)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_uint256_$dyn_calldata_ptr_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$returns$__$","typeString":"function IOrderCreator.updateLimitOrders(address,uint256[] calldata,struct LimitOrder calldata[] calldata)"},{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_uint256_$dyn_calldata_ptr_$_t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr_$","typeString":"tuple(address,uint256[] calldata,struct LimitOrder calldata[] calldata)"}],"expression":{"id":46684,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"13692:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46685,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"13696:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"13692:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46693,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13692:121:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46681,"name":"orderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45885,"src":"13645:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46683,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13658:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"13645:33:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46694,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13645:178:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":46695,"nodeType":"ExpressionStatement","src":"13645:178:46"}]},"documentation":{"id":46669,"nodeType":"StructuredDocumentation","src":"13383:141:46","text":" @notice updates multiple limit orders 'ids' to new '_orders'\n \n @dev delegatecalls to the OrderCreator library"},"functionSelector":"13dee2d1","implemented":true,"kind":"function","modifiers":[{"id":46679,"kind":"modifierInvocation","modifierName":{"id":46678,"name":"whenActive","nameLocations":["13624:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"13624:10:46"},"nodeType":"ModifierInvocation","src":"13624:10:46"}],"name":"updateLimitOrderBatch","nameLocation":"13538:21:46","parameters":{"id":46677,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46672,"mutability":"mutable","name":"ids","nameLocation":"13579:3:46","nodeType":"VariableDeclaration","scope":46697,"src":"13560:22:46","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":46670,"name":"uint256","nodeType":"ElementaryTypeName","src":"13560:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46671,"nodeType":"ArrayTypeName","src":"13560:9:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":46676,"mutability":"mutable","name":"_orders","nameLocation":"13606:7:46","nodeType":"VariableDeclaration","scope":46697,"src":"13584:29:46","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_calldata_ptr_$dyn_calldata_ptr","typeString":"struct LimitOrder[]"},"typeName":{"baseType":{"id":46674,"nodeType":"UserDefinedTypeName","pathNode":{"id":46673,"name":"LimitOrder","nameLocations":["13584:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62100,"src":"13584:10:46"},"referencedDeclaration":62100,"src":"13584:10:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_storage_ptr","typeString":"struct LimitOrder"}},"id":46675,"nodeType":"ArrayTypeName","src":"13584:12:46","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LimitOrder_$62100_storage_$dyn_storage_ptr","typeString":"struct LimitOrder[]"}},"visibility":"internal"}],"src":"13559:55:46"},"returnParameters":{"id":46680,"nodeType":"ParameterList","parameters":[],"src":"13635:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46737,"nodeType":"FunctionDefinition","src":"13956:316:46","nodes":[],"body":{"id":46736,"nodeType":"Block","src":"14014:258:46","nodes":[],"statements":[{"assignments":[46709],"declarations":[{"constant":false,"id":46709,"mutability":"mutable","name":"ids","nameLocation":"14041:3:46","nodeType":"VariableDeclaration","scope":46736,"src":"14024:20:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":46707,"name":"uint256","nodeType":"ElementaryTypeName","src":"14024:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46708,"nodeType":"ArrayTypeName","src":"14024:9:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":46715,"initialValue":{"arguments":[{"hexValue":"31","id":46713,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14061:1:46","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"}],"id":46712,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"14047:13:46","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":46710,"name":"uint256","nodeType":"ElementaryTypeName","src":"14051:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46711,"nodeType":"ArrayTypeName","src":"14051:9:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":46714,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14047:16:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"14024:39:46"},{"expression":{"id":46720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":46716,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46709,"src":"14073:3:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":46718,"indexExpression":{"hexValue":"30","id":46717,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14077:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"14073:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46719,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46700,"src":"14082:2:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14073:11:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46721,"nodeType":"ExpressionStatement","src":"14073:11:46"},{"expression":{"arguments":[{"arguments":[{"expression":{"id":46727,"name":"IOrderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59780,"src":"14174:13:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IOrderCreator_$59780_$","typeString":"type(contract IOrderCreator)"}},"id":46728,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"14188:17:46","memberName":"deleteLimitOrders","nodeType":"MemberAccess","referencedDeclaration":59759,"src":"14174:31:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function IOrderCreator.deleteLimitOrders(address,uint256[] calldata)"}},{"components":[{"expression":{"id":46729,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"14225:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46730,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14229:6:46","memberName":"sender","nodeType":"MemberAccess","src":"14225:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46731,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46709,"src":"14237:3:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"id":46732,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14224:17:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"tuple(address,uint256[] memory)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function IOrderCreator.deleteLimitOrders(address,uint256[] calldata)"},{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"tuple(address,uint256[] memory)"}],"expression":{"id":46725,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"14142:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46726,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"14146:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"14142:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46733,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14142:113:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46722,"name":"orderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45885,"src":"14095:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46724,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14108:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"14095:33:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46734,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14095:170:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":46735,"nodeType":"ExpressionStatement","src":"14095:170:46"}]},"documentation":{"id":46698,"nodeType":"StructuredDocumentation","src":"13836:115:46","text":" @notice deletes a limit order 'id'\n \n @dev delegatecalls to the OrderCreator library"},"functionSelector":"e859f372","implemented":true,"kind":"function","modifiers":[{"id":46703,"kind":"modifierInvocation","modifierName":{"id":46702,"name":"whenActive","nameLocations":["14003:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"14003:10:46"},"nodeType":"ModifierInvocation","src":"14003:10:46"}],"name":"deleteLimitOrder","nameLocation":"13965:16:46","parameters":{"id":46701,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46700,"mutability":"mutable","name":"id","nameLocation":"13990:2:46","nodeType":"VariableDeclaration","scope":46737,"src":"13982:10:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46699,"name":"uint256","nodeType":"ElementaryTypeName","src":"13982:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13981:12:46"},"returnParameters":{"id":46704,"nodeType":"ParameterList","parameters":[],"src":"14014:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46761,"nodeType":"FunctionDefinition","src":"14407:260:46","nodes":[],"body":{"id":46760,"nodeType":"Block","src":"14480:187:46","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"expression":{"id":46751,"name":"IOrderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59780,"src":"14569:13:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IOrderCreator_$59780_$","typeString":"type(contract IOrderCreator)"}},"id":46752,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"14583:17:46","memberName":"deleteLimitOrders","nodeType":"MemberAccess","referencedDeclaration":59759,"src":"14569:31:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function IOrderCreator.deleteLimitOrders(address,uint256[] calldata)"}},{"components":[{"expression":{"id":46753,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"14620:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46754,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14624:6:46","memberName":"sender","nodeType":"MemberAccess","src":"14620:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46755,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46741,"src":"14632:3:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}}],"id":46756,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14619:17:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"tuple(address,uint256[] memory)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_array$_t_uint256_$dyn_calldata_ptr_$returns$__$","typeString":"function IOrderCreator.deleteLimitOrders(address,uint256[] calldata)"},{"typeIdentifier":"t_tuple$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"tuple(address,uint256[] memory)"}],"expression":{"id":46749,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"14537:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46750,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"14541:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"14537:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46757,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14537:113:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46746,"name":"orderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45885,"src":"14490:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46748,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14503:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"14490:33:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46758,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14490:170:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":46759,"nodeType":"ExpressionStatement","src":"14490:170:46"}]},"documentation":{"id":46738,"nodeType":"StructuredDocumentation","src":"14278:124:46","text":" @notice deletes multiple limit orders 'ids'\n \n @dev delegatecalls to the OrderCreator library"},"functionSelector":"517237a9","implemented":true,"kind":"function","modifiers":[{"id":46744,"kind":"modifierInvocation","modifierName":{"id":46743,"name":"whenActive","nameLocations":["14469:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"14469:10:46"},"nodeType":"ModifierInvocation","src":"14469:10:46"}],"name":"deleteLimitOrderBatch","nameLocation":"14416:21:46","parameters":{"id":46742,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46741,"mutability":"mutable","name":"ids","nameLocation":"14455:3:46","nodeType":"VariableDeclaration","scope":46761,"src":"14438:20:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":46739,"name":"uint256","nodeType":"ElementaryTypeName","src":"14438:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46740,"nodeType":"ArrayTypeName","src":"14438:9:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"14437:22:46"},"returnParameters":{"id":46745,"nodeType":"ParameterList","parameters":[],"src":"14480:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46796,"nodeType":"FunctionDefinition","src":"15041:340:46","nodes":[],"body":{"id":46795,"nodeType":"Block","src":"15128:253:46","nodes":[],"statements":[{"assignments":[46771],"declarations":[{"constant":false,"id":46771,"mutability":"mutable","name":"data","nameLocation":"15151:4:46","nodeType":"VariableDeclaration","scope":46795,"src":"15138:17:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":46770,"name":"bytes","nodeType":"ElementaryTypeName","src":"15138:5:46","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":46784,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":46776,"name":"IOrderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59780,"src":"15237:13:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IOrderCreator_$59780_$","typeString":"type(contract IOrderCreator)"}},"id":46777,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"15251:18:46","memberName":"createTriggerOrder","nodeType":"MemberAccess","referencedDeclaration":59769,"src":"15237:32:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_struct$_TriggerOrder_$62114_calldata_ptr_$_t_address_$returns$_t_uint256_$","typeString":"function IOrderCreator.createTriggerOrder(struct TriggerOrder calldata,address) returns (uint256)"}},{"components":[{"id":46778,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46765,"src":"15289:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_calldata_ptr","typeString":"struct TriggerOrder calldata"}},{"expression":{"id":46779,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"15296:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46780,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15300:6:46","memberName":"sender","nodeType":"MemberAccess","src":"15296:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":46781,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"15288:19:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_struct$_TriggerOrder_$62114_calldata_ptr_$_t_address_$","typeString":"tuple(struct TriggerOrder calldata,address)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_struct$_TriggerOrder_$62114_calldata_ptr_$_t_address_$returns$_t_uint256_$","typeString":"function IOrderCreator.createTriggerOrder(struct TriggerOrder calldata,address) returns (uint256)"},{"typeIdentifier":"t_tuple$_t_struct$_TriggerOrder_$62114_calldata_ptr_$_t_address_$","typeString":"tuple(struct TriggerOrder calldata,address)"}],"expression":{"id":46774,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"15205:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46775,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"15209:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"15205:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46782,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15205:116:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46772,"name":"orderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45885,"src":"15158:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46773,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15171:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"15158:33:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46783,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15158:173:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"15138:193:46"},{"expression":{"id":46793,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46785,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46768,"src":"15342:2:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":46788,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46771,"src":"15358:4:46","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":46790,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"15365:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":46789,"name":"uint256","nodeType":"ElementaryTypeName","src":"15365:7:46","typeDescriptions":{}}}],"id":46791,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"15364:9:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"expression":{"id":46786,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"15347:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46787,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"15351:6:46","memberName":"decode","nodeType":"MemberAccess","src":"15347:10:46","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":46792,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15347:27:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15342:32:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46794,"nodeType":"ExpressionStatement","src":"15342:32:46"}]},"documentation":{"id":46762,"nodeType":"StructuredDocumentation","src":"14857:179:46","text":" @notice creates a trigger 'order' for caller\n \n @dev delegatecalls to the OrderCreator library\n \n @return id — id of new trigger order"},"functionSelector":"68d85297","implemented":true,"kind":"function","modifiers":[],"name":"createTriggerOrder","nameLocation":"15050:18:46","parameters":{"id":46766,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46765,"mutability":"mutable","name":"order","nameLocation":"15091:5:46","nodeType":"VariableDeclaration","scope":46796,"src":"15069:27:46","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_calldata_ptr","typeString":"struct TriggerOrder"},"typeName":{"id":46764,"nodeType":"UserDefinedTypeName","pathNode":{"id":46763,"name":"TriggerOrder","nameLocations":["15069:12:46"],"nodeType":"IdentifierPath","referencedDeclaration":62114,"src":"15069:12:46"},"referencedDeclaration":62114,"src":"15069:12:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_storage_ptr","typeString":"struct TriggerOrder"}},"visibility":"internal"}],"src":"15068:29:46"},"returnParameters":{"id":46769,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46768,"mutability":"mutable","name":"id","nameLocation":"15124:2:46","nodeType":"VariableDeclaration","scope":46796,"src":"15116:10:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46767,"name":"uint256","nodeType":"ElementaryTypeName","src":"15116:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"15115:12:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46821,"nodeType":"FunctionDefinition","src":"15526:272:46","nodes":[],"body":{"id":46820,"nodeType":"Block","src":"15604:194:46","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"expression":{"id":46810,"name":"IOrderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59780,"src":"15693:13:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IOrderCreator_$59780_$","typeString":"type(contract IOrderCreator)"}},"id":46811,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"15707:18:46","memberName":"updateTriggerOrder","nodeType":"MemberAccess","referencedDeclaration":59779,"src":"15693:32:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_uint256_$_t_struct$_TriggerOrder_$62114_calldata_ptr_$_t_address_$returns$__$","typeString":"function IOrderCreator.updateTriggerOrder(uint256,struct TriggerOrder calldata,address)"}},{"components":[{"id":46812,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46799,"src":"15745:2:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":46813,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46802,"src":"15749:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_calldata_ptr","typeString":"struct TriggerOrder calldata"}},{"expression":{"id":46814,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"15756:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46815,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15760:6:46","memberName":"sender","nodeType":"MemberAccess","src":"15756:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":46816,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"15744:23:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_struct$_TriggerOrder_$62114_calldata_ptr_$_t_address_$","typeString":"tuple(uint256,struct TriggerOrder calldata,address)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_uint256_$_t_struct$_TriggerOrder_$62114_calldata_ptr_$_t_address_$returns$__$","typeString":"function IOrderCreator.updateTriggerOrder(uint256,struct TriggerOrder calldata,address)"},{"typeIdentifier":"t_tuple$_t_uint256_$_t_struct$_TriggerOrder_$62114_calldata_ptr_$_t_address_$","typeString":"tuple(uint256,struct TriggerOrder calldata,address)"}],"expression":{"id":46808,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"15661:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":46809,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"15665:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"15661:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":46817,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15661:120:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":46805,"name":"orderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45885,"src":"15614:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46807,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15627:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"15614:33:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":46818,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15614:177:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":46819,"nodeType":"ExpressionStatement","src":"15614:177:46"}]},"documentation":{"id":46797,"nodeType":"StructuredDocumentation","src":"15387:134:46","text":" @notice updates a trigger order 'id' to a new 'order'\n \n @dev delegatecalls to the OrderCreator library"},"functionSelector":"d2435052","implemented":true,"kind":"function","modifiers":[],"name":"updateTriggerOrder","nameLocation":"15535:18:46","parameters":{"id":46803,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46799,"mutability":"mutable","name":"id","nameLocation":"15562:2:46","nodeType":"VariableDeclaration","scope":46821,"src":"15554:10:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46798,"name":"uint256","nodeType":"ElementaryTypeName","src":"15554:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46802,"mutability":"mutable","name":"order","nameLocation":"15588:5:46","nodeType":"VariableDeclaration","scope":46821,"src":"15566:27:46","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_calldata_ptr","typeString":"struct TriggerOrder"},"typeName":{"id":46801,"nodeType":"UserDefinedTypeName","pathNode":{"id":46800,"name":"TriggerOrder","nameLocations":["15566:12:46"],"nodeType":"IdentifierPath","referencedDeclaration":62114,"src":"15566:12:46"},"referencedDeclaration":62114,"src":"15566:12:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_storage_ptr","typeString":"struct TriggerOrder"}},"visibility":"internal"}],"src":"15553:41:46"},"returnParameters":{"id":46804,"nodeType":"ParameterList","parameters":[],"src":"15604:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46862,"nodeType":"FunctionDefinition","src":"15926:269:46","nodes":[],"body":{"id":46861,"nodeType":"Block","src":"15975:220:46","nodes":[],"statements":[{"assignments":[46829],"declarations":[{"constant":false,"id":46829,"mutability":"mutable","name":"order","nameLocation":"16005:5:46","nodeType":"VariableDeclaration","scope":46861,"src":"15985:25:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder"},"typeName":{"id":46828,"nodeType":"UserDefinedTypeName","pathNode":{"id":46827,"name":"TriggerOrder","nameLocations":["15985:12:46"],"nodeType":"IdentifierPath","referencedDeclaration":62114,"src":"15985:12:46"},"referencedDeclaration":62114,"src":"15985:12:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_storage_ptr","typeString":"struct TriggerOrder"}},"visibility":"internal"}],"id":46833,"initialValue":{"baseExpression":{"id":46830,"name":"triggerOrders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48187,"src":"16013:13:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_TriggerOrder_$62114_storage_$","typeString":"mapping(uint256 => struct TriggerOrder storage ref)"}},"id":46832,"indexExpression":{"id":46831,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46824,"src":"16027:2:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16013:17:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_storage","typeString":"struct TriggerOrder storage ref"}},"nodeType":"VariableDeclarationStatement","src":"15985:45:46"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":46844,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":46838,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46834,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46829,"src":"16045:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46835,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16051:6:46","memberName":"trader","nodeType":"MemberAccess","referencedDeclaration":62102,"src":"16045:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":46836,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"16061:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46837,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16065:6:46","memberName":"sender","nodeType":"MemberAccess","src":"16061:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"16045:26:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":46843,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46839,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"16075:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46840,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16079:6:46","memberName":"sender","nodeType":"MemberAccess","src":"16075:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":46841,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30662,"src":"16089:5:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":46842,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16089:7:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"16075:21:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"16045:51:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46848,"nodeType":"IfStatement","src":"16041:76:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":46845,"name":"NOT_TRADER","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45851,"src":"16105:10:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":46846,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16105:12:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46847,"nodeType":"RevertStatement","src":"16098:19:46"}},{"expression":{"arguments":[{"expression":{"id":46850,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46829,"src":"16148:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46851,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16154:3:46","memberName":"amm","nodeType":"MemberAccess","referencedDeclaration":62105,"src":"16148:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":46852,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46824,"src":"16159:2:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":46853,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46829,"src":"16163:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":46854,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16169:6:46","memberName":"trader","nodeType":"MemberAccess","referencedDeclaration":62102,"src":"16163:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"hexValue":"30","id":46857,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"16185:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46856,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"16177:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46855,"name":"address","nodeType":"ElementaryTypeName","src":"16177:7:46","typeDescriptions":{}}},"id":46858,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16177:10:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":46849,"name":"_deleteTriggerOrder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48861,"src":"16128:19:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IRouter_$60678_$_t_uint256_$_t_address_$_t_address_$returns$__$","typeString":"function (contract IRouter,uint256,address,address)"}},"id":46859,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16128:60:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46860,"nodeType":"ExpressionStatement","src":"16128:60:46"}]},"documentation":{"id":46822,"nodeType":"StructuredDocumentation","src":"15804:117:46","text":" @notice deletes a trigger order 'id'\n \n @dev delegatecalls to the OrderCreator library"},"functionSelector":"da8c7e40","implemented":true,"kind":"function","modifiers":[],"name":"deleteTriggerOrder","nameLocation":"15935:18:46","parameters":{"id":46825,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46824,"mutability":"mutable","name":"id","nameLocation":"15962:2:46","nodeType":"VariableDeclaration","scope":46862,"src":"15954:10:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46823,"name":"uint256","nodeType":"ElementaryTypeName","src":"15954:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"15953:12:46"},"returnParameters":{"id":46826,"nodeType":"ParameterList","parameters":[],"src":"15975:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46919,"nodeType":"FunctionDefinition","src":"16471:348:46","nodes":[],"body":{"id":46918,"nodeType":"Block","src":"16539:280:46","nodes":[],"statements":[{"expression":{"arguments":[{"id":46874,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46866,"src":"16560:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":46873,"name":"_assertAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49900,"src":"16549:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter) view"}},"id":46875,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16549:15:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46876,"nodeType":"ExpressionStatement","src":"16549:15:46"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":46884,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":46878,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46866,"src":"16592:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":46879,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"16597:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46880,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16601:6:46","memberName":"sender","nodeType":"MemberAccess","src":"16597:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":46877,"name":"_getPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49086,"src":"16579:12:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$_t_struct$_Position_$62026_memory_ptr_$","typeString":"function (contract IRouter,address) view returns (struct Position memory)"}},"id":46881,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16579:29:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},"id":46882,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16609:4:46","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":62017,"src":"16579:34:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":46883,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"16617:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"16579:39:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46888,"nodeType":"IfStatement","src":"16575:65:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":46885,"name":"NO_POSITION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48087,"src":"16627:11:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":46886,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16627:13:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46887,"nodeType":"RevertStatement","src":"16620:20:46"}},{"expression":{"arguments":[{"expression":{"id":46892,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"16673:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46893,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16677:6:46","memberName":"sender","nodeType":"MemberAccess","src":"16673:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":46896,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"16693:4:46","typeDescriptions":{"typeIdentifier":"t_contract$_ClearingHouse_$47932","typeString":"contract ClearingHouse"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ClearingHouse_$47932","typeString":"contract ClearingHouse"}],"id":46895,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"16685:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46894,"name":"address","nodeType":"ElementaryTypeName","src":"16685:7:46","typeDescriptions":{}}},"id":46897,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16685:13:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46898,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46868,"src":"16700:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46889,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45877,"src":"16651:4:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16656:16:46","memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":37359,"src":"16651:21:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_address_$","typeString":"function (address,address,address,uint256)"}},"id":46899,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16651:56:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46900,"nodeType":"ExpressionStatement","src":"16651:56:46"},{"expression":{"id":46909,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"baseExpression":{"id":46901,"name":"positions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48115,"src":"16717:9:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_mapping$_t_address_$_t_struct$_Position_$62026_storage_$_$","typeString":"mapping(contract IRouter => mapping(address => struct Position storage ref))"}},"id":46905,"indexExpression":{"id":46902,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46866,"src":"16727:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16717:14:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$62026_storage_$","typeString":"mapping(address => struct Position storage ref)"}},"id":46906,"indexExpression":{"expression":{"id":46903,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"16732:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46904,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16736:6:46","memberName":"sender","nodeType":"MemberAccess","src":"16732:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16717:26:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_storage","typeString":"struct Position storage ref"}},"id":46907,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"16744:6:46","memberName":"margin","nodeType":"MemberAccess","referencedDeclaration":62019,"src":"16717:33:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":46908,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46868,"src":"16754:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16717:43:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46910,"nodeType":"ExpressionStatement","src":"16717:43:46"},{"eventCall":{"arguments":[{"id":46912,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46866,"src":"16788:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":46913,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"16793:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46914,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16797:6:46","memberName":"sender","nodeType":"MemberAccess","src":"16793:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46915,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46868,"src":"16805:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":46911,"name":"MarginAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45797,"src":"16776:11:46","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$_t_uint256_$returns$__$","typeString":"function (contract IRouter,address,uint256)"}},"id":46916,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16776:36:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46917,"nodeType":"EmitStatement","src":"16771:41:46"}]},"documentation":{"id":46863,"nodeType":"StructuredDocumentation","src":"16380:86:46","text":" \n @notice adds 'margin' to caller's position in 'amm'\n "},"functionSelector":"cf70cb69","implemented":true,"kind":"function","modifiers":[{"id":46871,"kind":"modifierInvocation","modifierName":{"id":46870,"name":"whenActive","nameLocations":["16528:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"16528:10:46"},"nodeType":"ModifierInvocation","src":"16528:10:46"}],"name":"addMargin","nameLocation":"16480:9:46","parameters":{"id":46869,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46866,"mutability":"mutable","name":"amm","nameLocation":"16498:3:46","nodeType":"VariableDeclaration","scope":46919,"src":"16490:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":46865,"nodeType":"UserDefinedTypeName","pathNode":{"id":46864,"name":"IRouter","nameLocations":["16490:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"16490:7:46"},"referencedDeclaration":60678,"src":"16490:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":46868,"mutability":"mutable","name":"margin","nameLocation":"16511:6:46","nodeType":"VariableDeclaration","scope":46919,"src":"16503:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46867,"name":"uint256","nodeType":"ElementaryTypeName","src":"16503:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"16489:29:46"},"returnParameters":{"id":46872,"nodeType":"ParameterList","parameters":[],"src":"16539:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47017,"nodeType":"FunctionDefinition","src":"16991:745:46","nodes":[],"body":{"id":47016,"nodeType":"Block","src":"17062:674:46","nodes":[],"statements":[{"expression":{"arguments":[{"id":46931,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46923,"src":"17083:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":46930,"name":"_assertAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49900,"src":"17072:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter) view"}},"id":46932,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17072:15:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46933,"nodeType":"ExpressionStatement","src":"17072:15:46"},{"assignments":[46936],"declarations":[{"constant":false,"id":46936,"mutability":"mutable","name":"position","nameLocation":"17114:8:46","nodeType":"VariableDeclaration","scope":47016,"src":"17098:24:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position"},"typeName":{"id":46935,"nodeType":"UserDefinedTypeName","pathNode":{"id":46934,"name":"Position","nameLocations":["17098:8:46"],"nodeType":"IdentifierPath","referencedDeclaration":62026,"src":"17098:8:46"},"referencedDeclaration":62026,"src":"17098:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_storage_ptr","typeString":"struct Position"}},"visibility":"internal"}],"id":46943,"initialValue":{"baseExpression":{"baseExpression":{"id":46937,"name":"positions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48115,"src":"17125:9:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_mapping$_t_address_$_t_struct$_Position_$62026_storage_$_$","typeString":"mapping(contract IRouter => mapping(address => struct Position storage ref))"}},"id":46939,"indexExpression":{"id":46938,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46923,"src":"17135:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"17125:14:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$62026_storage_$","typeString":"mapping(address => struct Position storage ref)"}},"id":46942,"indexExpression":{"expression":{"id":46940,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"17140:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46941,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17144:6:46","memberName":"sender","nodeType":"MemberAccess","src":"17140:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"17125:26:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_storage","typeString":"struct Position storage ref"}},"nodeType":"VariableDeclarationStatement","src":"17098:53:46"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46947,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46944,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46936,"src":"17166:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},"id":46945,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"17175:6:46","memberName":"margin","nodeType":"MemberAccess","referencedDeclaration":62019,"src":"17166:15:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":46946,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17185:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"17166:20:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46951,"nodeType":"IfStatement","src":"17162:46:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":46948,"name":"NO_POSITION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48087,"src":"17195:11:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":46949,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17195:13:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46950,"nodeType":"RevertStatement","src":"17188:20:46"}},{"assignments":[46954],"declarations":[{"constant":false,"id":46954,"mutability":"mutable","name":"marginCalcResponse","nameLocation":"17245:18:46","nodeType":"VariableDeclaration","scope":47016,"src":"17219:44:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MarginCalcResponse_$62293_memory_ptr","typeString":"struct MarginCalcResponse"},"typeName":{"id":46953,"nodeType":"UserDefinedTypeName","pathNode":{"id":46952,"name":"MarginCalcResponse","nameLocations":["17219:18:46"],"nodeType":"IdentifierPath","referencedDeclaration":62293,"src":"17219:18:46"},"referencedDeclaration":62293,"src":"17219:18:46","typeDescriptions":{"typeIdentifier":"t_struct$_MarginCalcResponse_$62293_storage_ptr","typeString":"struct MarginCalcResponse"}},"visibility":"internal"}],"id":46964,"initialValue":{"arguments":[{"id":46956,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46923,"src":"17290:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":46957,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46936,"src":"17295:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},{"arguments":[{"id":46961,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"17316:8:46","subExpression":{"hexValue":"31","id":46960,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17317:7:46","subdenomination":"ether","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1"},"typeDescriptions":{"typeIdentifier":"t_rational_minus_1000000000000000000_by_1","typeString":"int_const -1000000000000000000"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_minus_1000000000000000000_by_1","typeString":"int_const -1000000000000000000"}],"expression":{"id":46958,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46925,"src":"17305:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46959,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17312:3:46","memberName":"mul","nodeType":"MemberAccess","referencedDeclaration":61340,"src":"17305:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256,int256) pure returns (int256)"}},"id":46962,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17305:20:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":46955,"name":"_calcMarginAfterFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49003,"src":"17266:23:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$_t_int256_$returns$_t_struct$_MarginCalcResponse_$62293_memory_ptr_$","typeString":"function (contract IRouter,struct Position memory,int256) view returns (struct MarginCalcResponse memory)"}},"id":46963,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17266:60:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_MarginCalcResponse_$62293_memory_ptr","typeString":"struct MarginCalcResponse memory"}},"nodeType":"VariableDeclarationStatement","src":"17219:107:46"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46968,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46965,"name":"marginCalcResponse","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46954,"src":"17341:18:46","typeDescriptions":{"typeIdentifier":"t_struct$_MarginCalcResponse_$62293_memory_ptr","typeString":"struct MarginCalcResponse memory"}},"id":46966,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"17360:7:46","memberName":"badDebt","nodeType":"MemberAccess","referencedDeclaration":62290,"src":"17341:26:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":46967,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17371:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"17341:31:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46972,"nodeType":"IfStatement","src":"17337:54:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":46969,"name":"BAD_DEBT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48095,"src":"17381:8:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":46970,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17381:10:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46971,"nodeType":"RevertStatement","src":"17374:17:46"}},{"expression":{"id":46978,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":46973,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46936,"src":"17402:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},"id":46975,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"17411:6:46","memberName":"margin","nodeType":"MemberAccess","referencedDeclaration":62019,"src":"17402:15:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":46976,"name":"marginCalcResponse","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46954,"src":"17420:18:46","typeDescriptions":{"typeIdentifier":"t_struct$_MarginCalcResponse_$62293_memory_ptr","typeString":"struct MarginCalcResponse memory"}},"id":46977,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"17439:15:46","memberName":"remainingMargin","nodeType":"MemberAccess","referencedDeclaration":62292,"src":"17420:34:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17402:52:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46979,"nodeType":"ExpressionStatement","src":"17402:52:46"},{"expression":{"id":46985,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":46980,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46936,"src":"17464:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},"id":46982,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"17473:19:46","memberName":"lastPremiumFraction","nodeType":"MemberAccess","referencedDeclaration":62023,"src":"17464:28:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":46983,"name":"marginCalcResponse","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46954,"src":"17495:18:46","typeDescriptions":{"typeIdentifier":"t_struct$_MarginCalcResponse_$62293_memory_ptr","typeString":"struct MarginCalcResponse memory"}},"id":46984,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"17514:15:46","memberName":"premiumFraction","nodeType":"MemberAccess","referencedDeclaration":62286,"src":"17495:34:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"17464:65:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":46986,"nodeType":"ExpressionStatement","src":"17464:65:46"},{"expression":{"arguments":[{"id":46988,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46923,"src":"17565:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":46989,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46936,"src":"17570:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}],"id":46987,"name":"_assertMinFreeCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47870,"src":"17540:24:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$returns$__$","typeString":"function (contract IRouter,struct Position memory)"}},"id":46990,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17540:39:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46991,"nodeType":"ExpressionStatement","src":"17540:39:46"},{"expression":{"id":46999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":46992,"name":"positions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48115,"src":"17590:9:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_mapping$_t_address_$_t_struct$_Position_$62026_storage_$_$","typeString":"mapping(contract IRouter => mapping(address => struct Position storage ref))"}},"id":46996,"indexExpression":{"id":46993,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46923,"src":"17600:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"17590:14:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$62026_storage_$","typeString":"mapping(address => struct Position storage ref)"}},"id":46997,"indexExpression":{"expression":{"id":46994,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"17605:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46995,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17609:6:46","memberName":"sender","nodeType":"MemberAccess","src":"17605:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"17590:26:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_storage","typeString":"struct Position storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46998,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46936,"src":"17619:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},"src":"17590:37:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_storage","typeString":"struct Position storage ref"}},"id":47000,"nodeType":"ExpressionStatement","src":"17590:37:46"},{"expression":{"arguments":[{"expression":{"id":47004,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"17656:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47005,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17660:6:46","memberName":"sender","nodeType":"MemberAccess","src":"17656:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47006,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46925,"src":"17668:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":47001,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45877,"src":"17638:4:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47003,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17643:12:46","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":37385,"src":"17638:17:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_address_$","typeString":"function (address,address,uint256)"}},"id":47007,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17638:37:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47008,"nodeType":"ExpressionStatement","src":"17638:37:46"},{"eventCall":{"arguments":[{"id":47010,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46923,"src":"17705:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":47011,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"17710:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47012,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17714:6:46","memberName":"sender","nodeType":"MemberAccess","src":"17710:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47013,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46925,"src":"17722:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47009,"name":"MarginRemoved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45806,"src":"17691:13:46","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$_t_uint256_$returns$__$","typeString":"function (contract IRouter,address,uint256)"}},"id":47014,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17691:38:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47015,"nodeType":"EmitStatement","src":"17686:43:46"}]},"documentation":{"id":46920,"nodeType":"StructuredDocumentation","src":"16825:161:46","text":" @notice removes 'margin' from caller's position in 'amm'\n \n @dev must meet a min free collateral requirement after removing margin"},"functionSelector":"b959d695","implemented":true,"kind":"function","modifiers":[{"id":46928,"kind":"modifierInvocation","modifierName":{"id":46927,"name":"whenActive","nameLocations":["17051:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"17051:10:46"},"nodeType":"ModifierInvocation","src":"17051:10:46"}],"name":"removeMargin","nameLocation":"17000:12:46","parameters":{"id":46926,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46923,"mutability":"mutable","name":"amm","nameLocation":"17021:3:46","nodeType":"VariableDeclaration","scope":47017,"src":"17013:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":46922,"nodeType":"UserDefinedTypeName","pathNode":{"id":46921,"name":"IRouter","nameLocations":["17013:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"17013:7:46"},"referencedDeclaration":60678,"src":"17013:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":46925,"mutability":"mutable","name":"margin","nameLocation":"17034:6:46","nodeType":"VariableDeclaration","scope":47017,"src":"17026:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46924,"name":"uint256","nodeType":"ElementaryTypeName","src":"17026:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"17012:29:46"},"returnParameters":{"id":46929,"nodeType":"ParameterList","parameters":[],"src":"17062:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47064,"nodeType":"FunctionDefinition","src":"18050:620:46","nodes":[],"body":{"id":47063,"nodeType":"Block","src":"18106:564:46","nodes":[],"statements":[{"expression":{"arguments":[{"id":47027,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47021,"src":"18127:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":47026,"name":"_assertAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49900,"src":"18116:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter) view"}},"id":47028,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18116:15:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47029,"nodeType":"ExpressionStatement","src":"18116:15:46"},{"assignments":[47031,47033,47035],"declarations":[{"constant":false,"id":47031,"mutability":"mutable","name":"premiumFraction","nameLocation":"18163:15:46","nodeType":"VariableDeclaration","scope":47063,"src":"18156:22:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47030,"name":"int256","nodeType":"ElementaryTypeName","src":"18156:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":47033,"mutability":"mutable","name":"markPrice","nameLocation":"18201:9:46","nodeType":"VariableDeclaration","scope":47063,"src":"18193:17:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47032,"name":"uint256","nodeType":"ElementaryTypeName","src":"18193:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47035,"mutability":"mutable","name":"indexPrice","nameLocation":"18233:10:46","nodeType":"VariableDeclaration","scope":47063,"src":"18225:18:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47034,"name":"uint256","nodeType":"ElementaryTypeName","src":"18225:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47039,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47036,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47021,"src":"18256:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"id":47037,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18260:13:46","memberName":"settleFunding","nodeType":"MemberAccess","referencedDeclaration":60540,"src":"18256:17:46","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$__$returns$_t_int256_$_t_uint256_$_t_uint256_$","typeString":"function () external returns (int256,uint256,uint256)"}},"id":47038,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18256:19:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_uint256_$_t_uint256_$","typeString":"tuple(int256,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"18142:133:46"},{"assignments":[47041],"declarations":[{"constant":false,"id":47041,"mutability":"mutable","name":"_cumulativePremiumFraction","nameLocation":"18318:26:46","nodeType":"VariableDeclaration","scope":47063,"src":"18311:33:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47040,"name":"int256","nodeType":"ElementaryTypeName","src":"18311:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":47045,"initialValue":{"baseExpression":{"id":47042,"name":"cumulativePremiumFractions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48146,"src":"18347:26:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_int256_$","typeString":"mapping(contract IRouter => int256)"}},"id":47044,"indexExpression":{"id":47043,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47021,"src":"18374:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"18347:31:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"18311:67:46"},{"expression":{"id":47048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47046,"name":"_cumulativePremiumFraction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47041,"src":"18435:26:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":47047,"name":"premiumFraction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47031,"src":"18465:15:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"18435:45:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":47049,"nodeType":"ExpressionStatement","src":"18435:45:46"},{"expression":{"id":47054,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47050,"name":"cumulativePremiumFractions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48146,"src":"18517:26:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_int256_$","typeString":"mapping(contract IRouter => int256)"}},"id":47052,"indexExpression":{"id":47051,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47021,"src":"18544:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"18517:31:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47053,"name":"_cumulativePremiumFraction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47041,"src":"18551:26:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"18517:60:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":47055,"nodeType":"ExpressionStatement","src":"18517:60:46"},{"eventCall":{"arguments":[{"id":47057,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47021,"src":"18608:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47058,"name":"markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47033,"src":"18613:9:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47059,"name":"indexPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47035,"src":"18624:10:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47060,"name":"_cumulativePremiumFraction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47041,"src":"18636:26:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":47056,"name":"FundingSettled","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45831,"src":"18593:14:46","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_contract$_IRouter_$60678_$_t_uint256_$_t_uint256_$_t_int256_$returns$__$","typeString":"function (contract IRouter,uint256,uint256,int256)"}},"id":47061,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18593:70:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47062,"nodeType":"EmitStatement","src":"18588:75:46"}]},"documentation":{"id":47018,"nodeType":"StructuredDocumentation","src":"17929:116:46","text":" @notice settles funding for 'amm'\n \n @dev will revert if funding period hasn't passed"},"functionSelector":"6b17ad03","implemented":true,"kind":"function","modifiers":[{"id":47024,"kind":"modifierInvocation","modifierName":{"id":47023,"name":"whenActive","nameLocations":["18095:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"18095:10:46"},"nodeType":"ModifierInvocation","src":"18095:10:46"}],"name":"settleFunding","nameLocation":"18059:13:46","parameters":{"id":47022,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47021,"mutability":"mutable","name":"amm","nameLocation":"18081:3:46","nodeType":"VariableDeclaration","scope":47064,"src":"18073:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47020,"nodeType":"UserDefinedTypeName","pathNode":{"id":47019,"name":"IRouter","nameLocations":["18073:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"18073:7:46"},"referencedDeclaration":60678,"src":"18073:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"}],"src":"18072:13:46"},"returnParameters":{"id":47025,"nodeType":"ParameterList","parameters":[],"src":"18106:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47147,"nodeType":"FunctionDefinition","src":"19491:671:46","nodes":[],"body":{"id":47146,"nodeType":"Block","src":"19634:528:46","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":47087,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":47081,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"19656:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}],"id":47080,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"19648:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47079,"name":"address","nodeType":"ElementaryTypeName","src":"19648:7:46","typeDescriptions":{}}},"id":47082,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19648:18:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":47085,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19678:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47084,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"19670:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47083,"name":"address","nodeType":"ElementaryTypeName","src":"19670:7:46","typeDescriptions":{}}},"id":47086,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19670:10:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"19648:32:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47095,"nodeType":"IfStatement","src":"19644:75:46","trueBody":{"expression":{"arguments":[{"expression":{"id":47091,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"19708:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47092,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19712:6:46","memberName":"sender","nodeType":"MemberAccess","src":"19708:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":47088,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"19682:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}},"id":47090,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19692:15:46","memberName":"assertWhitelist","nodeType":"MemberAccess","referencedDeclaration":60685,"src":"19682:25:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$__$","typeString":"function (address) view external"}},"id":47093,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19682:37:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47094,"nodeType":"ExpressionStatement","src":"19682:37:46"}},{"expression":{"arguments":[{"id":47097,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47068,"src":"19741:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":47096,"name":"_assertAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49900,"src":"19730:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter) view"}},"id":47098,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19730:15:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47099,"nodeType":"ExpressionStatement","src":"19730:15:46"},{"assignments":[47102],"declarations":[{"constant":false,"id":47102,"mutability":"mutable","name":"position","nameLocation":"19772:8:46","nodeType":"VariableDeclaration","scope":47146,"src":"19756:24:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position"},"typeName":{"id":47101,"nodeType":"UserDefinedTypeName","pathNode":{"id":47100,"name":"Position","nameLocations":["19756:8:46"],"nodeType":"IdentifierPath","referencedDeclaration":62026,"src":"19756:8:46"},"referencedDeclaration":62026,"src":"19756:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_storage_ptr","typeString":"struct Position"}},"visibility":"internal"}],"id":47107,"initialValue":{"arguments":[{"id":47104,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47068,"src":"19796:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47105,"name":"liquidatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47072,"src":"19801:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":47103,"name":"_getPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49086,"src":"19783:12:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$_t_struct$_Position_$62026_memory_ptr_$","typeString":"function (contract IRouter,address) view returns (struct Position memory)"}},"id":47106,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19783:29:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},"nodeType":"VariableDeclarationStatement","src":"19756:56:46"},{"condition":{"id":47112,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"19827:31:46","subExpression":{"arguments":[{"id":47109,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47068,"src":"19844:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47110,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47102,"src":"19849:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}],"id":47108,"name":"_isLiquidatable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49068,"src":"19828:15:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$returns$_t_bool_$","typeString":"function (contract IRouter,struct Position memory) view returns (bool)"}},"id":47111,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19828:30:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47116,"nodeType":"IfStatement","src":"19823:62:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":47113,"name":"NOT_LIQUIDATABLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45857,"src":"19867:16:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":47114,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19867:18:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47115,"nodeType":"RevertStatement","src":"19860:25:46"}},{"expression":{"arguments":[{"expression":{"id":47120,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"19918:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47121,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19922:6:46","memberName":"sender","nodeType":"MemberAccess","src":"19918:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":47124,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"19938:4:46","typeDescriptions":{"typeIdentifier":"t_contract$_ClearingHouse_$47932","typeString":"contract ClearingHouse"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ClearingHouse_$47932","typeString":"contract ClearingHouse"}],"id":47123,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"19930:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47122,"name":"address","nodeType":"ElementaryTypeName","src":"19930:7:46","typeDescriptions":{}}},"id":47125,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19930:13:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47126,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47074,"src":"19945:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":47117,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45877,"src":"19896:4:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47119,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19901:16:46","memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":37359,"src":"19896:21:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_address_$","typeString":"function (address,address,address,uint256)"}},"id":47127,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19896:56:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47128,"nodeType":"ExpressionStatement","src":"19896:56:46"},{"expression":{"arguments":[{"arguments":[{"expression":{"id":47134,"name":"IPositionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60315,"src":"20044:15:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPositionMerger_$60315_$","typeString":"type(contract IPositionMerger)"}},"id":47135,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"20060:9:46","memberName":"liquidate","nodeType":"MemberAccess","referencedDeclaration":60283,"src":"20044:25:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function IPositionMerger.liquidate(contract IRouter,address,address,uint256,uint256)"}},{"components":[{"id":47136,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47068,"src":"20089:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47137,"name":"liquidatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47072,"src":"20094:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":47138,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"20106:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47139,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20110:6:46","memberName":"sender","nodeType":"MemberAccess","src":"20106:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47140,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47070,"src":"20118:4:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47141,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47074,"src":"20124:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":47142,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"20088:43:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_uint256_$_t_uint256_$","typeString":"tuple(contract IRouter,address,address,uint256,uint256)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function IPositionMerger.liquidate(contract IRouter,address,address,uint256,uint256)"},{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_uint256_$_t_uint256_$","typeString":"tuple(contract IRouter,address,address,uint256,uint256)"}],"expression":{"id":47132,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"20012:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":47133,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"20016:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"20012:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":47143,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20012:133:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":47129,"name":"positionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45881,"src":"19963:14:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47131,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19978:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"19963:35:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":47144,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19963:192:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":47145,"nodeType":"ExpressionStatement","src":"19963:192:46"}]},"documentation":{"id":47065,"nodeType":"StructuredDocumentation","src":"18676:810:46","text":" @notice liquidates 'amm' position 'size' of 'liquidatee' \n @notice merges 'liquidatee' position 'size' with caller\n \n @dev will revert if liquidatee is not liquidatable\n @dev may result in a decrease, close, or reverse-open for caller\n @dev partial liquidations will revert if liquidatee has bad debt\n @dev if full liquidation, caller will get 2.5% of liquidatee notional position \n      added to new position\n @dev if partial liquidation, caller will get 2.5% / 2 of liquidatee notional position\n      added to new position\n @dev will revert if caller's position is liquidatable after merge\n @dev delegatecalls to the PositionMerger library\n \n @param margin — margin to add to new caller position (can be zero)"},"functionSelector":"9457be23","implemented":true,"kind":"function","modifiers":[{"id":47077,"kind":"modifierInvocation","modifierName":{"id":47076,"name":"whenActive","nameLocations":["19623:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"19623:10:46"},"nodeType":"ModifierInvocation","src":"19623:10:46"}],"name":"liquidate","nameLocation":"19500:9:46","parameters":{"id":47075,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47068,"mutability":"mutable","name":"amm","nameLocation":"19527:3:46","nodeType":"VariableDeclaration","scope":47147,"src":"19519:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47067,"nodeType":"UserDefinedTypeName","pathNode":{"id":47066,"name":"IRouter","nameLocations":["19519:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"19519:7:46"},"referencedDeclaration":60678,"src":"19519:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47070,"mutability":"mutable","name":"size","nameLocation":"19549:4:46","nodeType":"VariableDeclaration","scope":47147,"src":"19541:12:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47069,"name":"uint256","nodeType":"ElementaryTypeName","src":"19541:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47072,"mutability":"mutable","name":"liquidatee","nameLocation":"19572:10:46","nodeType":"VariableDeclaration","scope":47147,"src":"19564:18:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47071,"name":"address","nodeType":"ElementaryTypeName","src":"19564:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47074,"mutability":"mutable","name":"margin","nameLocation":"19601:6:46","nodeType":"VariableDeclaration","scope":47147,"src":"19593:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47073,"name":"uint256","nodeType":"ElementaryTypeName","src":"19593:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"19509:104:46"},"returnParameters":{"id":47078,"nodeType":"ParameterList","parameters":[],"src":"19634:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47228,"nodeType":"FunctionDefinition","src":"20706:916:46","nodes":[],"body":{"id":47227,"nodeType":"Block","src":"20831:791:46","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":47168,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":47162,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"20853:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}],"id":47161,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"20845:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47160,"name":"address","nodeType":"ElementaryTypeName","src":"20845:7:46","typeDescriptions":{}}},"id":47163,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20845:18:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":47166,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20875:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":47165,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"20867:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47164,"name":"address","nodeType":"ElementaryTypeName","src":"20867:7:46","typeDescriptions":{}}},"id":47167,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20867:10:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"20845:32:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47176,"nodeType":"IfStatement","src":"20841:75:46","trueBody":{"expression":{"arguments":[{"expression":{"id":47172,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"20905:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47173,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20909:6:46","memberName":"sender","nodeType":"MemberAccess","src":"20905:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":47169,"name":"whitelist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45891,"src":"20879:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IWhitelist_$60686","typeString":"contract IWhitelist"}},"id":47171,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20889:15:46","memberName":"assertWhitelist","nodeType":"MemberAccess","referencedDeclaration":60685,"src":"20879:25:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$__$","typeString":"function (address) view external"}},"id":47174,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20879:37:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47175,"nodeType":"ExpressionStatement","src":"20879:37:46"}},{"expression":{"arguments":[{"id":47178,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47151,"src":"20938:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":47177,"name":"_assertAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49900,"src":"20927:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter) view"}},"id":47179,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20927:15:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47180,"nodeType":"ExpressionStatement","src":"20927:15:46"},{"assignments":[47182,47184,47186],"declarations":[{"constant":false,"id":47182,"mutability":"mutable","name":"size","nameLocation":"20974:4:46","nodeType":"VariableDeclaration","scope":47227,"src":"20967:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47181,"name":"int256","nodeType":"ElementaryTypeName","src":"20967:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":47184,"mutability":"mutable","name":"openNotional","nameLocation":"21001:12:46","nodeType":"VariableDeclaration","scope":47227,"src":"20993:20:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47183,"name":"uint256","nodeType":"ElementaryTypeName","src":"20993:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47186,"mutability":"mutable","name":"liquidateeMargin","nameLocation":"21034:16:46","nodeType":"VariableDeclaration","scope":47227,"src":"21027:23:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47185,"name":"int256","nodeType":"ElementaryTypeName","src":"21027:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":47191,"initialValue":{"arguments":[{"id":47189,"name":"liquidatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47153,"src":"21082:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":47187,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47151,"src":"21063:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"id":47188,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21067:14:46","memberName":"liquidateMaker","nodeType":"MemberAccess","referencedDeclaration":60481,"src":"21063:18:46","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$returns$_t_int256_$_t_uint256_$_t_int256_$","typeString":"function (address) external returns (int256,uint256,int256)"}},"id":47190,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21063:30:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_uint256_$_t_int256_$","typeString":"tuple(int256,uint256,int256)"}},"nodeType":"VariableDeclarationStatement","src":"20953:140:46"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47194,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47192,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47155,"src":"21108:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":47193,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"21118:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"21108:11:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47207,"nodeType":"IfStatement","src":"21104:73:46","trueBody":{"expression":{"arguments":[{"expression":{"id":47198,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"21143:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47199,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21147:6:46","memberName":"sender","nodeType":"MemberAccess","src":"21143:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":47202,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"21163:4:46","typeDescriptions":{"typeIdentifier":"t_contract$_ClearingHouse_$47932","typeString":"contract ClearingHouse"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ClearingHouse_$47932","typeString":"contract ClearingHouse"}],"id":47201,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"21155:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":47200,"name":"address","nodeType":"ElementaryTypeName","src":"21155:7:46","typeDescriptions":{}}},"id":47203,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21155:13:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47204,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47155,"src":"21170:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":47195,"name":"weth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45877,"src":"21121:4:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47197,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21126:16:46","memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":37359,"src":"21121:21:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_address_$","typeString":"function (address,address,address,uint256)"}},"id":47205,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21121:56:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47206,"nodeType":"ExpressionStatement","src":"21121:56:46"}},{"expression":{"arguments":[{"arguments":[{"expression":{"id":47213,"name":"IPositionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60315,"src":"21269:15:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPositionMerger_$60315_$","typeString":"type(contract IPositionMerger)"}},"id":47214,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"21285:14:46","memberName":"liquidateMaker","nodeType":"MemberAccess","referencedDeclaration":60301,"src":"21269:30:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_int256_$_t_uint256_$_t_int256_$_t_uint256_$returns$__$","typeString":"function IPositionMerger.liquidateMaker(contract IRouter,address,address,int256,uint256,int256,uint256)"}},{"components":[{"id":47215,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47151,"src":"21339:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":47216,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"21380:3:46","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47217,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21384:6:46","memberName":"sender","nodeType":"MemberAccess","src":"21380:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47218,"name":"liquidatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47153,"src":"21423:10:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47219,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47182,"src":"21469:4:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":47220,"name":"openNotional","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47184,"src":"21495:12:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47221,"name":"liquidateeMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47186,"src":"21529:16:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":47222,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47155,"src":"21567:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":47223,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"21317:274:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_int256_$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(contract IRouter,address,address,int256,uint256,int256,uint256)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_int256_$_t_uint256_$_t_int256_$_t_uint256_$returns$__$","typeString":"function IPositionMerger.liquidateMaker(contract IRouter,address,address,int256,uint256,int256,uint256)"},{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_int256_$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(contract IRouter,address,address,int256,uint256,int256,uint256)"}],"expression":{"id":47211,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"21237:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":47212,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"21241:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"21237:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":47224,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21237:368:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":47208,"name":"positionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45881,"src":"21188:14:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47210,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21203:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"21188:35:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":47225,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21188:427:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":47226,"nodeType":"ExpressionStatement","src":"21188:427:46"}]},"documentation":{"id":47148,"nodeType":"StructuredDocumentation","src":"20168:533:46","text":" @notice liquidates 'liquidatee' LP position in 'amm'\n @notice merges 'liquidatee' impermanent position with caller\n \n @dev will revert if liquidatee impermanent position is not liquidatable\n @dev will revert if caller's position is liquidatable after merge\n @dev may result in a decrease, close, or reverse-open for caller\n @dev caller will get 2.5% of liquidatee impermanent notional position \n \n @param margin — margin to add to new caller position (can be zero)"},"functionSelector":"7aefce97","implemented":true,"kind":"function","modifiers":[{"id":47158,"kind":"modifierInvocation","modifierName":{"id":47157,"name":"whenActive","nameLocations":["20820:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62546,"src":"20820:10:46"},"nodeType":"ModifierInvocation","src":"20820:10:46"}],"name":"liquidateMaker","nameLocation":"20715:14:46","parameters":{"id":47156,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47151,"mutability":"mutable","name":"amm","nameLocation":"20747:3:46","nodeType":"VariableDeclaration","scope":47228,"src":"20739:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47150,"nodeType":"UserDefinedTypeName","pathNode":{"id":47149,"name":"IRouter","nameLocations":["20739:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"20739:7:46"},"referencedDeclaration":60678,"src":"20739:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47153,"mutability":"mutable","name":"liquidatee","nameLocation":"20769:10:46","nodeType":"VariableDeclaration","scope":47228,"src":"20761:18:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47152,"name":"address","nodeType":"ElementaryTypeName","src":"20761:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47155,"mutability":"mutable","name":"margin","nameLocation":"20798:6:46","nodeType":"VariableDeclaration","scope":47228,"src":"20790:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47154,"name":"uint256","nodeType":"ElementaryTypeName","src":"20790:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"20729:81:46"},"returnParameters":{"id":47159,"nodeType":"ParameterList","parameters":[],"src":"20831:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47268,"nodeType":"FunctionDefinition","src":"22002:288:46","nodes":[],"body":{"id":47267,"nodeType":"Block","src":"22067:223:46","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":47244,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47240,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"22081:6:46","subExpression":{"id":47239,"name":"valid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47234,"src":"22082:5:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47241,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47232,"src":"22091:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"id":47242,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"22095:8:46","memberName":"isActive","nodeType":"MemberAccess","referencedDeclaration":60531,"src":"22091:12:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_bool_$","typeString":"function () view external returns (bool)"}},"id":47243,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22091:14:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"22081:24:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47248,"nodeType":"IfStatement","src":"22077:52:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":47245,"name":"AMM_IS_ACTIVE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45853,"src":"22114:13:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":47246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22114:15:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47247,"nodeType":"RevertStatement","src":"22107:22:46"}},{"expression":{"id":47253,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":47249,"name":"validAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48141,"src":"22139:8:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_bool_$","typeString":"mapping(contract IRouter => bool)"}},"id":47251,"indexExpression":{"id":47250,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47232,"src":"22148:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"22139:13:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47252,"name":"valid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47234,"src":"22155:5:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"22139:21:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47254,"nodeType":"ExpressionStatement","src":"22139:21:46"},{"condition":{"id":47255,"name":"valid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47234,"src":"22175:5:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":47265,"nodeType":"Block","src":"22235:49:46","statements":[{"eventCall":{"arguments":[{"id":47262,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47232,"src":"22269:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":47261,"name":"AMMInvalidated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45841,"src":"22254:14:46","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter)"}},"id":47263,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22254:19:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47264,"nodeType":"EmitStatement","src":"22249:24:46"}]},"id":47266,"nodeType":"IfStatement","src":"22171:113:46","trueBody":{"id":47260,"nodeType":"Block","src":"22182:47:46","statements":[{"eventCall":{"arguments":[{"id":47257,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47232,"src":"22214:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":47256,"name":"AMMValidated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45836,"src":"22201:12:46","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter)"}},"id":47258,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22201:17:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47259,"nodeType":"EmitStatement","src":"22196:22:46"}]}}]},"documentation":{"id":47229,"nodeType":"StructuredDocumentation","src":"21818:179:46","text":" @notice sets \"validAMM\" to true or false for protocol\n \n @dev will revert if amm is active and setting to invalid\n @dev only callable by owner"},"functionSelector":"207b5b6f","implemented":true,"kind":"function","modifiers":[{"id":47237,"kind":"modifierInvocation","modifierName":{"id":47236,"name":"onlyOwner","nameLocations":["22057:9:46"],"nodeType":"IdentifierPath","referencedDeclaration":30680,"src":"22057:9:46"},"nodeType":"ModifierInvocation","src":"22057:9:46"}],"name":"setValidAMM","nameLocation":"22011:11:46","parameters":{"id":47235,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47232,"mutability":"mutable","name":"amm","nameLocation":"22031:3:46","nodeType":"VariableDeclaration","scope":47268,"src":"22023:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47231,"nodeType":"UserDefinedTypeName","pathNode":{"id":47230,"name":"IRouter","nameLocations":["22023:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"22023:7:46"},"referencedDeclaration":60678,"src":"22023:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47234,"mutability":"mutable","name":"valid","nameLocation":"22041:5:46","nodeType":"VariableDeclaration","scope":47268,"src":"22036:10:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":47233,"name":"bool","nodeType":"ElementaryTypeName","src":"22036:4:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"22022:25:46"},"returnParameters":{"id":47238,"nodeType":"ParameterList","parameters":[],"src":"22067:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47285,"nodeType":"FunctionDefinition","src":"22402:168:46","nodes":[],"body":{"id":47284,"nodeType":"Block","src":"22471:99:46","nodes":[],"statements":[{"expression":{"id":47278,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47276,"name":"divergenceCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48191,"src":"22481:13:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47277,"name":"_divergenceCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47271,"src":"22497:14:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"22481:30:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47279,"nodeType":"ExpressionStatement","src":"22481:30:46"},{"eventCall":{"arguments":[{"id":47281,"name":"_divergenceCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47271,"src":"22548:14:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47280,"name":"DivergenceCapChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45845,"src":"22527:20:46","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":47282,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22527:36:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47283,"nodeType":"EmitStatement","src":"22522:41:46"}]},"documentation":{"id":47269,"nodeType":"StructuredDocumentation","src":"22296:101:46","text":" @notice sets mark/index \"divergenceCap\"\n \n @dev only callable by owner"},"functionSelector":"f8b6e449","implemented":true,"kind":"function","modifiers":[{"id":47274,"kind":"modifierInvocation","modifierName":{"id":47273,"name":"onlyOwner","nameLocations":["22461:9:46"],"nodeType":"IdentifierPath","referencedDeclaration":30680,"src":"22461:9:46"},"nodeType":"ModifierInvocation","src":"22461:9:46"}],"name":"setDivergenceCap","nameLocation":"22411:16:46","parameters":{"id":47272,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47271,"mutability":"mutable","name":"_divergenceCap","nameLocation":"22436:14:46","nodeType":"VariableDeclaration","scope":47285,"src":"22428:22:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47270,"name":"uint256","nodeType":"ElementaryTypeName","src":"22428:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"22427:24:46"},"returnParameters":{"id":47275,"nodeType":"ParameterList","parameters":[],"src":"22471:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47302,"nodeType":"FunctionDefinition","src":"22709:168:46","nodes":[],"body":{"id":47301,"nodeType":"Block","src":"22778:99:46","nodes":[],"statements":[{"expression":{"id":47295,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47293,"name":"minOrderbookMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48193,"src":"22788:18:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":47294,"name":"minMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47288,"src":"22809:9:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"22788:30:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47296,"nodeType":"ExpressionStatement","src":"22788:30:46"},{"eventCall":{"arguments":[{"id":47298,"name":"minMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47288,"src":"22860:9:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47297,"name":"MinOrderbookMarginChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45849,"src":"22834:25:46","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":47299,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22834:36:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47300,"nodeType":"EmitStatement","src":"22829:41:46"}]},"documentation":{"id":47286,"nodeType":"StructuredDocumentation","src":"22576:128:46","text":" @notice sets \"minOrderbookMargin\" for non reduce-only limit orders\n \n @dev only callable by owner"},"functionSelector":"e3046770","implemented":true,"kind":"function","modifiers":[{"id":47291,"kind":"modifierInvocation","modifierName":{"id":47290,"name":"onlyOwner","nameLocations":["22768:9:46"],"nodeType":"IdentifierPath","referencedDeclaration":30680,"src":"22768:9:46"},"nodeType":"ModifierInvocation","src":"22768:9:46"}],"name":"setMinOrderbookMargin","nameLocation":"22718:21:46","parameters":{"id":47289,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47288,"mutability":"mutable","name":"minMargin","nameLocation":"22748:9:46","nodeType":"VariableDeclaration","scope":47302,"src":"22740:17:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47287,"name":"uint256","nodeType":"ElementaryTypeName","src":"22740:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"22739:19:46"},"returnParameters":{"id":47292,"nodeType":"ParameterList","parameters":[],"src":"22778:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47337,"nodeType":"FunctionDefinition","src":"23152:349:46","nodes":[],"body":{"id":47336,"nodeType":"Block","src":"23289:212:46","nodes":[],"statements":[{"expression":{"arguments":[{"id":47318,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47306,"src":"23310:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}],"id":47317,"name":"_assertAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49900,"src":"23299:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$returns$__$","typeString":"function (contract IRouter) view"}},"id":47319,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23299:15:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47320,"nodeType":"ExpressionStatement","src":"23299:15:46"},{"expression":{"arguments":[{"arguments":[{"expression":{"id":47326,"name":"IDeleverager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":59678,"src":"23403:12:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDeleverager_$59678_$","typeString":"type(contract IDeleverager)"}},"id":47327,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"23416:10:46","memberName":"deleverage","nodeType":"MemberAccess","referencedDeclaration":59677,"src":"23403:23:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function IDeleverager.deleverage(contract IRouter,address,address,uint256)"}},{"components":[{"id":47328,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47306,"src":"23446:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47329,"name":"taker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47308,"src":"23451:5:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47330,"name":"maker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47310,"src":"23458:5:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":47331,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47312,"src":"23465:4:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":47332,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"23445:25:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_uint256_$","typeString":"tuple(contract IRouter,address,address,uint256)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function IDeleverager.deleverage(contract IRouter,address,address,uint256)"},{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_address_$_t_address_$_t_uint256_$","typeString":"tuple(contract IRouter,address,address,uint256)"}],"expression":{"id":47324,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"23371:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":47325,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"23375:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"23371:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":47333,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23371:113:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":47321,"name":"deleverager","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45883,"src":"23325:11:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23337:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"23325:32:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":47334,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23325:169:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":47335,"nodeType":"ExpressionStatement","src":"23325:169:46"}]},"documentation":{"id":47303,"nodeType":"StructuredDocumentation","src":"22883:264:46","text":" @notice performs ADL trade on underwater 'maker' and above water 'taker' positions\n         in 'amm' for 'size'\n \n @dev will revert if maker has no bad debt or if taker has insufficient margin\n @dev only callable by owner"},"functionSelector":"25a208a2","implemented":true,"kind":"function","modifiers":[{"id":47315,"kind":"modifierInvocation","modifierName":{"id":47314,"name":"onlyOwner","nameLocations":["23279:9:46"],"nodeType":"IdentifierPath","referencedDeclaration":30680,"src":"23279:9:46"},"nodeType":"ModifierInvocation","src":"23279:9:46"}],"name":"deleverage","nameLocation":"23161:10:46","parameters":{"id":47313,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47306,"mutability":"mutable","name":"amm","nameLocation":"23189:3:46","nodeType":"VariableDeclaration","scope":47337,"src":"23181:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47305,"nodeType":"UserDefinedTypeName","pathNode":{"id":47304,"name":"IRouter","nameLocations":["23181:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"23181:7:46"},"referencedDeclaration":60678,"src":"23181:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47308,"mutability":"mutable","name":"taker","nameLocation":"23211:5:46","nodeType":"VariableDeclaration","scope":47337,"src":"23203:13:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47307,"name":"address","nodeType":"ElementaryTypeName","src":"23203:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47310,"mutability":"mutable","name":"maker","nameLocation":"23235:5:46","nodeType":"VariableDeclaration","scope":47337,"src":"23227:13:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47309,"name":"address","nodeType":"ElementaryTypeName","src":"23227:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47312,"mutability":"mutable","name":"size","nameLocation":"23259:4:46","nodeType":"VariableDeclaration","scope":47337,"src":"23251:12:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47311,"name":"uint256","nodeType":"ElementaryTypeName","src":"23251:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"23171:98:46"},"returnParameters":{"id":47316,"nodeType":"ParameterList","parameters":[],"src":"23289:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47350,"nodeType":"FunctionDefinition","src":"23687:100:46","nodes":[],"body":{"id":47349,"nodeType":"Block","src":"23750:37:46","nodes":[],"statements":[{"expression":{"baseExpression":{"id":47345,"name":"validAMM","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48141,"src":"23767:8:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_bool_$","typeString":"mapping(contract IRouter => bool)"}},"id":47347,"indexExpression":{"id":47346,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47340,"src":"23776:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"23767:13:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":47344,"id":47348,"nodeType":"Return","src":"23760:20:46"}]},"functionSelector":"9dda4e4f","implemented":true,"kind":"function","modifiers":[],"name":"getValidAMM","nameLocation":"23696:11:46","parameters":{"id":47341,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47340,"mutability":"mutable","name":"amm","nameLocation":"23716:3:46","nodeType":"VariableDeclaration","scope":47350,"src":"23708:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47339,"nodeType":"UserDefinedTypeName","pathNode":{"id":47338,"name":"IRouter","nameLocations":["23708:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"23708:7:46"},"referencedDeclaration":60678,"src":"23708:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"}],"src":"23707:13:46"},"returnParameters":{"id":47344,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47343,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47350,"src":"23744:4:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":47342,"name":"bool","nodeType":"ElementaryTypeName","src":"23744:4:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"23743:6:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47363,"nodeType":"FunctionDefinition","src":"23793:122:46","nodes":[],"body":{"id":47362,"nodeType":"Block","src":"23874:41:46","nodes":[],"statements":[{"expression":{"baseExpression":{"id":47358,"name":"triggerOrders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48187,"src":"23891:13:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_TriggerOrder_$62114_storage_$","typeString":"mapping(uint256 => struct TriggerOrder storage ref)"}},"id":47360,"indexExpression":{"id":47359,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47352,"src":"23905:2:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"23891:17:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_storage","typeString":"struct TriggerOrder storage ref"}},"functionReturnParameters":47357,"id":47361,"nodeType":"Return","src":"23884:24:46"}]},"functionSelector":"36cef3d9","implemented":true,"kind":"function","modifiers":[],"name":"getTriggerOrder","nameLocation":"23802:15:46","parameters":{"id":47353,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47352,"mutability":"mutable","name":"id","nameLocation":"23826:2:46","nodeType":"VariableDeclaration","scope":47363,"src":"23818:10:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47351,"name":"uint256","nodeType":"ElementaryTypeName","src":"23818:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"23817:12:46"},"returnParameters":{"id":47357,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47356,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47363,"src":"23853:19:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder"},"typeName":{"id":47355,"nodeType":"UserDefinedTypeName","pathNode":{"id":47354,"name":"TriggerOrder","nameLocations":["23853:12:46"],"nodeType":"IdentifierPath","referencedDeclaration":62114,"src":"23853:12:46"},"referencedDeclaration":62114,"src":"23853:12:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_storage_ptr","typeString":"struct TriggerOrder"}},"visibility":"internal"}],"src":"23852:21:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47371,"nodeType":"FunctionDefinition","src":"23921:107:46","nodes":[],"body":{"id":47370,"nodeType":"Block","src":"23986:42:46","nodes":[],"statements":[{"expression":{"id":47368,"name":"minOrderbookMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48193,"src":"24003:18:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":47367,"id":47369,"nodeType":"Return","src":"23996:25:46"}]},"functionSelector":"987362da","implemented":true,"kind":"function","modifiers":[],"name":"getMinOrderbookMargin","nameLocation":"23930:21:46","parameters":{"id":47364,"nodeType":"ParameterList","parameters":[],"src":"23951:2:46"},"returnParameters":{"id":47367,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47366,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47371,"src":"23977:7:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47365,"name":"uint256","nodeType":"ElementaryTypeName","src":"23977:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"23976:9:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47415,"nodeType":"FunctionDefinition","src":"24034:414:46","nodes":[],"body":{"id":47414,"nodeType":"Block","src":"24153:295:46","nodes":[],"statements":[{"assignments":[47384],"declarations":[{"constant":false,"id":47384,"mutability":"mutable","name":"data","nameLocation":"24176:4:46","nodeType":"VariableDeclaration","scope":47414,"src":"24163:17:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":47383,"name":"bytes","nodeType":"ElementaryTypeName","src":"24163:5:46","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":47399,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":47389,"name":"IPositionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60315,"src":"24264:15:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPositionMerger_$60315_$","typeString":"type(contract IPositionMerger)"}},"id":47390,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"24280:23:46","memberName":"getPositionNotionalUpnl","nodeType":"MemberAccess","referencedDeclaration":60314,"src":"24264:39:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_view$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$returns$_t_uint256_$_t_int256_$","typeString":"function IPositionMerger.getPositionNotionalUpnl(contract IRouter,struct Position memory) view returns (uint256,int256)"}},{"components":[{"id":47391,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47374,"src":"24306:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"arguments":[{"id":47393,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47374,"src":"24324:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47394,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47376,"src":"24329:6:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":47392,"name":"_getPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49086,"src":"24311:12:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$_t_struct$_Position_$62026_memory_ptr_$","typeString":"function (contract IRouter,address) view returns (struct Position memory)"}},"id":47395,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"24311:25:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}}],"id":47396,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"24305:32:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$","typeString":"tuple(contract IRouter,struct Position memory)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_view$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$returns$_t_uint256_$_t_int256_$","typeString":"function IPositionMerger.getPositionNotionalUpnl(contract IRouter,struct Position memory) view returns (uint256,int256)"},{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$","typeString":"tuple(contract IRouter,struct Position memory)"}],"expression":{"id":47387,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"24232:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":47388,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"24236:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"24232:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":47397,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"24232:119:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":47385,"name":"positionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45881,"src":"24183:14:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47386,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"24198:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"24183:35:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":47398,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"24183:178:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"24163:198:46"},{"expression":{"id":47412,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":47400,"name":"positionNotional","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47379,"src":"24381:16:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47401,"name":"upnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47381,"src":"24399:4:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"id":47402,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"24380:24:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$","typeString":"tuple(uint256,int256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":47405,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47384,"src":"24418:4:46","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":47407,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"24425:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":47406,"name":"uint256","nodeType":"ElementaryTypeName","src":"24425:7:46","typeDescriptions":{}}},{"id":47409,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"24433:6:46","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":47408,"name":"int256","nodeType":"ElementaryTypeName","src":"24433:6:46","typeDescriptions":{}}}],"id":47410,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"24424:16:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_int256_$_$","typeString":"tuple(type(uint256),type(int256))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_int256_$_$","typeString":"tuple(type(uint256),type(int256))"}],"expression":{"id":47403,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"24407:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":47404,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"24411:6:46","memberName":"decode","nodeType":"MemberAccess","src":"24407:10:46","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":47411,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"24407:34:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$","typeString":"tuple(uint256,int256)"}},"src":"24380:61:46","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47413,"nodeType":"ExpressionStatement","src":"24380:61:46"}]},"functionSelector":"0e86a08d","implemented":true,"kind":"function","modifiers":[],"name":"getPositionNotionalUpnl","nameLocation":"24043:23:46","parameters":{"id":47377,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47374,"mutability":"mutable","name":"amm","nameLocation":"24075:3:46","nodeType":"VariableDeclaration","scope":47415,"src":"24067:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47373,"nodeType":"UserDefinedTypeName","pathNode":{"id":47372,"name":"IRouter","nameLocations":["24067:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"24067:7:46"},"referencedDeclaration":60678,"src":"24067:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47376,"mutability":"mutable","name":"trader","nameLocation":"24088:6:46","nodeType":"VariableDeclaration","scope":47415,"src":"24080:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47375,"name":"address","nodeType":"ElementaryTypeName","src":"24080:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"24066:29:46"},"returnParameters":{"id":47382,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47379,"mutability":"mutable","name":"positionNotional","nameLocation":"24122:16:46","nodeType":"VariableDeclaration","scope":47415,"src":"24114:24:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47378,"name":"uint256","nodeType":"ElementaryTypeName","src":"24114:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47381,"mutability":"mutable","name":"upnl","nameLocation":"24147:4:46","nodeType":"VariableDeclaration","scope":47415,"src":"24140:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47380,"name":"int256","nodeType":"ElementaryTypeName","src":"24140:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"24113:39:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47434,"nodeType":"FunctionDefinition","src":"24454:156:46","nodes":[],"body":{"id":47433,"nodeType":"Block","src":"24536:74:46","nodes":[],"statements":[{"expression":{"arguments":[{"id":47426,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47418,"src":"24572:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"arguments":[{"id":47428,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47418,"src":"24590:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47429,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47420,"src":"24595:6:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":47427,"name":"_getPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49086,"src":"24577:12:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$_t_struct$_Position_$62026_memory_ptr_$","typeString":"function (contract IRouter,address) view returns (struct Position memory)"}},"id":47430,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"24577:25:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}],"id":47425,"name":"_getFreeCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47710,"src":"24553:18:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$returns$_t_int256_$","typeString":"function (contract IRouter,struct Position memory) returns (int256)"}},"id":47431,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"24553:50:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":47424,"id":47432,"nodeType":"Return","src":"24546:57:46"}]},"functionSelector":"33d3bd30","implemented":true,"kind":"function","modifiers":[],"name":"getFreeCollateral","nameLocation":"24463:17:46","parameters":{"id":47421,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47418,"mutability":"mutable","name":"amm","nameLocation":"24489:3:46","nodeType":"VariableDeclaration","scope":47434,"src":"24481:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47417,"nodeType":"UserDefinedTypeName","pathNode":{"id":47416,"name":"IRouter","nameLocations":["24481:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"24481:7:46"},"referencedDeclaration":60678,"src":"24481:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47420,"mutability":"mutable","name":"trader","nameLocation":"24502:6:46","nodeType":"VariableDeclaration","scope":47434,"src":"24494:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47419,"name":"address","nodeType":"ElementaryTypeName","src":"24494:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"24480:29:46"},"returnParameters":{"id":47424,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47423,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47434,"src":"24528:6:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47422,"name":"int256","nodeType":"ElementaryTypeName","src":"24528:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"24527:8:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47451,"nodeType":"FunctionDefinition","src":"24616:139:46","nodes":[],"body":{"id":47450,"nodeType":"Block","src":"24706:49:46","nodes":[],"statements":[{"expression":{"arguments":[{"id":47446,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47437,"src":"24736:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47447,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47439,"src":"24741:6:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":47445,"name":"_getPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49086,"src":"24723:12:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$_t_struct$_Position_$62026_memory_ptr_$","typeString":"function (contract IRouter,address) view returns (struct Position memory)"}},"id":47448,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"24723:25:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},"functionReturnParameters":47444,"id":47449,"nodeType":"Return","src":"24716:32:46"}]},"functionSelector":"b33dc190","implemented":true,"kind":"function","modifiers":[],"name":"getPosition","nameLocation":"24625:11:46","parameters":{"id":47440,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47437,"mutability":"mutable","name":"amm","nameLocation":"24645:3:46","nodeType":"VariableDeclaration","scope":47451,"src":"24637:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47436,"nodeType":"UserDefinedTypeName","pathNode":{"id":47435,"name":"IRouter","nameLocations":["24637:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"24637:7:46"},"referencedDeclaration":60678,"src":"24637:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47439,"mutability":"mutable","name":"trader","nameLocation":"24658:6:46","nodeType":"VariableDeclaration","scope":47451,"src":"24650:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47438,"name":"address","nodeType":"ElementaryTypeName","src":"24650:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"24636:29:46"},"returnParameters":{"id":47444,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47443,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47451,"src":"24689:15:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position"},"typeName":{"id":47442,"nodeType":"UserDefinedTypeName","pathNode":{"id":47441,"name":"Position","nameLocations":["24689:8:46"],"nodeType":"IdentifierPath","referencedDeclaration":62026,"src":"24689:8:46"},"referencedDeclaration":62026,"src":"24689:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_storage_ptr","typeString":"struct Position"}},"visibility":"internal"}],"src":"24688:17:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47464,"nodeType":"FunctionDefinition","src":"24761:127:46","nodes":[],"body":{"id":47463,"nodeType":"Block","src":"24839:49:46","nodes":[],"statements":[{"expression":{"baseExpression":{"id":47459,"name":"openInterestNotional","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48157,"src":"24856:20:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_uint256_$","typeString":"mapping(contract IRouter => uint256)"}},"id":47461,"indexExpression":{"id":47460,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47454,"src":"24877:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"24856:25:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":47458,"id":47462,"nodeType":"Return","src":"24849:32:46"}]},"functionSelector":"429e9237","implemented":true,"kind":"function","modifiers":[],"name":"getOpenInterestNotional","nameLocation":"24770:23:46","parameters":{"id":47455,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47454,"mutability":"mutable","name":"amm","nameLocation":"24802:3:46","nodeType":"VariableDeclaration","scope":47464,"src":"24794:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47453,"nodeType":"UserDefinedTypeName","pathNode":{"id":47452,"name":"IRouter","nameLocations":["24794:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"24794:7:46"},"referencedDeclaration":60678,"src":"24794:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"}],"src":"24793:13:46"},"returnParameters":{"id":47458,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47457,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47464,"src":"24830:7:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47456,"name":"uint256","nodeType":"ElementaryTypeName","src":"24830:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"24829:9:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47478,"nodeType":"FunctionDefinition","src":"24894:138:46","nodes":[],"body":{"id":47477,"nodeType":"Block","src":"24986:46:46","nodes":[],"statements":[{"expression":{"baseExpression":{"id":47473,"name":"totalPositionSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48152,"src":"25003:17:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_struct$_TotalPositionSize_$62066_storage_$","typeString":"mapping(contract IRouter => struct TotalPositionSize storage ref)"}},"id":47475,"indexExpression":{"id":47474,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47467,"src":"25021:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"25003:22:46","typeDescriptions":{"typeIdentifier":"t_struct$_TotalPositionSize_$62066_storage","typeString":"struct TotalPositionSize storage ref"}},"functionReturnParameters":47472,"id":47476,"nodeType":"Return","src":"24996:29:46"}]},"functionSelector":"e980e16e","implemented":true,"kind":"function","modifiers":[],"name":"getTotalPositionSize","nameLocation":"24903:20:46","parameters":{"id":47468,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47467,"mutability":"mutable","name":"amm","nameLocation":"24932:3:46","nodeType":"VariableDeclaration","scope":47478,"src":"24924:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47466,"nodeType":"UserDefinedTypeName","pathNode":{"id":47465,"name":"IRouter","nameLocations":["24924:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"24924:7:46"},"referencedDeclaration":60678,"src":"24924:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"}],"src":"24923:13:46"},"returnParameters":{"id":47472,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47471,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47478,"src":"24960:24:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_TotalPositionSize_$62066_memory_ptr","typeString":"struct TotalPositionSize"},"typeName":{"id":47470,"nodeType":"UserDefinedTypeName","pathNode":{"id":47469,"name":"TotalPositionSize","nameLocations":["24960:17:46"],"nodeType":"IdentifierPath","referencedDeclaration":62066,"src":"24960:17:46"},"referencedDeclaration":62066,"src":"24960:17:46","typeDescriptions":{"typeIdentifier":"t_struct$_TotalPositionSize_$62066_storage_ptr","typeString":"struct TotalPositionSize"}},"visibility":"internal"}],"src":"24959:26:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47491,"nodeType":"FunctionDefinition","src":"25038:137:46","nodes":[],"body":{"id":47490,"nodeType":"Block","src":"25120:55:46","nodes":[],"statements":[{"expression":{"baseExpression":{"id":47486,"name":"cumulativePremiumFractions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48146,"src":"25137:26:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_int256_$","typeString":"mapping(contract IRouter => int256)"}},"id":47488,"indexExpression":{"id":47487,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47481,"src":"25164:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"25137:31:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":47485,"id":47489,"nodeType":"Return","src":"25130:38:46"}]},"functionSelector":"6ea41e40","implemented":true,"kind":"function","modifiers":[],"name":"getCumulativePremiumFraction","nameLocation":"25047:28:46","parameters":{"id":47482,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47481,"mutability":"mutable","name":"amm","nameLocation":"25084:3:46","nodeType":"VariableDeclaration","scope":47491,"src":"25076:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47480,"nodeType":"UserDefinedTypeName","pathNode":{"id":47479,"name":"IRouter","nameLocations":["25076:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"25076:7:46"},"referencedDeclaration":60678,"src":"25076:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"}],"src":"25075:13:46"},"returnParameters":{"id":47485,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47484,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47491,"src":"25112:6:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47483,"name":"int256","nodeType":"ElementaryTypeName","src":"25112:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"25111:8:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47499,"nodeType":"FunctionDefinition","src":"25181:97:46","nodes":[],"body":{"id":47498,"nodeType":"Block","src":"25241:37:46","nodes":[],"statements":[{"expression":{"id":47496,"name":"divergenceCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48191,"src":"25258:13:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":47495,"id":47497,"nodeType":"Return","src":"25251:20:46"}]},"functionSelector":"5ac3b62d","implemented":true,"kind":"function","modifiers":[],"name":"getDivergenceCap","nameLocation":"25190:16:46","parameters":{"id":47492,"nodeType":"ParameterList","parameters":[],"src":"25206:2:46"},"returnParameters":{"id":47495,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47494,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47499,"src":"25232:7:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47493,"name":"uint256","nodeType":"ElementaryTypeName","src":"25232:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"25231:9:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47512,"nodeType":"FunctionDefinition","src":"25284:116:46","nodes":[],"body":{"id":47511,"nodeType":"Block","src":"25361:39:46","nodes":[],"statements":[{"expression":{"baseExpression":{"id":47507,"name":"limitOrders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48182,"src":"25378:11:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_LimitOrder_$62100_storage_$","typeString":"mapping(uint256 => struct LimitOrder storage ref)"}},"id":47509,"indexExpression":{"id":47508,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47501,"src":"25390:2:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"25378:15:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_storage","typeString":"struct LimitOrder storage ref"}},"functionReturnParameters":47506,"id":47510,"nodeType":"Return","src":"25371:22:46"}]},"functionSelector":"53061026","implemented":true,"kind":"function","modifiers":[],"name":"getLimitOrder","nameLocation":"25293:13:46","parameters":{"id":47502,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47501,"mutability":"mutable","name":"id","nameLocation":"25315:2:46","nodeType":"VariableDeclaration","scope":47512,"src":"25307:10:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47500,"name":"uint256","nodeType":"ElementaryTypeName","src":"25307:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"25306:12:46"},"returnParameters":{"id":47506,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47505,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47512,"src":"25342:17:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_memory_ptr","typeString":"struct LimitOrder"},"typeName":{"id":47504,"nodeType":"UserDefinedTypeName","pathNode":{"id":47503,"name":"LimitOrder","nameLocations":["25342:10:46"],"nodeType":"IdentifierPath","referencedDeclaration":62100,"src":"25342:10:46"},"referencedDeclaration":62100,"src":"25342:10:46","typeDescriptions":{"typeIdentifier":"t_struct$_LimitOrder_$62100_storage_ptr","typeString":"struct LimitOrder"}},"visibility":"internal"}],"src":"25341:19:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47531,"nodeType":"FunctionDefinition","src":"25406:151:46","nodes":[],"body":{"id":47530,"nodeType":"Block","src":"25486:71:46","nodes":[],"statements":[{"expression":{"arguments":[{"id":47523,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47515,"src":"25519:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"arguments":[{"id":47525,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47515,"src":"25537:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47526,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47517,"src":"25542:6:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":47524,"name":"_getPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49086,"src":"25524:12:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$_t_struct$_Position_$62026_memory_ptr_$","typeString":"function (contract IRouter,address) view returns (struct Position memory)"}},"id":47527,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"25524:25:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}],"id":47522,"name":"_isLiquidatable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49068,"src":"25503:15:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$returns$_t_bool_$","typeString":"function (contract IRouter,struct Position memory) view returns (bool)"}},"id":47528,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"25503:47:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":47521,"id":47529,"nodeType":"Return","src":"25496:54:46"}]},"functionSelector":"3966a28b","implemented":true,"kind":"function","modifiers":[],"name":"isLiquidatable","nameLocation":"25415:14:46","parameters":{"id":47518,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47515,"mutability":"mutable","name":"amm","nameLocation":"25438:3:46","nodeType":"VariableDeclaration","scope":47531,"src":"25430:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47514,"nodeType":"UserDefinedTypeName","pathNode":{"id":47513,"name":"IRouter","nameLocations":["25430:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"25430:7:46"},"referencedDeclaration":60678,"src":"25430:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47517,"mutability":"mutable","name":"trader","nameLocation":"25451:6:46","nodeType":"VariableDeclaration","scope":47531,"src":"25443:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47516,"name":"address","nodeType":"ElementaryTypeName","src":"25443:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"25429:29:46"},"returnParameters":{"id":47521,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47520,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47531,"src":"25480:4:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":47519,"name":"bool","nodeType":"ElementaryTypeName","src":"25480:4:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"25479:6:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":47579,"nodeType":"FunctionDefinition","src":"25563:415:46","nodes":[],"body":{"id":47578,"nodeType":"Block","src":"25633:345:46","nodes":[],"statements":[{"assignments":[47540],"declarations":[{"constant":false,"id":47540,"mutability":"mutable","name":"order","nameLocation":"25663:5:46","nodeType":"VariableDeclaration","scope":47578,"src":"25643:25:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder"},"typeName":{"id":47539,"nodeType":"UserDefinedTypeName","pathNode":{"id":47538,"name":"TriggerOrder","nameLocations":["25643:12:46"],"nodeType":"IdentifierPath","referencedDeclaration":62114,"src":"25643:12:46"},"referencedDeclaration":62114,"src":"25643:12:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_storage_ptr","typeString":"struct TriggerOrder"}},"visibility":"internal"}],"id":47544,"initialValue":{"baseExpression":{"id":47541,"name":"triggerOrders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48187,"src":"25671:13:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_TriggerOrder_$62114_storage_$","typeString":"mapping(uint256 => struct TriggerOrder storage ref)"}},"id":47543,"indexExpression":{"id":47542,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47533,"src":"25685:2:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"25671:17:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_storage","typeString":"struct TriggerOrder storage ref"}},"nodeType":"VariableDeclarationStatement","src":"25643:45:46"},{"assignments":[47546],"declarations":[{"constant":false,"id":47546,"mutability":"mutable","name":"size","nameLocation":"25706:4:46","nodeType":"VariableDeclaration","scope":47578,"src":"25699:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47545,"name":"int256","nodeType":"ElementaryTypeName","src":"25699:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":47554,"initialValue":{"expression":{"arguments":[{"expression":{"id":47548,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47540,"src":"25726:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":47549,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"25732:3:46","memberName":"amm","nodeType":"MemberAccess","referencedDeclaration":62105,"src":"25726:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"expression":{"id":47550,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47540,"src":"25737:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":47551,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"25743:6:46","memberName":"trader","nodeType":"MemberAccess","referencedDeclaration":62102,"src":"25737:12:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_address","typeString":"address"}],"id":47547,"name":"_getPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49086,"src":"25713:12:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_address_$returns$_t_struct$_Position_$62026_memory_ptr_$","typeString":"function (contract IRouter,address) view returns (struct Position memory)"}},"id":47552,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"25713:37:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},"id":47553,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"25751:4:46","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":62017,"src":"25713:42:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"25699:56:46"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":47557,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47555,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47546,"src":"25770:4:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":47556,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"25778:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"25770:9:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47560,"nodeType":"IfStatement","src":"25766:27:46","trueBody":{"expression":{"hexValue":"66616c7365","id":47558,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"25788:5:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":47537,"id":47559,"nodeType":"Return","src":"25781:12:46"}},{"expression":{"arguments":[{"expression":{"id":47562,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47540,"src":"25845:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":47563,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"25851:3:46","memberName":"amm","nodeType":"MemberAccess","referencedDeclaration":62105,"src":"25845:9:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":47566,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47564,"name":"size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47546,"src":"25869:4:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":47565,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"25876:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"25869:8:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"expression":{"id":47569,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"25892:4:46","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Side_$61966_$","typeString":"type(enum Side)"}},"id":47570,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"25897:5:46","memberName":"SHORT","nodeType":"MemberAccess","referencedDeclaration":61965,"src":"25892:10:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"id":47571,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"25869:33:46","trueExpression":{"expression":{"id":47567,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"25880:4:46","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Side_$61966_$","typeString":"type(enum Side)"}},"id":47568,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"25885:4:46","memberName":"LONG","nodeType":"MemberAccess","referencedDeclaration":61964,"src":"25880:9:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},{"expression":{"id":47572,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47540,"src":"25917:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":47573,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"25923:7:46","memberName":"trigger","nodeType":"MemberAccess","referencedDeclaration":62107,"src":"25917:13:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":47574,"name":"order","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47540,"src":"25945:5:46","typeDescriptions":{"typeIdentifier":"t_struct$_TriggerOrder_$62114_memory_ptr","typeString":"struct TriggerOrder memory"}},"id":47575,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"25951:10:46","memberName":"takeProfit","nodeType":"MemberAccess","referencedDeclaration":62113,"src":"25945:16:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":47561,"name":"_isTriggerOrderValid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47767,"src":"25811:20:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_bool_$returns$_t_bool_$","typeString":"function (contract IRouter,enum Side,uint256,bool) view returns (bool)"}},"id":47576,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"25811:160:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":47537,"id":47577,"nodeType":"Return","src":"25804:167:46"}]},"functionSelector":"dd2a65ed","implemented":true,"kind":"function","modifiers":[],"name":"isTriggerOrderValid","nameLocation":"25572:19:46","parameters":{"id":47534,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47533,"mutability":"mutable","name":"id","nameLocation":"25600:2:46","nodeType":"VariableDeclaration","scope":47579,"src":"25592:10:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47532,"name":"uint256","nodeType":"ElementaryTypeName","src":"25592:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"25591:12:46"},"returnParameters":{"id":47537,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47536,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47579,"src":"25627:4:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":47535,"name":"bool","nodeType":"ElementaryTypeName","src":"25627:4:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"25626:6:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47597,"nodeType":"FunctionDefinition","src":"25984:152:46","nodes":[],"body":{"id":47596,"nodeType":"Block","src":"26083:53:46","nodes":[],"statements":[{"expression":{"baseExpression":{"baseExpression":{"id":47590,"name":"reduceOnlyOrders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48169,"src":"26100:16:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_contract$_IRouter_$60678_$_t_array$_t_uint256_$dyn_storage_$_$","typeString":"mapping(address => mapping(contract IRouter => uint256[] storage ref))"}},"id":47592,"indexExpression":{"id":47591,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47581,"src":"26117:6:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"26100:24:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_array$_t_uint256_$dyn_storage_$","typeString":"mapping(contract IRouter => uint256[] storage ref)"}},"id":47594,"indexExpression":{"id":47593,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47584,"src":"26125:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"26100:29:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"functionReturnParameters":47589,"id":47595,"nodeType":"Return","src":"26093:36:46"}]},"functionSelector":"73af0205","implemented":true,"kind":"function","modifiers":[],"name":"getReduceOnlyOrders","nameLocation":"25993:19:46","parameters":{"id":47585,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47581,"mutability":"mutable","name":"trader","nameLocation":"26021:6:46","nodeType":"VariableDeclaration","scope":47597,"src":"26013:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47580,"name":"address","nodeType":"ElementaryTypeName","src":"26013:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47584,"mutability":"mutable","name":"amm","nameLocation":"26037:3:46","nodeType":"VariableDeclaration","scope":47597,"src":"26029:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47583,"nodeType":"UserDefinedTypeName","pathNode":{"id":47582,"name":"IRouter","nameLocations":["26029:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"26029:7:46"},"referencedDeclaration":60678,"src":"26029:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"}],"src":"26012:29:46"},"returnParameters":{"id":47589,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47588,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47597,"src":"26065:16:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47586,"name":"uint256","nodeType":"ElementaryTypeName","src":"26065:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47587,"nodeType":"ArrayTypeName","src":"26065:9:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"26064:18:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47615,"nodeType":"FunctionDefinition","src":"26142:152:46","nodes":[],"body":{"id":47614,"nodeType":"Block","src":"26238:56:46","nodes":[],"statements":[{"expression":{"baseExpression":{"baseExpression":{"id":47608,"name":"traderTriggerOrders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48177,"src":"26255:19:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_contract$_IRouter_$60678_$_t_array$_t_uint256_$dyn_storage_$_$","typeString":"mapping(address => mapping(contract IRouter => uint256[] storage ref))"}},"id":47610,"indexExpression":{"id":47609,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47599,"src":"26275:6:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"26255:27:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_array$_t_uint256_$dyn_storage_$","typeString":"mapping(contract IRouter => uint256[] storage ref)"}},"id":47612,"indexExpression":{"id":47611,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47602,"src":"26283:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"26255:32:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"functionReturnParameters":47607,"id":47613,"nodeType":"Return","src":"26248:39:46"}]},"functionSelector":"54b85a3e","implemented":true,"kind":"function","modifiers":[],"name":"getTriggerOrders","nameLocation":"26151:16:46","parameters":{"id":47603,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47599,"mutability":"mutable","name":"trader","nameLocation":"26176:6:46","nodeType":"VariableDeclaration","scope":47615,"src":"26168:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47598,"name":"address","nodeType":"ElementaryTypeName","src":"26168:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":47602,"mutability":"mutable","name":"amm","nameLocation":"26192:3:46","nodeType":"VariableDeclaration","scope":47615,"src":"26184:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47601,"nodeType":"UserDefinedTypeName","pathNode":{"id":47600,"name":"IRouter","nameLocations":["26184:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"26184:7:46"},"referencedDeclaration":60678,"src":"26184:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"}],"src":"26167:29:46"},"returnParameters":{"id":47607,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47606,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47615,"src":"26220:16:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":47604,"name":"uint256","nodeType":"ElementaryTypeName","src":"26220:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47605,"nodeType":"ArrayTypeName","src":"26220:9:46","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"26219:18:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":47710,"nodeType":"FunctionDefinition","src":"26300:859:46","nodes":[],"body":{"id":47709,"nodeType":"Block","src":"26408:751:46","nodes":[],"statements":[{"assignments":[47627],"declarations":[{"constant":false,"id":47627,"mutability":"mutable","name":"data","nameLocation":"26431:4:46","nodeType":"VariableDeclaration","scope":47709,"src":"26418:17:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":47626,"name":"bytes","nodeType":"ElementaryTypeName","src":"26418:5:46","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":47639,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":47632,"name":"IPositionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60315,"src":"26519:15:46","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPositionMerger_$60315_$","typeString":"type(contract IPositionMerger)"}},"id":47633,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"26535:23:46","memberName":"getPositionNotionalUpnl","nodeType":"MemberAccess","referencedDeclaration":60314,"src":"26519:39:46","typeDescriptions":{"typeIdentifier":"t_function_declaration_view$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$returns$_t_uint256_$_t_int256_$","typeString":"function IPositionMerger.getPositionNotionalUpnl(contract IRouter,struct Position memory) view returns (uint256,int256)"}},{"components":[{"id":47634,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47618,"src":"26561:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47635,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47621,"src":"26566:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}}],"id":47636,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"26560:15:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$","typeString":"tuple(contract IRouter,struct Position memory)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_view$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$returns$_t_uint256_$_t_int256_$","typeString":"function IPositionMerger.getPositionNotionalUpnl(contract IRouter,struct Position memory) view returns (uint256,int256)"},{"typeIdentifier":"t_tuple$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$","typeString":"tuple(contract IRouter,struct Position memory)"}],"expression":{"id":47630,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"26487:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":47631,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"26491:10:46","memberName":"encodeCall","nodeType":"MemberAccess","src":"26487:14:46","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":47637,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26487:102:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":47628,"name":"positionMerger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45881,"src":"26438:14:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":47629,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26453:20:46","memberName":"functionDelegateCall","nodeType":"MemberAccess","referencedDeclaration":30264,"src":"26438:35:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$attached_to$_t_address_$","typeString":"function (address,bytes memory) returns (bytes memory)"}},"id":47638,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26438:161:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"26418:181:46"},{"assignments":[47641,47643],"declarations":[{"constant":false,"id":47641,"mutability":"mutable","name":"positionNotional","nameLocation":"26619:16:46","nodeType":"VariableDeclaration","scope":47709,"src":"26611:24:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47640,"name":"uint256","nodeType":"ElementaryTypeName","src":"26611:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47643,"mutability":"mutable","name":"upnl","nameLocation":"26644:4:46","nodeType":"VariableDeclaration","scope":47709,"src":"26637:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47642,"name":"int256","nodeType":"ElementaryTypeName","src":"26637:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":47653,"initialValue":{"arguments":[{"id":47646,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47627,"src":"26663:4:46","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":47648,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"26670:7:46","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":47647,"name":"uint256","nodeType":"ElementaryTypeName","src":"26670:7:46","typeDescriptions":{}}},{"id":47650,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"26678:6:46","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":47649,"name":"int256","nodeType":"ElementaryTypeName","src":"26678:6:46","typeDescriptions":{}}}],"id":47651,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"26669:16:46","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_int256_$_$","typeString":"tuple(type(uint256),type(int256))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_int256_$_$","typeString":"tuple(type(uint256),type(int256))"}],"expression":{"id":47644,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"26652:3:46","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":47645,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"26656:6:46","memberName":"decode","nodeType":"MemberAccess","src":"26652:10:46","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":47652,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26652:34:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$","typeString":"tuple(uint256,int256)"}},"nodeType":"VariableDeclarationStatement","src":"26610:76:46"},{"assignments":[47655],"declarations":[{"constant":false,"id":47655,"mutability":"mutable","name":"margin","nameLocation":"26704:6:46","nodeType":"VariableDeclaration","scope":47709,"src":"26697:13:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47654,"name":"int256","nodeType":"ElementaryTypeName","src":"26697:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":47660,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":47656,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47621,"src":"26713:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},"id":47657,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26722:6:46","memberName":"margin","nodeType":"MemberAccess","referencedDeclaration":62019,"src":"26713:15:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47658,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26729:8:46","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":37212,"src":"26713:24:46","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":47659,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26713:26:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"26697:42:46"},{"assignments":[47662],"declarations":[{"constant":false,"id":47662,"mutability":"mutable","name":"minCollateral","nameLocation":"26757:13:46","nodeType":"VariableDeclaration","scope":47709,"src":"26750:20:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47661,"name":"int256","nodeType":"ElementaryTypeName","src":"26750:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":47671,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":47665,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47663,"name":"upnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47643,"src":"26773:4:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":47664,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"26780:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"26773:8:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":47669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47667,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47655,"src":"26793:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":47668,"name":"upnl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47643,"src":"26802:4:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"26793:13:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":47670,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"26773:33:46","trueExpression":{"id":47666,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47655,"src":"26784:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"26750:56:46"},{"assignments":[47673],"declarations":[{"constant":false,"id":47673,"mutability":"mutable","name":"minMargin","nameLocation":"26824:9:46","nodeType":"VariableDeclaration","scope":47709,"src":"26817:16:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47672,"name":"int256","nodeType":"ElementaryTypeName","src":"26817:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":47679,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47674,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47618,"src":"26836:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"id":47675,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26840:18:46","memberName":"getOpenMarginRatio","nodeType":"MemberAccess","referencedDeclaration":60601,"src":"26836:22:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":47676,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26836:24:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26861:8:46","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":37212,"src":"26836:33:46","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":47678,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26836:35:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"26817:54:46"},{"assignments":[47681],"declarations":[{"constant":false,"id":47681,"mutability":"mutable","name":"marginRequirement","nameLocation":"26889:17:46","nodeType":"VariableDeclaration","scope":47709,"src":"26882:24:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47680,"name":"int256","nodeType":"ElementaryTypeName","src":"26882:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":47682,"nodeType":"VariableDeclarationStatement","src":"26882:24:46"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":47686,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":47683,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47621,"src":"26920:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},"id":47684,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26929:4:46","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":62017,"src":"26920:13:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":47685,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"26936:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"26920:17:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":47703,"nodeType":"Block","src":"27026:76:46","statements":[{"expression":{"id":47701,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47696,"name":"marginRequirement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47681,"src":"27040:17:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":47699,"name":"minMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47673,"src":"27081:9:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":47697,"name":"positionNotional","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47641,"src":"27060:16:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"27077:3:46","memberName":"mul","nodeType":"MemberAccess","referencedDeclaration":61340,"src":"27060:20:46","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256,int256) pure returns (int256)"}},"id":47700,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"27060:31:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"27040:51:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":47702,"nodeType":"ExpressionStatement","src":"27040:51:46"}]},"id":47704,"nodeType":"IfStatement","src":"26916:186:46","trueBody":{"id":47695,"nodeType":"Block","src":"26939:81:46","statements":[{"expression":{"id":47693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47687,"name":"marginRequirement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47681,"src":"26953:17:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":47691,"name":"minMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47673,"src":"26999:9:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"expression":{"id":47688,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47621,"src":"26973:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}},"id":47689,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26982:12:46","memberName":"openNotional","nodeType":"MemberAccess","referencedDeclaration":62021,"src":"26973:21:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47690,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26995:3:46","memberName":"mul","nodeType":"MemberAccess","referencedDeclaration":61340,"src":"26973:25:46","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256,int256) pure returns (int256)"}},"id":47692,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26973:36:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"26953:56:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":47694,"nodeType":"ExpressionStatement","src":"26953:56:46"}]}},{"expression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":47707,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47705,"name":"minCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47662,"src":"27119:13:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":47706,"name":"marginRequirement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47681,"src":"27135:17:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"27119:33:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":47625,"id":47708,"nodeType":"Return","src":"27112:40:46"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_getFreeCollateral","nameLocation":"26309:18:46","parameters":{"id":47622,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47618,"mutability":"mutable","name":"amm","nameLocation":"26336:3:46","nodeType":"VariableDeclaration","scope":47710,"src":"26328:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47617,"nodeType":"UserDefinedTypeName","pathNode":{"id":47616,"name":"IRouter","nameLocations":["26328:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"26328:7:46"},"referencedDeclaration":60678,"src":"26328:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47621,"mutability":"mutable","name":"position","nameLocation":"26357:8:46","nodeType":"VariableDeclaration","scope":47710,"src":"26341:24:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position"},"typeName":{"id":47620,"nodeType":"UserDefinedTypeName","pathNode":{"id":47619,"name":"Position","nameLocations":["26341:8:46"],"nodeType":"IdentifierPath","referencedDeclaration":62026,"src":"26341:8:46"},"referencedDeclaration":62026,"src":"26341:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_storage_ptr","typeString":"struct Position"}},"visibility":"internal"}],"src":"26327:39:46"},"returnParameters":{"id":47625,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47624,"mutability":"mutable","name":"freeCollateral","nameLocation":"26392:14:46","nodeType":"VariableDeclaration","scope":47710,"src":"26385:21:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47623,"name":"int256","nodeType":"ElementaryTypeName","src":"26385:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"26384:23:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":47767,"nodeType":"FunctionDefinition","src":"27165:438:46","nodes":[],"body":{"id":47766,"nodeType":"Block","src":"27282:321:46","nodes":[],"statements":[{"assignments":[47726],"declarations":[{"constant":false,"id":47726,"mutability":"mutable","name":"markPrice","nameLocation":"27300:9:46","nodeType":"VariableDeclaration","scope":47766,"src":"27292:17:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47725,"name":"uint256","nodeType":"ElementaryTypeName","src":"27292:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47730,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47727,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47713,"src":"27312:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"id":47728,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"27316:12:46","memberName":"getMarkPrice","nodeType":"MemberAccess","referencedDeclaration":60545,"src":"27312:16:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":47729,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"27312:18:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"27292:38:46"},{"assignments":[47732],"declarations":[{"constant":false,"id":47732,"mutability":"mutable","name":"invalid","nameLocation":"27346:7:46","nodeType":"VariableDeclaration","scope":47766,"src":"27341:12:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":47731,"name":"bool","nodeType":"ElementaryTypeName","src":"27341:4:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":47733,"nodeType":"VariableDeclarationStatement","src":"27341:12:46"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"},"id":47737,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47734,"name":"side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47716,"src":"27368:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":47735,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"27376:4:46","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Side_$61966_$","typeString":"type(enum Side)"}},"id":47736,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"27381:4:46","memberName":"LONG","nodeType":"MemberAccess","referencedDeclaration":61964,"src":"27376:9:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"src":"27368:17:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":47761,"nodeType":"Block","src":"27482:89:46","statements":[{"expression":{"id":47759,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47750,"name":"invalid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47732,"src":"27496:7:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"id":47751,"name":"takeProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47720,"src":"27506:10:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47757,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47755,"name":"markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47726,"src":"27541:9:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":47756,"name":"trigger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47718,"src":"27553:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"27541:19:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47758,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"27506:54:46","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47754,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47752,"name":"markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47726,"src":"27519:9:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":47753,"name":"trigger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47718,"src":"27531:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"27519:19:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"27496:64:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47760,"nodeType":"ExpressionStatement","src":"27496:64:46"}]},"id":47762,"nodeType":"IfStatement","src":"27364:207:46","trueBody":{"id":47749,"nodeType":"Block","src":"27387:89:46","statements":[{"expression":{"id":47747,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47738,"name":"invalid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47732,"src":"27401:7:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"id":47739,"name":"takeProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47720,"src":"27411:10:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47745,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47743,"name":"markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47726,"src":"27446:9:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":47744,"name":"trigger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47718,"src":"27458:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"27446:19:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47746,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"27411:54:46","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47742,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47740,"name":"markPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47726,"src":"27424:9:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":47741,"name":"trigger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47718,"src":"27436:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"27424:19:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"27401:64:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47748,"nodeType":"ExpressionStatement","src":"27401:64:46"}]}},{"expression":{"id":47764,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"27588:8:46","subExpression":{"id":47763,"name":"invalid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47732,"src":"27589:7:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":47724,"id":47765,"nodeType":"Return","src":"27581:15:46"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_isTriggerOrderValid","nameLocation":"27174:20:46","parameters":{"id":47721,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47713,"mutability":"mutable","name":"amm","nameLocation":"27203:3:46","nodeType":"VariableDeclaration","scope":47767,"src":"27195:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47712,"nodeType":"UserDefinedTypeName","pathNode":{"id":47711,"name":"IRouter","nameLocations":["27195:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"27195:7:46"},"referencedDeclaration":60678,"src":"27195:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47716,"mutability":"mutable","name":"side","nameLocation":"27213:4:46","nodeType":"VariableDeclaration","scope":47767,"src":"27208:9:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"},"typeName":{"id":47715,"nodeType":"UserDefinedTypeName","pathNode":{"id":47714,"name":"Side","nameLocations":["27208:4:46"],"nodeType":"IdentifierPath","referencedDeclaration":61966,"src":"27208:4:46"},"referencedDeclaration":61966,"src":"27208:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"visibility":"internal"},{"constant":false,"id":47718,"mutability":"mutable","name":"trigger","nameLocation":"27227:7:46","nodeType":"VariableDeclaration","scope":47767,"src":"27219:15:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47717,"name":"uint256","nodeType":"ElementaryTypeName","src":"27219:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47720,"mutability":"mutable","name":"takeProfit","nameLocation":"27241:10:46","nodeType":"VariableDeclaration","scope":47767,"src":"27236:15:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":47719,"name":"bool","nodeType":"ElementaryTypeName","src":"27236:4:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"27194:58:46"},"returnParameters":{"id":47724,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47723,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47767,"src":"27276:4:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":47722,"name":"bool","nodeType":"ElementaryTypeName","src":"27276:4:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"27275:6:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":47794,"nodeType":"FunctionDefinition","src":"27792:199:46","nodes":[],"body":{"id":47793,"nodeType":"Block","src":"27889:102:46","nodes":[],"statements":[{"expression":{"id":47784,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":47777,"name":"oldSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47775,"src":"27899:7:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"baseExpression":{"baseExpression":{"id":47778,"name":"positions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48115,"src":"27909:9:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_contract$_IRouter_$60678_$_t_mapping$_t_address_$_t_struct$_Position_$62026_storage_$_$","typeString":"mapping(contract IRouter => mapping(address => struct Position storage ref))"}},"id":47780,"indexExpression":{"id":47779,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47770,"src":"27919:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"27909:14:46","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$62026_storage_$","typeString":"mapping(address => struct Position storage ref)"}},"id":47782,"indexExpression":{"id":47781,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47772,"src":"27924:6:46","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"27909:22:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_storage","typeString":"struct Position storage ref"}},"id":47783,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"27932:4:46","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":62017,"src":"27909:27:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"27899:37:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":47785,"nodeType":"ExpressionStatement","src":"27899:37:46"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":47788,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47786,"name":"oldSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47775,"src":"27950:7:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":47787,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"27961:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"27950:12:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47792,"nodeType":"IfStatement","src":"27946:38:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":47789,"name":"NO_POSITION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48087,"src":"27971:11:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":47790,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"27971:13:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47791,"nodeType":"RevertStatement","src":"27964:20:46"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_assertOpenPosition","nameLocation":"27801:19:46","parameters":{"id":47773,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47770,"mutability":"mutable","name":"amm","nameLocation":"27829:3:46","nodeType":"VariableDeclaration","scope":47794,"src":"27821:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47769,"nodeType":"UserDefinedTypeName","pathNode":{"id":47768,"name":"IRouter","nameLocations":["27821:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"27821:7:46"},"referencedDeclaration":60678,"src":"27821:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47772,"mutability":"mutable","name":"trader","nameLocation":"27842:6:46","nodeType":"VariableDeclaration","scope":47794,"src":"27834:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":47771,"name":"address","nodeType":"ElementaryTypeName","src":"27834:7:46","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"27820:29:46"},"returnParameters":{"id":47776,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47775,"mutability":"mutable","name":"oldSize","nameLocation":"27880:7:46","nodeType":"VariableDeclaration","scope":47794,"src":"27873:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47774,"name":"int256","nodeType":"ElementaryTypeName","src":"27873:6:46","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"27872:16:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":47825,"nodeType":"FunctionDefinition","src":"27997:254:46","nodes":[],"body":{"id":47824,"nodeType":"Block","src":"28086:165:46","nodes":[],"statements":[{"assignments":[47805],"declarations":[{"constant":false,"id":47805,"mutability":"mutable","name":"minRatio","nameLocation":"28104:8:46","nodeType":"VariableDeclaration","scope":47824,"src":"28096:16:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47804,"name":"uint256","nodeType":"ElementaryTypeName","src":"28096:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47809,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47806,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47797,"src":"28115:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"id":47807,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"28119:18:46","memberName":"getOpenMarginRatio","nodeType":"MemberAccess","referencedDeclaration":60601,"src":"28115:22:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":47808,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28115:24:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"28096:43:46"},{"assignments":[47811],"declarations":[{"constant":false,"id":47811,"mutability":"mutable","name":"ratio","nameLocation":"28157:5:46","nodeType":"VariableDeclaration","scope":47824,"src":"28149:13:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47810,"name":"uint256","nodeType":"ElementaryTypeName","src":"28149:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47816,"initialValue":{"arguments":[{"id":47814,"name":"notional","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47801,"src":"28176:8:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":47812,"name":"margin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47799,"src":"28165:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47813,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"28172:3:46","memberName":"div","nodeType":"MemberAccess","referencedDeclaration":61019,"src":"28165:10:46","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":47815,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28165:20:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"28149:36:46"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47819,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47817,"name":"ratio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47811,"src":"28200:5:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":47818,"name":"minRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47805,"src":"28208:8:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"28200:16:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47823,"nodeType":"IfStatement","src":"28196:48:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":47820,"name":"OVER_MAX_LEVERAGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48093,"src":"28225:17:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":47821,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28225:19:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47822,"nodeType":"RevertStatement","src":"28218:26:46"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_assertMaxLeverage","nameLocation":"28006:18:46","parameters":{"id":47802,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47797,"mutability":"mutable","name":"amm","nameLocation":"28033:3:46","nodeType":"VariableDeclaration","scope":47825,"src":"28025:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47796,"nodeType":"UserDefinedTypeName","pathNode":{"id":47795,"name":"IRouter","nameLocations":["28025:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"28025:7:46"},"referencedDeclaration":60678,"src":"28025:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47799,"mutability":"mutable","name":"margin","nameLocation":"28046:6:46","nodeType":"VariableDeclaration","scope":47825,"src":"28038:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47798,"name":"uint256","nodeType":"ElementaryTypeName","src":"28038:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47801,"mutability":"mutable","name":"notional","nameLocation":"28062:8:46","nodeType":"VariableDeclaration","scope":47825,"src":"28054:16:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47800,"name":"uint256","nodeType":"ElementaryTypeName","src":"28054:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"28024:47:46"},"returnParameters":{"id":47803,"nodeType":"ParameterList","parameters":[],"src":"28086:0:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":47850,"nodeType":"FunctionDefinition","src":"28257:207:46","nodes":[],"body":{"id":47849,"nodeType":"Block","src":"28364:100:46","nodes":[],"statements":[{"condition":{"id":47844,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"28378:53:46","subExpression":{"arguments":[{"id":47839,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47828,"src":"28400:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47840,"name":"side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47831,"src":"28405:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},{"id":47841,"name":"trigger","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47833,"src":"28411:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":47842,"name":"takeProfit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47835,"src":"28420:10:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":47838,"name":"_isTriggerOrderValid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47767,"src":"28379:20:46","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IRouter_$60678_$_t_enum$_Side_$61966_$_t_uint256_$_t_bool_$returns$_t_bool_$","typeString":"function (contract IRouter,enum Side,uint256,bool) view returns (bool)"}},"id":47843,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28379:52:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47848,"nodeType":"IfStatement","src":"28374:83:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":47845,"name":"TRIGGER_INVALID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45861,"src":"28440:15:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":47846,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28440:17:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47847,"nodeType":"RevertStatement","src":"28433:24:46"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_assertActiveTriggerOrder","nameLocation":"28266:25:46","parameters":{"id":47836,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47828,"mutability":"mutable","name":"amm","nameLocation":"28300:3:46","nodeType":"VariableDeclaration","scope":47850,"src":"28292:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47827,"nodeType":"UserDefinedTypeName","pathNode":{"id":47826,"name":"IRouter","nameLocations":["28292:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"28292:7:46"},"referencedDeclaration":60678,"src":"28292:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47831,"mutability":"mutable","name":"side","nameLocation":"28310:4:46","nodeType":"VariableDeclaration","scope":47850,"src":"28305:9:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"},"typeName":{"id":47830,"nodeType":"UserDefinedTypeName","pathNode":{"id":47829,"name":"Side","nameLocations":["28305:4:46"],"nodeType":"IdentifierPath","referencedDeclaration":61966,"src":"28305:4:46"},"referencedDeclaration":61966,"src":"28305:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"visibility":"internal"},{"constant":false,"id":47833,"mutability":"mutable","name":"trigger","nameLocation":"28324:7:46","nodeType":"VariableDeclaration","scope":47850,"src":"28316:15:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47832,"name":"uint256","nodeType":"ElementaryTypeName","src":"28316:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":47835,"mutability":"mutable","name":"takeProfit","nameLocation":"28338:10:46","nodeType":"VariableDeclaration","scope":47850,"src":"28333:15:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":47834,"name":"bool","nodeType":"ElementaryTypeName","src":"28333:4:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"28291:58:46"},"returnParameters":{"id":47837,"nodeType":"ParameterList","parameters":[],"src":"28364:0:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":47870,"nodeType":"FunctionDefinition","src":"28470:170:46","nodes":[],"body":{"id":47869,"nodeType":"Block","src":"28552:88:46","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":47864,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":47860,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47853,"src":"28585:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},{"id":47861,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47856,"src":"28590:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position memory"}],"id":47859,"name":"_getFreeCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47710,"src":"28566:18:46","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IRouter_$60678_$_t_struct$_Position_$62026_memory_ptr_$returns$_t_int256_$","typeString":"function (contract IRouter,struct Position memory) returns (int256)"}},"id":47862,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28566:33:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":47863,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"28602:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"28566:37:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47868,"nodeType":"IfStatement","src":"28562:71:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":47865,"name":"INSUFFICIENT_MARGIN","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48105,"src":"28612:19:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":47866,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28612:21:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47867,"nodeType":"RevertStatement","src":"28605:28:46"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_assertMinFreeCollateral","nameLocation":"28479:24:46","parameters":{"id":47857,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47853,"mutability":"mutable","name":"amm","nameLocation":"28512:3:46","nodeType":"VariableDeclaration","scope":47870,"src":"28504:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47852,"nodeType":"UserDefinedTypeName","pathNode":{"id":47851,"name":"IRouter","nameLocations":["28504:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"28504:7:46"},"referencedDeclaration":60678,"src":"28504:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47856,"mutability":"mutable","name":"position","nameLocation":"28533:8:46","nodeType":"VariableDeclaration","scope":47870,"src":"28517:24:46","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_memory_ptr","typeString":"struct Position"},"typeName":{"id":47855,"nodeType":"UserDefinedTypeName","pathNode":{"id":47854,"name":"Position","nameLocations":["28517:8:46"],"nodeType":"IdentifierPath","referencedDeclaration":62026,"src":"28517:8:46"},"referencedDeclaration":62026,"src":"28517:8:46","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$62026_storage_ptr","typeString":"struct Position"}},"visibility":"internal"}],"src":"28503:39:46"},"returnParameters":{"id":47858,"nodeType":"ParameterList","parameters":[],"src":"28552:0:46"},"scope":47932,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":47931,"nodeType":"FunctionDefinition","src":"28646:535:46","nodes":[],"body":{"id":47930,"nodeType":"Block","src":"28714:467:46","nodes":[],"statements":[{"assignments":[47880],"declarations":[{"constant":false,"id":47880,"mutability":"mutable","name":"cap","nameLocation":"28732:3:46","nodeType":"VariableDeclaration","scope":47930,"src":"28724:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47879,"name":"uint256","nodeType":"ElementaryTypeName","src":"28724:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47882,"initialValue":{"id":47881,"name":"divergenceCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48191,"src":"28738:13:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"28724:27:46"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47885,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47883,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47880,"src":"28809:3:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":47884,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"28816:1:46","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"28809:8:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47887,"nodeType":"IfStatement","src":"28805:21:46","trueBody":{"functionReturnParameters":47878,"id":47886,"nodeType":"Return","src":"28819:7:46"}},{"assignments":[47889],"declarations":[{"constant":false,"id":47889,"mutability":"mutable","name":"mark","nameLocation":"28844:4:46","nodeType":"VariableDeclaration","scope":47930,"src":"28836:12:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47888,"name":"uint256","nodeType":"ElementaryTypeName","src":"28836:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47893,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47890,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47873,"src":"28851:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"id":47891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"28855:12:46","memberName":"getMarkPrice","nodeType":"MemberAccess","referencedDeclaration":60545,"src":"28851:16:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":47892,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28851:18:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"28836:33:46"},{"assignments":[47895],"declarations":[{"constant":false,"id":47895,"mutability":"mutable","name":"index","nameLocation":"28887:5:46","nodeType":"VariableDeclaration","scope":47930,"src":"28879:13:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47894,"name":"uint256","nodeType":"ElementaryTypeName","src":"28879:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47899,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47896,"name":"amm","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47873,"src":"28895:3:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"id":47897,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"28899:13:46","memberName":"getIndexPrice","nodeType":"MemberAccess","referencedDeclaration":60550,"src":"28895:17:46","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":47898,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28895:19:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"28879:35:46"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"},"id":47910,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47902,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47900,"name":"mark","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47889,"src":"28961:4:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":47901,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47895,"src":"28968:5:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"28961:12:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"expression":{"id":47905,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"28989:4:46","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Side_$61966_$","typeString":"type(enum Side)"}},"id":47906,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"28994:4:46","memberName":"LONG","nodeType":"MemberAccess","referencedDeclaration":61964,"src":"28989:9:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"id":47907,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"28961:37:46","trueExpression":{"expression":{"id":47903,"name":"Side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":61966,"src":"28976:4:46","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Side_$61966_$","typeString":"type(enum Side)"}},"id":47904,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"28981:5:46","memberName":"SHORT","nodeType":"MemberAccess","referencedDeclaration":61965,"src":"28976:10:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}}],"id":47908,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"28960:39:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":47909,"name":"side","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47876,"src":"29003:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"src":"28960:47:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47912,"nodeType":"IfStatement","src":"28956:60:46","trueBody":{"functionReturnParameters":47878,"id":47911,"nodeType":"Return","src":"29009:7:46"}},{"assignments":[47914],"declarations":[{"constant":false,"id":47914,"mutability":"mutable","name":"spread","nameLocation":"29082:6:46","nodeType":"VariableDeclaration","scope":47930,"src":"29074:14:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47913,"name":"uint256","nodeType":"ElementaryTypeName","src":"29074:7:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":47922,"initialValue":{"arguments":[{"id":47920,"name":"mark","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47889,"src":"29112:4:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":47917,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47895,"src":"29101:5:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":47915,"name":"mark","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47889,"src":"29091:4:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47916,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"29096:4:46","memberName":"dist","nodeType":"MemberAccess","referencedDeclaration":61053,"src":"29091:9:46","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":47918,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29091:16:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":47919,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"29108:3:46","memberName":"div","nodeType":"MemberAccess","referencedDeclaration":61019,"src":"29091:20:46","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":47921,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29091:26:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"29074:43:46"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47925,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47923,"name":"spread","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47914,"src":"29132:6:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":47924,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47880,"src":"29141:3:46","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29132:12:46","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":47929,"nodeType":"IfStatement","src":"29128:46:46","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":47926,"name":"OVER_DIVERGENCE_CAP","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45875,"src":"29153:19:46","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":47927,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29153:21:46","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47928,"nodeType":"RevertStatement","src":"29146:28:46"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_assertDivergenceCap","nameLocation":"28655:20:46","parameters":{"id":47877,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47873,"mutability":"mutable","name":"amm","nameLocation":"28684:3:46","nodeType":"VariableDeclaration","scope":47931,"src":"28676:11:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"},"typeName":{"id":47872,"nodeType":"UserDefinedTypeName","pathNode":{"id":47871,"name":"IRouter","nameLocations":["28676:7:46"],"nodeType":"IdentifierPath","referencedDeclaration":60678,"src":"28676:7:46"},"referencedDeclaration":60678,"src":"28676:7:46","typeDescriptions":{"typeIdentifier":"t_contract$_IRouter_$60678","typeString":"contract IRouter"}},"visibility":"internal"},{"constant":false,"id":47876,"mutability":"mutable","name":"side","nameLocation":"28694:4:46","nodeType":"VariableDeclaration","scope":47931,"src":"28689:9:46","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"},"typeName":{"id":47875,"nodeType":"UserDefinedTypeName","pathNode":{"id":47874,"name":"Side","nameLocations":["28689:4:46"],"nodeType":"IdentifierPath","referencedDeclaration":61966,"src":"28689:4:46"},"referencedDeclaration":61966,"src":"28689:4:46","typeDescriptions":{"typeIdentifier":"t_enum$_Side_$61966","typeString":"enum Side"}},"visibility":"internal"}],"src":"28675:24:46"},"returnParameters":{"id":47878,"nodeType":"ParameterList","parameters":[],"src":"28714:0:46"},"scope":47932,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[{"baseName":{"id":45751,"name":"ClearingHouseBase","nameLocations":["1862:17:46"],"nodeType":"IdentifierPath","referencedDeclaration":49957,"src":"1862:17:46"},"id":45752,"nodeType":"InheritanceSpecifier","src":"1862:17:46"},{"baseName":{"id":45753,"name":"Initializable","nameLocations":["1881:13:46"],"nodeType":"IdentifierPath","referencedDeclaration":29969,"src":"1881:13:46"},"id":45754,"nodeType":"InheritanceSpecifier","src":"1881:13:46"},{"baseName":{"id":45755,"name":"AccessControlCH","nameLocations":["1896:15:46"],"nodeType":"IdentifierPath","referencedDeclaration":62587,"src":"1896:15:46"},"id":45756,"nodeType":"InheritanceSpecifier","src":"1896:15:46"}],"canonicalName":"ClearingHouse","contractDependencies":[],"contractKind":"contract","documentation":{"id":45750,"nodeType":"StructuredDocumentation","src":"1742:94:46","text":"@title Clearing House\n @author NFTPerp\n @author rite [NFTP]\n @author yash [NFTP]"},"fullyImplemented":true,"linearizedBaseContracts":[47932,62587,30681,29969,49957],"name":"ClearingHouse","nameLocation":"1845:13:46","scope":47933,"usedErrors":[30493,30496,30499,30502,45851,45853,45855,45857,45859,45861,45863,45865,45867,45869,45871,45873,45875,48087,48089,48091,48093,48095,48097,48099,48101,48103,48105,48107,62537]}],"license":"GPL-3.0-or-later"},"id":46}